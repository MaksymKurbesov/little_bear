const __vite__fileDeps=["assets/Main-D-NkOS8v.js","assets/default-coin-C_SWz9JK.js","assets/Main-DAW7jCZV.css","assets/Friends-nTZ-jEcC.js","assets/Friends-mQObQpFo.css","assets/Leaders-CVxr5zyB.js","assets/Leaders-DbjK4An9.css","assets/DailyReward-Br2xo3zB.js","assets/DailyReward-C4mnMu7a.css","assets/Airdrop-MQ4iDSvv.js","assets/Airdrop-CO6HmUjv.css","assets/Tasks-BW4UsBUt.js","assets/Tasks-6s-KjBYb.css","assets/Settings-BIfARawL.js","assets/Settings-DkIvII14.css","assets/Skins-BHbJR6xS.js","assets/Skins-DN2uOStg.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var oT=Object.defineProperty;var aT=(t,e,n)=>e in t?oT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vd=(t,e,n)=>aT(t,typeof e!="symbol"?e+"":e,n);function K_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function W_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G_={exports:{}},Uc={},Y_={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pl=Symbol.for("react.element"),lT=Symbol.for("react.portal"),uT=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),dT=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),pT=Symbol.for("react.forward_ref"),mT=Symbol.for("react.suspense"),gT=Symbol.for("react.memo"),yT=Symbol.for("react.lazy"),Vg=Symbol.iterator;function vT(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var X_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J_=Object.assign,Z_={};function ho(t,e,n){this.props=t,this.context=e,this.refs=Z_,this.updater=n||X_}ho.prototype.isReactComponent={};ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e0(){}e0.prototype=ho.prototype;function lp(t,e,n){this.props=t,this.context=e,this.refs=Z_,this.updater=n||X_}var up=lp.prototype=new e0;up.constructor=lp;J_(up,ho.prototype);up.isPureReactComponent=!0;var Mg=Array.isArray,t0=Object.prototype.hasOwnProperty,cp={current:null},n0={key:!0,ref:!0,__self:!0,__source:!0};function r0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)t0.call(e,r)&&!n0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pl,type:t,key:s,ref:o,props:i,_owner:cp.current}}function _T(t,e){return{$$typeof:pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dp(t){return typeof t=="object"&&t!==null&&t.$$typeof===pl}function wT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fg=/\/+/g;function Md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wT(""+t.key):e.toString(36)}function Iu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pl:case lT:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Md(o,0):r,Mg(i)?(n="",t!=null&&(n=t.replace(Fg,"$&/")+"/"),Iu(i,e,n,"",function(c){return c})):i!=null&&(dp(i)&&(i=_T(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Mg(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Md(s,a);o+=Iu(s,e,n,u,i)}else if(u=vT(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Md(s,a++),o+=Iu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yl(t,e,n){if(t==null)return t;var r=[],i=0;return Iu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ET(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Cu={transition:null},ST={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Cu,ReactCurrentOwner:cp};function i0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Yl,forEach:function(t,e,n){Yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yl(t,function(){e++}),e},toArray:function(t){return Yl(t,function(e){return e})||[]},only:function(t){if(!dp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=ho;ve.Fragment=uT;ve.Profiler=dT;ve.PureComponent=lp;ve.StrictMode=cT;ve.Suspense=mT;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ST;ve.act=i0;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)t0.call(e,u)&&!n0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pl,type:t.type,key:i,ref:s,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:hT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fT,_context:t},t.Consumer=t};ve.createElement=r0;ve.createFactory=function(t){var e=r0.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:pT,render:t}};ve.isValidElement=dp;ve.lazy=function(t){return{$$typeof:yT,_payload:{_status:-1,_result:t},_init:ET}};ve.memo=function(t,e){return{$$typeof:gT,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Cu.transition;Cu.transition={};try{t()}finally{Cu.transition=e}};ve.unstable_act=i0;ve.useCallback=function(t,e){return qt.current.useCallback(t,e)};ve.useContext=function(t){return qt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return qt.current.useEffect(t,e)};ve.useId=function(){return qt.current.useId()};ve.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return qt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ve.useRef=function(t){return qt.current.useRef(t)};ve.useState=function(t){return qt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return qt.current.useTransition()};ve.version="18.3.1";Y_.exports=ve;var V=Y_.exports;const s0=W_(V),Lf=K_({__proto__:null,default:s0},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT=V,RT=Symbol.for("react.element"),IT=Symbol.for("react.fragment"),CT=Object.prototype.hasOwnProperty,AT=TT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PT={key:!0,ref:!0,__self:!0,__source:!0};function o0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CT.call(e,r)&&!PT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RT,type:t,key:s,ref:o,props:i,_owner:AT.current}}Uc.Fragment=IT;Uc.jsx=o0;Uc.jsxs=o0;G_.exports=Uc;var U=G_.exports,Of={},a0={exports:{}},hn={},l0={exports:{}},u0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,X){var W=B.length;B.push(X);e:for(;0<W;){var le=W-1>>>1,he=B[le];if(0<i(he,X))B[le]=X,B[W]=he,W=le;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var X=B[0],W=B.pop();if(W!==X){B[0]=W;e:for(var le=0,he=B.length,me=he>>>1;le<me;){var nt=2*(le+1)-1,pt=B[nt],mt=nt+1,In=B[mt];if(0>i(pt,W))mt<he&&0>i(In,pt)?(B[le]=In,B[mt]=W,le=mt):(B[le]=pt,B[nt]=W,le=nt);else if(mt<he&&0>i(In,W))B[le]=In,B[mt]=W,le=mt;else break e}}return X}function i(B,X){var W=B.sortIndex-X.sortIndex;return W!==0?W:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,f=3,y=!1,w=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=B)r(c),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(c)}}function S(B){if(I=!1,v(B),!w)if(n(u)!==null)w=!0,we(b);else{var X=n(c);X!==null&&ce(S,X.startTime-B)}}function b(B,X){w=!1,I&&(I=!1,E(_),_=-1),y=!0;var W=f;try{for(v(X),p=n(u);p!==null&&(!(p.expirationTime>X)||B&&!k());){var le=p.callback;if(typeof le=="function"){p.callback=null,f=p.priorityLevel;var he=le(p.expirationTime<=X);X=t.unstable_now(),typeof he=="function"?p.callback=he:p===n(u)&&r(u),v(X)}else r(u);p=n(u)}if(p!==null)var me=!0;else{var nt=n(c);nt!==null&&ce(S,nt.startTime-X),me=!1}return me}finally{p=null,f=W,y=!1}}var A=!1,T=null,_=-1,R=5,P=-1;function k(){return!(t.unstable_now()-P<R)}function N(){if(T!==null){var B=t.unstable_now();P=B;var X=!0;try{X=T(!0,B)}finally{X?D():(A=!1,T=null)}}else A=!1}var D;if(typeof m=="function")D=function(){m(N)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,se=Q.port2;Q.port1.onmessage=N,D=function(){se.postMessage(null)}}else D=function(){C(N,0)};function we(B){T=B,A||(A=!0,D())}function ce(B,X){_=C(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,we(b))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var W=f;f=X;try{return B()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=f;f=B;try{return X()}finally{f=W}},t.unstable_scheduleCallback=function(B,X,W){var le=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?le+W:le):W=le,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=W+he,B={id:d++,callback:X,priorityLevel:B,startTime:W,expirationTime:he,sortIndex:-1},W>le?(B.sortIndex=W,e(c,B),n(u)===null&&B===n(c)&&(I?(E(_),_=-1):I=!0,ce(S,W-le))):(B.sortIndex=he,e(u,B),w||y||(w=!0,we(b))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var X=f;return function(){var W=f;f=X;try{return B.apply(this,arguments)}finally{f=W}}}})(u0);l0.exports=u0;var xT=l0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT=V,dn=xT;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c0=new Set,Na={};function es(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(Na[t]=e,t=0;t<e.length;t++)c0.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,DT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jg={},Ug={};function bT(t){return Vf.call(Ug,t)?!0:Vf.call(jg,t)?!1:DT.test(t)?Ug[t]=!0:(jg[t]=!0,!1)}function NT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LT(t,e,n,r){if(e===null||typeof e>"u"||NT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var fp=/[\-:]([a-z])/g;function hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fp,hp);Ct[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fp,hp);Ct[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fp,hp);Ct[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function pp(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LT(e,n,i,r)&&(n=null),r||i===null?bT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rr=kT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xl=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),Mf=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),f0=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),yp=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),h0=Symbol.for("react.offscreen"),zg=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=zg&&t[zg]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Fd;function ia(t){if(Fd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fd=e&&e[1]||""}return`
`+Fd+t}var jd=!1;function Ud(t,e){if(!t||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function OT(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=Ud(t.type,!1),t;case 11:return t=Ud(t.type.render,!1),t;case 1:return t=Ud(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case Is:return"Portal";case Mf:return"Profiler";case mp:return"StrictMode";case Ff:return"Suspense";case jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f0:return(t.displayName||"Context")+".Consumer";case d0:return(t._context.displayName||"Context")+".Provider";case gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yp:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case Vr:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function VT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function p0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MT(t){var e=p0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jl(t){t._valueTracker||(t._valueTracker=MT(t))}function m0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=p0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zf(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $g(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g0(t,e){e=e.checked,e!=null&&pp(t,"checked",e,!1)}function $f(t,e){g0(t,e);var n=ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||qu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function Us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(sa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ei(n)}}function y0(t,e){var n=ei(e.value),r=ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zl,_0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zl=Zl||document.createElement("div"),Zl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function La(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FT=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){FT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ha[e]=ha[t]})});function w0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ha.hasOwnProperty(t)&&ha[t]?(""+e).trim():e+"px"}function E0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=w0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jT=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qf(t,e){if(e){if(jT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=null;function vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gf=null,zs=null,$s=null;function Qg(t){if(t=yl(t)){if(typeof Gf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Hc(e),Gf(t.stateNode,t.type,e))}}function S0(t){zs?$s?$s.push(t):$s=[t]:zs=t}function T0(){if(zs){var t=zs,e=$s;if($s=zs=null,Qg(t),e)for(t=0;t<e.length;t++)Qg(e[t])}}function R0(t,e){return t(e)}function I0(){}var zd=!1;function C0(t,e,n){if(zd)return t(e,n);zd=!0;try{return R0(t,e,n)}finally{zd=!1,(zs!==null||$s!==null)&&(I0(),T0())}}function Oa(t,e){var n=t.stateNode;if(n===null)return null;var r=Hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Yf=!1;if(yr)try{var $o={};Object.defineProperty($o,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Yf=!1}function UT(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var pa=!1,Hu=null,Qu=!1,Xf=null,zT={onError:function(t){pa=!0,Hu=t}};function $T(t,e,n,r,i,s,o,a,u){pa=!1,Hu=null,UT.apply(zT,arguments)}function BT(t,e,n,r,i,s,o,a,u){if($T.apply(this,arguments),pa){if(pa){var c=Hu;pa=!1,Hu=null}else throw Error(H(198));Qu||(Qu=!0,Xf=c)}}function ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kg(t){if(ts(t)!==t)throw Error(H(188))}function qT(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kg(i),t;if(s===r)return Kg(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function P0(t){return t=qT(t),t!==null?x0(t):null}function x0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=x0(t);if(e!==null)return e;t=t.sibling}return null}var k0=dn.unstable_scheduleCallback,Wg=dn.unstable_cancelCallback,HT=dn.unstable_shouldYield,QT=dn.unstable_requestPaint,Ye=dn.unstable_now,KT=dn.unstable_getCurrentPriorityLevel,_p=dn.unstable_ImmediatePriority,D0=dn.unstable_UserBlockingPriority,Ku=dn.unstable_NormalPriority,WT=dn.unstable_LowPriority,b0=dn.unstable_IdlePriority,zc=null,Yn=null;function GT(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(zc,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:JT,YT=Math.log,XT=Math.LN2;function JT(t){return t>>>=0,t===0?32:31-(YT(t)/XT|0)|0}var eu=64,tu=4194304;function oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oa(a):(s&=o,s!==0&&(r=oa(s)))}else o=n&~i,o!==0?r=oa(o):s!==0&&(r=oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),i=1<<n,r|=t[n],e&=~i;return r}function ZT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=ZT(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Jf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N0(){var t=eu;return eu<<=1,!(eu&4194240)&&(eu=64),t}function $d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function tR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function wp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function L0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O0,Ep,V0,M0,F0,Zf=!1,nu=[],Br=null,qr=null,Hr=null,Va=new Map,Ma=new Map,Fr=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Va.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ma.delete(e.pointerId)}}function Bo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yl(e),e!==null&&Ep(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rR(t,e,n,r,i){switch(e){case"focusin":return Br=Bo(Br,t,e,n,r,i),!0;case"dragenter":return qr=Bo(qr,t,e,n,r,i),!0;case"mouseover":return Hr=Bo(Hr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Va.set(s,Bo(Va.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ma.set(s,Bo(Ma.get(s)||null,t,e,n,r,i)),!0}return!1}function j0(t){var e=xi(t.target);if(e!==null){var n=ts(e);if(n!==null){if(e=n.tag,e===13){if(e=A0(n),e!==null){t.blockedOn=e,F0(t.priority,function(){V0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wf=r,n.target.dispatchEvent(r),Wf=null}else return e=yl(n),e!==null&&Ep(e),t.blockedOn=n,!1;e.shift()}return!0}function Yg(t,e,n){Au(t)&&n.delete(e)}function iR(){Zf=!1,Br!==null&&Au(Br)&&(Br=null),qr!==null&&Au(qr)&&(qr=null),Hr!==null&&Au(Hr)&&(Hr=null),Va.forEach(Yg),Ma.forEach(Yg)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Zf||(Zf=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,iR)))}function Fa(t){function e(i){return qo(i,t)}if(0<nu.length){qo(nu[0],t);for(var n=1;n<nu.length;n++){var r=nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Br!==null&&qo(Br,t),qr!==null&&qo(qr,t),Hr!==null&&qo(Hr,t),Va.forEach(e),Ma.forEach(e),n=0;n<Fr.length;n++)r=Fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fr.length&&(n=Fr[0],n.blockedOn===null);)j0(n),n.blockedOn===null&&Fr.shift()}var Bs=Rr.ReactCurrentBatchConfig,Gu=!0;function sR(t,e,n,r){var i=ke,s=Bs.transition;Bs.transition=null;try{ke=1,Sp(t,e,n,r)}finally{ke=i,Bs.transition=s}}function oR(t,e,n,r){var i=ke,s=Bs.transition;Bs.transition=null;try{ke=4,Sp(t,e,n,r)}finally{ke=i,Bs.transition=s}}function Sp(t,e,n,r){if(Gu){var i=eh(t,e,n,r);if(i===null)Jd(t,e,r,Yu,n),Gg(t,r);else if(rR(i,t,e,n,r))r.stopPropagation();else if(Gg(t,r),e&4&&-1<nR.indexOf(t)){for(;i!==null;){var s=yl(i);if(s!==null&&O0(s),s=eh(t,e,n,r),s===null&&Jd(t,e,r,Yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jd(t,e,r,null,n)}}var Yu=null;function eh(t,e,n,r){if(Yu=null,t=vp(r),t=xi(t),t!==null)if(e=ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function U0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KT()){case _p:return 1;case D0:return 4;case Ku:case WT:return 16;case b0:return 536870912;default:return 16}default:return 16}}var Ur=null,Tp=null,Pu=null;function z0(){if(Pu)return Pu;var t,e=Tp,n=e.length,r,i="value"in Ur?Ur.value:Ur.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pu=i.slice(t,1<r?1-r:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ru(){return!0}function Xg(){return!1}function pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ru:Xg,this.isPropagationStopped=Xg,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ru)},persist:function(){},isPersistent:ru}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=pn(po),gl=He({},po,{view:0,detail:0}),aR=pn(gl),Bd,qd,Ho,$c=He({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(Bd=t.screenX-Ho.screenX,qd=t.screenY-Ho.screenY):qd=Bd=0,Ho=t),Bd)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),Jg=pn($c),lR=He({},$c,{dataTransfer:0}),uR=pn(lR),cR=He({},gl,{relatedTarget:0}),Hd=pn(cR),dR=He({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),fR=pn(dR),hR=He({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pR=pn(hR),mR=He({},po,{data:0}),Zg=pn(mR),gR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vR[t])?!!e[t]:!1}function Ip(){return _R}var wR=He({},gl,{key:function(t){if(t.key){var e=gR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ER=pn(wR),SR=He({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=pn(SR),TR=He({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),RR=pn(TR),IR=He({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),CR=pn(IR),AR=He({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PR=pn(AR),xR=[9,13,27,32],Cp=yr&&"CompositionEvent"in window,ma=null;yr&&"documentMode"in document&&(ma=document.documentMode);var kR=yr&&"TextEvent"in window&&!ma,$0=yr&&(!Cp||ma&&8<ma&&11>=ma),ty=" ",ny=!1;function B0(t,e){switch(t){case"keyup":return xR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function DR(t,e){switch(t){case"compositionend":return q0(e);case"keypress":return e.which!==32?null:(ny=!0,ty);case"textInput":return t=e.data,t===ty&&ny?null:t;default:return null}}function bR(t,e){if(As)return t==="compositionend"||!Cp&&B0(t,e)?(t=z0(),Pu=Tp=Ur=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $0&&e.locale!=="ko"?null:e.data;default:return null}}var NR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NR[t.type]:e==="textarea"}function H0(t,e,n,r){S0(r),e=Xu(e,"onChange"),0<e.length&&(n=new Rp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ga=null,ja=null;function LR(t){n1(t,0)}function Bc(t){var e=ks(t);if(m0(e))return t}function OR(t,e){if(t==="change")return e}var Q0=!1;if(yr){var Qd;if(yr){var Kd="oninput"in document;if(!Kd){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Kd=typeof iy.oninput=="function"}Qd=Kd}else Qd=!1;Q0=Qd&&(!document.documentMode||9<document.documentMode)}function sy(){ga&&(ga.detachEvent("onpropertychange",K0),ja=ga=null)}function K0(t){if(t.propertyName==="value"&&Bc(ja)){var e=[];H0(e,ja,t,vp(t)),C0(LR,e)}}function VR(t,e,n){t==="focusin"?(sy(),ga=e,ja=n,ga.attachEvent("onpropertychange",K0)):t==="focusout"&&sy()}function MR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bc(ja)}function FR(t,e){if(t==="click")return Bc(e)}function jR(t,e){if(t==="input"||t==="change")return Bc(e)}function UR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:UR;function Ua(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vf.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ay(t,e){var n=oy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oy(n)}}function W0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G0(){for(var t=window,e=qu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qu(t.document)}return e}function Ap(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zR(t){var e=G0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W0(n.ownerDocument.documentElement,n)){if(r!==null&&Ap(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ay(n,s);var o=ay(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $R=yr&&"documentMode"in document&&11>=document.documentMode,Ps=null,th=null,ya=null,nh=!1;function ly(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nh||Ps==null||Ps!==qu(r)||(r=Ps,"selectionStart"in r&&Ap(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&Ua(ya,r)||(ya=r,r=Xu(th,"onSelect"),0<r.length&&(e=new Rp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ps)))}function iu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xs={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Wd={},Y0={};yr&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function qc(t){if(Wd[t])return Wd[t];if(!xs[t])return t;var e=xs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Y0)return Wd[t]=e[n];return t}var X0=qc("animationend"),J0=qc("animationiteration"),Z0=qc("animationstart"),e1=qc("transitionend"),t1=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){t1.set(t,e),es(e,[t])}for(var Gd=0;Gd<uy.length;Gd++){var Yd=uy[Gd],BR=Yd.toLowerCase(),qR=Yd[0].toUpperCase()+Yd.slice(1);li(BR,"on"+qR)}li(X0,"onAnimationEnd");li(J0,"onAnimationIteration");li(Z0,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(e1,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HR=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BT(r,e,void 0,t),t.currentTarget=null}function n1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;cy(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;cy(i,a,c),s=u}}}if(Qu)throw t=Xf,Qu=!1,Xf=null,t}function Fe(t,e){var n=e[ah];n===void 0&&(n=e[ah]=new Set);var r=t+"__bubble";n.has(r)||(r1(e,t,2,!1),n.add(r))}function Xd(t,e,n){var r=0;e&&(r|=4),r1(n,t,r,e)}var su="_reactListening"+Math.random().toString(36).slice(2);function za(t){if(!t[su]){t[su]=!0,c0.forEach(function(n){n!=="selectionchange"&&(HR.has(n)||Xd(n,!1,t),Xd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[su]||(e[su]=!0,Xd("selectionchange",!1,e))}}function r1(t,e,n,r){switch(U0(e)){case 1:var i=sR;break;case 4:i=oR;break;default:i=Sp}n=i.bind(null,e,n,t),i=void 0,!Yf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}C0(function(){var c=s,d=vp(n),p=[];e:{var f=t1.get(t);if(f!==void 0){var y=Rp,w=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":y=ER;break;case"focusin":w="focus",y=Hd;break;case"focusout":w="blur",y=Hd;break;case"beforeblur":case"afterblur":y=Hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=uR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=RR;break;case X0:case J0:case Z0:y=fR;break;case e1:y=CR;break;case"scroll":y=aR;break;case"wheel":y=PR;break;case"copy":case"cut":case"paste":y=pR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ey}var I=(e&4)!==0,C=!I&&t==="scroll",E=I?f!==null?f+"Capture":null:f;I=[];for(var m=c,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,E!==null&&(S=Oa(m,E),S!=null&&I.push($a(m,S,v)))),C)break;m=m.return}0<I.length&&(f=new y(f,w,null,n,d),p.push({event:f,listeners:I}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Wf&&(w=n.relatedTarget||n.fromElement)&&(xi(w)||w[vr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?xi(w):null,w!==null&&(C=ts(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(I=Jg,S="onMouseLeave",E="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(I=ey,S="onPointerLeave",E="onPointerEnter",m="pointer"),C=y==null?f:ks(y),v=w==null?f:ks(w),f=new I(S,m+"leave",y,n,d),f.target=C,f.relatedTarget=v,S=null,xi(d)===c&&(I=new I(E,m+"enter",w,n,d),I.target=v,I.relatedTarget=C,S=I),C=S,y&&w)t:{for(I=y,E=w,m=0,v=I;v;v=ms(v))m++;for(v=0,S=E;S;S=ms(S))v++;for(;0<m-v;)I=ms(I),m--;for(;0<v-m;)E=ms(E),v--;for(;m--;){if(I===E||E!==null&&I===E.alternate)break t;I=ms(I),E=ms(E)}I=null}else I=null;y!==null&&dy(p,f,y,I,!1),w!==null&&C!==null&&dy(p,C,w,I,!0)}}e:{if(f=c?ks(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var b=OR;else if(ry(f))if(Q0)b=jR;else{b=MR;var A=VR}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=FR);if(b&&(b=b(t,c))){H0(p,b,n,d);break e}A&&A(t,f,c),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Bf(f,"number",f.value)}switch(A=c?ks(c):window,t){case"focusin":(ry(A)||A.contentEditable==="true")&&(Ps=A,th=c,ya=null);break;case"focusout":ya=th=Ps=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,ly(p,n,d);break;case"selectionchange":if($R)break;case"keydown":case"keyup":ly(p,n,d)}var T;if(Cp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else As?B0(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&($0&&n.locale!=="ko"&&(As||_!=="onCompositionStart"?_==="onCompositionEnd"&&As&&(T=z0()):(Ur=d,Tp="value"in Ur?Ur.value:Ur.textContent,As=!0)),A=Xu(c,_),0<A.length&&(_=new Zg(_,t,null,n,d),p.push({event:_,listeners:A}),T?_.data=T:(T=q0(n),T!==null&&(_.data=T)))),(T=kR?DR(t,n):bR(t,n))&&(c=Xu(c,"onBeforeInput"),0<c.length&&(d=new Zg("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=T))}n1(p,e)})}function $a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oa(t,n),s!=null&&r.unshift($a(t,s,i)),s=Oa(t,e),s!=null&&r.push($a(t,s,i))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Oa(n,s),u!=null&&o.unshift($a(n,u,a))):i||(u=Oa(n,s),u!=null&&o.push($a(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function fy(t){return(typeof t=="string"?t:""+t).replace(QR,`
`).replace(KR,"")}function ou(t,e,n){if(e=fy(e),fy(t)!==e&&n)throw Error(H(425))}function Ju(){}var rh=null,ih=null;function sh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,WR=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,GR=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(t){return hy.resolve(null).then(t).catch(YR)}:oh;function YR(t){setTimeout(function(){throw t})}function Zd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fa(e)}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),Wn="__reactFiber$"+mo,Ba="__reactProps$"+mo,vr="__reactContainer$"+mo,ah="__reactEvents$"+mo,XR="__reactListeners$"+mo,JR="__reactHandles$"+mo;function xi(t){var e=t[Wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[Wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=py(t);t!==null;){if(n=t[Wn])return n;t=py(t)}return e}t=n,n=t.parentNode}return null}function yl(t){return t=t[Wn]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Hc(t){return t[Ba]||null}var lh=[],Ds=-1;function ui(t){return{current:t}}function je(t){0>Ds||(t.current=lh[Ds],lh[Ds]=null,Ds--)}function Oe(t,e){Ds++,lh[Ds]=t.current,t.current=e}var ti={},Mt=ui(ti),Wt=ui(!1),ji=ti;function Ys(t,e){var n=t.type.contextTypes;if(!n)return ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function Zu(){je(Wt),je(Mt)}function my(t,e,n){if(Mt.current!==ti)throw Error(H(168));Oe(Mt,e),Oe(Wt,n)}function i1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,VT(t)||"Unknown",i));return He({},n,r)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ti,ji=Mt.current,Oe(Mt,t),Oe(Wt,Wt.current),!0}function gy(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=i1(t,e,ji),r.__reactInternalMemoizedMergedChildContext=t,je(Wt),je(Mt),Oe(Mt,t)):je(Wt),Oe(Wt,n)}var dr=null,Qc=!1,ef=!1;function s1(t){dr===null?dr=[t]:dr.push(t)}function ZR(t){Qc=!0,s1(t)}function ci(){if(!ef&&dr!==null){ef=!0;var t=0,e=ke;try{var n=dr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Qc=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),k0(_p,ci),i}finally{ke=e,ef=!1}}return null}var bs=[],Ns=0,tc=null,nc=0,vn=[],_n=0,Ui=null,hr=1,pr="";function Ri(t,e){bs[Ns++]=nc,bs[Ns++]=tc,tc=t,nc=e}function o1(t,e,n){vn[_n++]=hr,vn[_n++]=pr,vn[_n++]=Ui,Ui=t;var r=hr;t=pr;var i=32-Ln(r)-1;r&=~(1<<i),n+=1;var s=32-Ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Ln(e)+i|n<<i|r,pr=s+t}else hr=1<<s|n<<i|r,pr=t}function Pp(t){t.return!==null&&(Ri(t,1),o1(t,1,0))}function xp(t){for(;t===tc;)tc=bs[--Ns],bs[Ns]=null,nc=bs[--Ns],bs[Ns]=null;for(;t===Ui;)Ui=vn[--_n],vn[_n]=null,pr=vn[--_n],vn[_n]=null,hr=vn[--_n],vn[_n]=null}var ln=null,sn=null,Ue=!1,Nn=null;function a1(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,sn=Qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ui!==null?{id:hr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,sn=null,!0):!1;default:return!1}}function uh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ch(t){if(Ue){var e=sn;if(e){var n=e;if(!yy(t,e)){if(uh(t))throw Error(H(418));e=Qr(n.nextSibling);var r=ln;e&&yy(t,e)?a1(r,n):(t.flags=t.flags&-4097|2,Ue=!1,ln=t)}}else{if(uh(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ue=!1,ln=t}}}function vy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function au(t){if(t!==ln)return!1;if(!Ue)return vy(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sh(t.type,t.memoizedProps)),e&&(e=sn)){if(uh(t))throw l1(),Error(H(418));for(;e;)a1(t,e),e=Qr(e.nextSibling)}if(vy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=ln?Qr(t.stateNode.nextSibling):null;return!0}function l1(){for(var t=sn;t;)t=Qr(t.nextSibling)}function Xs(){sn=ln=null,Ue=!1}function kp(t){Nn===null?Nn=[t]:Nn.push(t)}var eI=Rr.ReactCurrentBatchConfig;function Qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function lu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _y(t){var e=t._init;return e(t._payload)}function u1(t){function e(E,m){if(t){var v=E.deletions;v===null?(E.deletions=[m],E.flags|=16):v.push(m)}}function n(E,m){if(!t)return null;for(;m!==null;)e(E,m),m=m.sibling;return null}function r(E,m){for(E=new Map;m!==null;)m.key!==null?E.set(m.key,m):E.set(m.index,m),m=m.sibling;return E}function i(E,m){return E=Yr(E,m),E.index=0,E.sibling=null,E}function s(E,m,v){return E.index=v,t?(v=E.alternate,v!==null?(v=v.index,v<m?(E.flags|=2,m):v):(E.flags|=2,m)):(E.flags|=1048576,m)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,m,v,S){return m===null||m.tag!==6?(m=lf(v,E.mode,S),m.return=E,m):(m=i(m,v),m.return=E,m)}function u(E,m,v,S){var b=v.type;return b===Cs?d(E,m,v.props.children,S,v.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vr&&_y(b)===m.type)?(S=i(m,v.props),S.ref=Qo(E,m,v),S.return=E,S):(S=Vu(v.type,v.key,v.props,null,E.mode,S),S.ref=Qo(E,m,v),S.return=E,S)}function c(E,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=uf(v,E.mode,S),m.return=E,m):(m=i(m,v.children||[]),m.return=E,m)}function d(E,m,v,S,b){return m===null||m.tag!==7?(m=Mi(v,E.mode,S,b),m.return=E,m):(m=i(m,v),m.return=E,m)}function p(E,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=lf(""+m,E.mode,v),m.return=E,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xl:return v=Vu(m.type,m.key,m.props,null,E.mode,v),v.ref=Qo(E,null,m),v.return=E,v;case Is:return m=uf(m,E.mode,v),m.return=E,m;case Vr:var S=m._init;return p(E,S(m._payload),v)}if(sa(m)||zo(m))return m=Mi(m,E.mode,v,null),m.return=E,m;lu(E,m)}return null}function f(E,m,v,S){var b=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:a(E,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Xl:return v.key===b?u(E,m,v,S):null;case Is:return v.key===b?c(E,m,v,S):null;case Vr:return b=v._init,f(E,m,b(v._payload),S)}if(sa(v)||zo(v))return b!==null?null:d(E,m,v,S,null);lu(E,v)}return null}function y(E,m,v,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return E=E.get(v)||null,a(m,E,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xl:return E=E.get(S.key===null?v:S.key)||null,u(m,E,S,b);case Is:return E=E.get(S.key===null?v:S.key)||null,c(m,E,S,b);case Vr:var A=S._init;return y(E,m,v,A(S._payload),b)}if(sa(S)||zo(S))return E=E.get(v)||null,d(m,E,S,b,null);lu(m,S)}return null}function w(E,m,v,S){for(var b=null,A=null,T=m,_=m=0,R=null;T!==null&&_<v.length;_++){T.index>_?(R=T,T=null):R=T.sibling;var P=f(E,T,v[_],S);if(P===null){T===null&&(T=R);break}t&&T&&P.alternate===null&&e(E,T),m=s(P,m,_),A===null?b=P:A.sibling=P,A=P,T=R}if(_===v.length)return n(E,T),Ue&&Ri(E,_),b;if(T===null){for(;_<v.length;_++)T=p(E,v[_],S),T!==null&&(m=s(T,m,_),A===null?b=T:A.sibling=T,A=T);return Ue&&Ri(E,_),b}for(T=r(E,T);_<v.length;_++)R=y(T,E,_,v[_],S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?_:R.key),m=s(R,m,_),A===null?b=R:A.sibling=R,A=R);return t&&T.forEach(function(k){return e(E,k)}),Ue&&Ri(E,_),b}function I(E,m,v,S){var b=zo(v);if(typeof b!="function")throw Error(H(150));if(v=b.call(v),v==null)throw Error(H(151));for(var A=b=null,T=m,_=m=0,R=null,P=v.next();T!==null&&!P.done;_++,P=v.next()){T.index>_?(R=T,T=null):R=T.sibling;var k=f(E,T,P.value,S);if(k===null){T===null&&(T=R);break}t&&T&&k.alternate===null&&e(E,T),m=s(k,m,_),A===null?b=k:A.sibling=k,A=k,T=R}if(P.done)return n(E,T),Ue&&Ri(E,_),b;if(T===null){for(;!P.done;_++,P=v.next())P=p(E,P.value,S),P!==null&&(m=s(P,m,_),A===null?b=P:A.sibling=P,A=P);return Ue&&Ri(E,_),b}for(T=r(E,T);!P.done;_++,P=v.next())P=y(T,E,_,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?_:P.key),m=s(P,m,_),A===null?b=P:A.sibling=P,A=P);return t&&T.forEach(function(N){return e(E,N)}),Ue&&Ri(E,_),b}function C(E,m,v,S){if(typeof v=="object"&&v!==null&&v.type===Cs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Xl:e:{for(var b=v.key,A=m;A!==null;){if(A.key===b){if(b=v.type,b===Cs){if(A.tag===7){n(E,A.sibling),m=i(A,v.props.children),m.return=E,E=m;break e}}else if(A.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Vr&&_y(b)===A.type){n(E,A.sibling),m=i(A,v.props),m.ref=Qo(E,A,v),m.return=E,E=m;break e}n(E,A);break}else e(E,A);A=A.sibling}v.type===Cs?(m=Mi(v.props.children,E.mode,S,v.key),m.return=E,E=m):(S=Vu(v.type,v.key,v.props,null,E.mode,S),S.ref=Qo(E,m,v),S.return=E,E=S)}return o(E);case Is:e:{for(A=v.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(E,m.sibling),m=i(m,v.children||[]),m.return=E,E=m;break e}else{n(E,m);break}else e(E,m);m=m.sibling}m=uf(v,E.mode,S),m.return=E,E=m}return o(E);case Vr:return A=v._init,C(E,m,A(v._payload),S)}if(sa(v))return w(E,m,v,S);if(zo(v))return I(E,m,v,S);lu(E,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(E,m.sibling),m=i(m,v),m.return=E,E=m):(n(E,m),m=lf(v,E.mode,S),m.return=E,E=m),o(E)):n(E,m)}return C}var Js=u1(!0),c1=u1(!1),rc=ui(null),ic=null,Ls=null,Dp=null;function bp(){Dp=Ls=ic=null}function Np(t){var e=rc.current;je(rc),t._currentValue=e}function dh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qs(t,e){ic=t,Dp=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function Sn(t){var e=t._currentValue;if(Dp!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(ic===null)throw Error(H(308));Ls=t,ic.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var ki=null;function Lp(t){ki===null?ki=[t]:ki.push(t)}function d1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lp(e)):(n.next=i.next,i.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mr=!1;function Op(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_r(t,n)}return i=r.interleaved,i===null?(e.next=e,Lp(r)):(e.next=i.next,i.next=e),r.interleaved=e,_r(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wp(t,n)}}function wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sc(t,e,n,r){var i=t.updateQueue;Mr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,a=s;do{var f=a.lane,y=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,I=a;switch(f=e,y=n,I.tag){case 1:if(w=I.payload,typeof w=="function"){p=w.call(y,p,f);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,f=typeof w=="function"?w.call(y,p,f):w,f==null)break e;p=He({},p,f);break e;case 2:Mr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=p):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$i|=o,t.lanes=o,t.memoizedState=p}}function Ey(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var vl={},Xn=ui(vl),qa=ui(vl),Ha=ui(vl);function Di(t){if(t===vl)throw Error(H(174));return t}function Vp(t,e){switch(Oe(Ha,e),Oe(qa,t),Oe(Xn,vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hf(e,t)}je(Xn),Oe(Xn,e)}function Zs(){je(Xn),je(qa),je(Ha)}function h1(t){Di(Ha.current);var e=Di(Xn.current),n=Hf(e,t.type);e!==n&&(Oe(qa,t),Oe(Xn,n))}function Mp(t){qa.current===t&&(je(Xn),je(qa))}var Be=ui(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tf=[];function Fp(){for(var t=0;t<tf.length;t++)tf[t]._workInProgressVersionPrimary=null;tf.length=0}var Du=Rr.ReactCurrentDispatcher,nf=Rr.ReactCurrentBatchConfig,zi=0,qe=null,ot=null,dt=null,ac=!1,va=!1,Qa=0,tI=0;function Dt(){throw Error(H(321))}function jp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function Up(t,e,n,r,i,s){if(zi=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Du.current=t===null||t.memoizedState===null?sI:oI,t=n(r,i),va){s=0;do{if(va=!1,Qa=0,25<=s)throw Error(H(301));s+=1,dt=ot=null,e.updateQueue=null,Du.current=aI,t=n(r,i)}while(va)}if(Du.current=lc,e=ot!==null&&ot.next!==null,zi=0,dt=ot=qe=null,ac=!1,e)throw Error(H(300));return t}function zp(){var t=Qa!==0;return Qa=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=t:dt=dt.next=t,dt}function Tn(){if(ot===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=dt===null?qe.memoizedState:dt.next;if(e!==null)dt=e,ot=t;else{if(t===null)throw Error(H(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?qe.memoizedState=dt=t:dt=dt.next=t}return dt}function Ka(t,e){return typeof e=="function"?e(t):e}function rf(t){var e=Tn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((zi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,qe.lanes|=d,$i|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Mn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,$i|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sf(t){var e=Tn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mn(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function p1(){}function m1(t,e){var n=qe,r=Tn(),i=e(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,$p(v1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Wa(9,y1.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(H(349));zi&30||g1(n,e,i)}return i}function g1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y1(t,e,n,r){e.value=n,e.getSnapshot=r,_1(e)&&w1(t)}function v1(t,e,n){return n(function(){_1(e)&&w1(t)})}function _1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function w1(t){var e=_r(t,1);e!==null&&On(e,t,1,-1)}function Sy(t){var e=Qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:t},e.queue=t,t=t.dispatch=iI.bind(null,qe,t),[e.memoizedState,t]}function Wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E1(){return Tn().memoizedState}function bu(t,e,n,r){var i=Qn();qe.flags|=t,i.memoizedState=Wa(1|e,n,void 0,r===void 0?null:r)}function Kc(t,e,n,r){var i=Tn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&jp(r,o.deps)){i.memoizedState=Wa(e,n,s,r);return}}qe.flags|=t,i.memoizedState=Wa(1|e,n,s,r)}function Ty(t,e){return bu(8390656,8,t,e)}function $p(t,e){return Kc(2048,8,t,e)}function S1(t,e){return Kc(4,2,t,e)}function T1(t,e){return Kc(4,4,t,e)}function R1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I1(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4,4,R1.bind(null,e,t),n)}function Bp(){}function C1(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function A1(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P1(t,e,n){return zi&21?(Mn(n,e)||(n=N0(),qe.lanes|=n,$i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function nI(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=nf.transition;nf.transition={};try{t(!1),e()}finally{ke=n,nf.transition=r}}function x1(){return Tn().memoizedState}function rI(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k1(t))D1(e,n);else if(n=d1(t,e,n,r),n!==null){var i=Bt();On(n,t,r,i),b1(n,e,r)}}function iI(t,e,n){var r=Gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k1(t))D1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var u=e.interleaved;u===null?(i.next=i,Lp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=d1(t,e,i,r),n!==null&&(i=Bt(),On(n,t,r,i),b1(n,e,r))}}function k1(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function D1(t,e){va=ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wp(t,n)}}var lc={readContext:Sn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},sI={readContext:Sn,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:Sn,useEffect:Ty,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bu(4194308,4,R1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return bu(4,2,t,e)},useMemo:function(t,e){var n=Qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rI.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:Sy,useDebugValue:Bp,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=Sy(!1),e=t[0];return t=nI.bind(null,t[1]),Qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=Qn();if(Ue){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),ht===null)throw Error(H(349));zi&30||g1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ty(v1.bind(null,r,s,t),[t]),r.flags|=2048,Wa(9,y1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Qn(),e=ht.identifierPrefix;if(Ue){var n=pr,r=hr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oI={readContext:Sn,useCallback:C1,useContext:Sn,useEffect:$p,useImperativeHandle:I1,useInsertionEffect:S1,useLayoutEffect:T1,useMemo:A1,useReducer:rf,useRef:E1,useState:function(){return rf(Ka)},useDebugValue:Bp,useDeferredValue:function(t){var e=Tn();return P1(e,ot.memoizedState,t)},useTransition:function(){var t=rf(Ka)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:p1,useSyncExternalStore:m1,useId:x1,unstable_isNewReconciler:!1},aI={readContext:Sn,useCallback:C1,useContext:Sn,useEffect:$p,useImperativeHandle:I1,useInsertionEffect:S1,useLayoutEffect:T1,useMemo:A1,useReducer:sf,useRef:E1,useState:function(){return sf(Ka)},useDebugValue:Bp,useDeferredValue:function(t){var e=Tn();return ot===null?e.memoizedState=t:P1(e,ot.memoizedState,t)},useTransition:function(){var t=sf(Ka)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:p1,useSyncExternalStore:m1,useId:x1,unstable_isNewReconciler:!1};function kn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wc={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=Gr(t),s=mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Kr(t,s,i),e!==null&&(On(e,t,i,r),ku(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=Gr(t),s=mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Kr(t,s,i),e!==null&&(On(e,t,i,r),ku(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=Gr(t),i=mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Kr(t,i,r),e!==null&&(On(e,t,r,n),ku(e,t,r))}};function Ry(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ua(n,r)||!Ua(i,s):!0}function N1(t,e,n){var r=!1,i=ti,s=e.contextType;return typeof s=="object"&&s!==null?s=Sn(s):(i=Gt(e)?ji:Mt.current,r=e.contextTypes,s=(r=r!=null)?Ys(t,i):ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Iy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wc.enqueueReplaceState(e,e.state,null)}function hh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Op(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Sn(s):(s=Gt(e)?ji:Mt.current,i.context=Ys(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wc.enqueueReplaceState(i,i.state,null),sc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function eo(t,e){try{var n="",r=e;do n+=OT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function of(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ph(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lI=typeof WeakMap=="function"?WeakMap:Map;function L1(t,e,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cc||(cc=!0,Rh=r),ph(t,e)},n}function O1(t,e,n){n=mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ph(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ph(t,e),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Cy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=SI.bind(null,t,e,n),e.then(t,t))}function Ay(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Py(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mr(-1,1),e.tag=2,Kr(n,e,1))),n.lanes|=1),t)}var uI=Rr.ReactCurrentOwner,Kt=!1;function zt(t,e,n,r){e.child=t===null?c1(e,null,n,r):Js(e,t.child,n,r)}function xy(t,e,n,r,i){n=n.render;var s=e.ref;return qs(e,i),r=Up(t,e,n,r,s,i),n=zp(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Ue&&n&&Pp(e),e.flags|=1,zt(t,e,r,i),e.child)}function ky(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,V1(t,e,s,r,i)):(t=Vu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ua,n(o,r)&&t.ref===e.ref)return wr(t,e,i)}return e.flags|=1,t=Yr(s,r),t.ref=e.ref,t.return=e,e.child=t}function V1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ua(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,wr(t,e,i)}return mh(t,e,n,r,i)}function M1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Vs,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(Vs,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(Vs,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(Vs,tn),tn|=r;return zt(t,e,i,n),e.child}function F1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mh(t,e,n,r,i){var s=Gt(n)?ji:Mt.current;return s=Ys(e,s),qs(e,i),n=Up(t,e,n,r,s,i),r=zp(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wr(t,e,i)):(Ue&&r&&Pp(e),e.flags|=1,zt(t,e,n,i),e.child)}function Dy(t,e,n,r,i){if(Gt(n)){var s=!0;ec(e)}else s=!1;if(qs(e,i),e.stateNode===null)Nu(t,e),N1(e,n,r),hh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Sn(c):(c=Gt(n)?ji:Mt.current,c=Ys(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Iy(e,o,r,c),Mr=!1;var f=e.memoizedState;o.state=f,sc(e,r,o,i),u=e.memoizedState,a!==r||f!==u||Wt.current||Mr?(typeof d=="function"&&(fh(e,n,d,r),u=e.memoizedState),(a=Mr||Ry(e,n,a,r,f,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,f1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:kn(e.type,a),o.props=c,p=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Sn(u):(u=Gt(n)?ji:Mt.current,u=Ys(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==u)&&Iy(e,o,r,u),Mr=!1,f=e.memoizedState,o.state=f,sc(e,r,o,i);var w=e.memoizedState;a!==p||f!==w||Wt.current||Mr?(typeof y=="function"&&(fh(e,n,y,r),w=e.memoizedState),(c=Mr||Ry(e,n,c,r,f,w,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return gh(t,e,n,r,s,i)}function gh(t,e,n,r,i,s){F1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gy(e,n,!1),wr(t,e,s);r=e.stateNode,uI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Js(e,t.child,null,s),e.child=Js(e,null,a,s)):zt(t,e,a,s),e.memoizedState=r.state,i&&gy(e,n,!0),e.child}function j1(t){var e=t.stateNode;e.pendingContext?my(t,e.pendingContext,e.pendingContext!==e.context):e.context&&my(t,e.context,!1),Vp(t,e.containerInfo)}function by(t,e,n,r,i){return Xs(),kp(i),e.flags|=256,zt(t,e,n,r),e.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function U1(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(Be,i&1),t===null)return ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xc(o,r,0,null),t=Mi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vh(n),e.memoizedState=yh,t):qp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Yr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yr(a,s):(s=Mi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=yh,r}return s=t.child,t=s.sibling,r=Yr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qp(t,e){return e=Xc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uu(t,e,n,r){return r!==null&&kp(r),Js(e,t.child,null,n),t=qp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=of(Error(H(422))),uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xc({mode:"visible",children:r.children},i,0,null),s=Mi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Js(e,t.child,null,o),e.child.memoizedState=vh(o),e.memoizedState=yh,s);if(!(e.mode&1))return uu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=of(s,r,void 0),uu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_r(t,i),On(r,t,i,-1))}return Yp(),r=of(Error(H(421))),uu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,sn=Qr(i.nextSibling),ln=e,Ue=!0,Nn=null,t!==null&&(vn[_n++]=hr,vn[_n++]=pr,vn[_n++]=Ui,hr=t.id,pr=t.overflow,Ui=e),e=qp(e,r.children),e.flags|=4096,e)}function Ny(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dh(t.return,e,n)}function af(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function z1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,n,e);else if(t.tag===19)Ny(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),af(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}af(e,!0,n,null,s);break;case"together":af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dI(t,e,n){switch(e.tag){case 3:j1(e),Xs();break;case 5:h1(e);break;case 1:Gt(e.type)&&ec(e);break;case 4:Vp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(rc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?U1(t,e,n):(Oe(Be,Be.current&1),t=wr(t,e,n),t!==null?t.sibling:null);Oe(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return z1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,M1(t,e,n)}return wr(t,e,n)}var $1,_h,B1,q1;$1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_h=function(){};B1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Di(Xn.current);var s=null;switch(n){case"input":i=zf(t,i),r=zf(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=qf(t,i),r=qf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}Qf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Na.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Na.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Fe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};q1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ko(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fI(t,e,n){var r=e.pendingProps;switch(xp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Gt(e.type)&&Zu(),bt(e),null;case 3:return r=e.stateNode,Zs(),je(Wt),je(Mt),Fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(Ah(Nn),Nn=null))),_h(t,e),bt(e),null;case 5:Mp(e);var i=Di(Ha.current);if(n=e.type,t!==null&&e.stateNode!=null)B1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return bt(e),null}if(t=Di(Xn.current),au(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Wn]=e,r[Ba]=s,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<aa.length;i++)Fe(aa[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":$g(r,s),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",r);break;case"textarea":qg(r,s),Fe("invalid",r)}Qf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ou(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ou(r.textContent,a,t),i=["children",""+a]):Na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Jl(r),Bg(r,s,!0);break;case"textarea":Jl(r),Hg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Wn]=e,t[Ba]=r,$1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kf(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<aa.length;i++)Fe(aa[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":$g(t,r),i=zf(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":qg(t,r),i=qf(t,r),Fe("invalid",t);break;default:i=r}Qf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?E0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&La(t,u):typeof u=="number"&&La(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Na.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Fe("scroll",t):u!=null&&pp(t,s,u,o))}switch(n){case"input":Jl(t),Bg(t,r,!1);break;case"textarea":Jl(t),Hg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Us(t,!!r.multiple,s,!1):r.defaultValue!=null&&Us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)q1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Di(Ha.current),Di(Xn.current),au(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wn]=e,(s=r.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ou(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=e,e.stateNode=r}return bt(e),null;case 13:if(je(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&sn!==null&&e.mode&1&&!(e.flags&128))l1(),Xs(),e.flags|=98560,s=!1;else if(s=au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Wn]=e}else Xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else Nn!==null&&(Ah(Nn),Nn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?at===0&&(at=3):Yp())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Zs(),_h(t,e),t===null&&za(e.stateNode.containerInfo),bt(e),null;case 10:return Np(e.type._context),bt(e),null;case 17:return Gt(e.type)&&Zu(),bt(e),null;case 19:if(je(Be),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ko(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oc(t),o!==null){for(e.flags|=128,Ko(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ye()>to&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304)}else{if(!r)if(t=oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ko(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return bt(e),null}else 2*Ye()-s.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,r=!0,Ko(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ye(),e.sibling=null,n=Be.current,Oe(Be,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Gp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function hI(t,e){switch(xp(e),e.tag){case 1:return Gt(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zs(),je(Wt),je(Mt),Fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mp(e),null;case 13:if(je(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Be),null;case 4:return Zs(),null;case 10:return Np(e.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var cu=!1,Ot=!1,pI=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function wh(t,e,n){try{n()}catch(r){We(t,e,r)}}var Ly=!1;function mI(t,e){if(rh=Gu,t=G0(),Ap(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,f=null;t:for(;;){for(var y;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)f=p,p=y;for(;;){if(p===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(u=o),(y=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ih={focusedElem:t,selectionRange:n},Gu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var I=w.memoizedProps,C=w.memoizedState,E=e.stateNode,m=E.getSnapshotBeforeUpdate(e.elementType===e.type?I:kn(e.type,I),C);E.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(S){We(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=Ly,Ly=!1,w}function _a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wh(e,n,s)}i=i.next}while(i!==r)}}function Gc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function H1(t){var e=t.alternate;e!==null&&(t.alternate=null,H1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wn],delete e[Ba],delete e[ah],delete e[XR],delete e[JR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q1(t){return t.tag===5||t.tag===3||t.tag===4}function Oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(Sh(t,e,n),t=t.sibling;t!==null;)Sh(t,e,n),t=t.sibling}function Th(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Th(t,e,n),t=t.sibling;t!==null;)Th(t,e,n),t=t.sibling}var _t=null,Dn=!1;function br(t,e,n){for(n=n.child;n!==null;)K1(t,e,n),n=n.sibling}function K1(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(zc,n)}catch{}switch(n.tag){case 5:Ot||Os(n,e);case 6:var r=_t,i=Dn;_t=null,br(t,e,n),_t=r,Dn=i,_t!==null&&(Dn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Dn?(t=_t,n=n.stateNode,t.nodeType===8?Zd(t.parentNode,n):t.nodeType===1&&Zd(t,n),Fa(t)):Zd(_t,n.stateNode));break;case 4:r=_t,i=Dn,_t=n.stateNode.containerInfo,Dn=!0,br(t,e,n),_t=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wh(n,e,o),i=i.next}while(i!==r)}br(t,e,n);break;case 1:if(!Ot&&(Os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}br(t,e,n);break;case 21:br(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,br(t,e,n),Ot=r):br(t,e,n);break;default:br(t,e,n)}}function Vy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pI),e.forEach(function(r){var i=RI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Dn=!1;break e;case 3:_t=a.stateNode.containerInfo,Dn=!0;break e;case 4:_t=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(_t===null)throw Error(H(160));K1(s,o,i),_t=null,Dn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W1(e,t),e=e.sibling}function W1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Hn(t),r&4){try{_a(3,t,t.return),Gc(3,t)}catch(I){We(t,t.return,I)}try{_a(5,t,t.return)}catch(I){We(t,t.return,I)}}break;case 1:xn(e,t),Hn(t),r&512&&n!==null&&Os(n,n.return);break;case 5:if(xn(e,t),Hn(t),r&512&&n!==null&&Os(n,n.return),t.flags&32){var i=t.stateNode;try{La(i,"")}catch(I){We(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&g0(i,s),Kf(a,o);var c=Kf(a,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?E0(i,p):d==="dangerouslySetInnerHTML"?_0(i,p):d==="children"?La(i,p):pp(i,d,p,c)}switch(a){case"input":$f(i,s);break;case"textarea":y0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Us(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?Us(i,!!s.multiple,s.defaultValue,!0):Us(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ba]=s}catch(I){We(t,t.return,I)}}break;case 6:if(xn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){We(t,t.return,I)}}break;case 3:if(xn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fa(e.containerInfo)}catch(I){We(t,t.return,I)}break;case 4:xn(e,t),Hn(t);break;case 13:xn(e,t),Hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kp=Ye())),r&4&&Vy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(c=Ot)||d,xn(e,t),Ot=c):xn(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(p=Z=d;Z!==null;){switch(f=Z,y=f.child,f.tag){case 0:case 11:case 14:case 15:_a(4,f,f.return);break;case 1:Os(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(I){We(r,n,I)}}break;case 5:Os(f,f.return);break;case 22:if(f.memoizedState!==null){Fy(p);continue}}y!==null?(y.return=f,Z=y):Fy(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=w0("display",o))}catch(I){We(t,t.return,I)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(I){We(t,t.return,I)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xn(e,t),Hn(t),r&4&&Vy(t);break;case 21:break;default:xn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q1(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(La(i,""),r.flags&=-33);var s=Oy(t);Th(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Oy(t);Sh(t,a,o);break;default:throw Error(H(161))}}catch(u){We(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gI(t,e,n){Z=t,G1(t)}function G1(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ot;a=cu;var c=Ot;if(cu=o,(Ot=u)&&!c)for(Z=i;Z!==null;)o=Z,u=o.child,o.tag===22&&o.memoizedState!==null?jy(i):u!==null?(u.return=o,Z=u):jy(i);for(;s!==null;)Z=s,G1(s),s=s.sibling;Z=i,cu=a,Ot=c}My(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):My(t)}}function My(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Gc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ey(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ey(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Fa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ot||e.flags&512&&Eh(e)}catch(f){We(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Fy(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function jy(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gc(4,e)}catch(u){We(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){We(e,i,u)}}var s=e.return;try{Eh(e)}catch(u){We(e,s,u)}break;case 5:var o=e.return;try{Eh(e)}catch(u){We(e,o,u)}}}catch(u){We(e,e.return,u)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var yI=Math.ceil,uc=Rr.ReactCurrentDispatcher,Hp=Rr.ReactCurrentOwner,En=Rr.ReactCurrentBatchConfig,Re=0,ht=null,et=null,Rt=0,tn=0,Vs=ui(0),at=0,Ga=null,$i=0,Yc=0,Qp=0,wa=null,Qt=null,Kp=0,to=1/0,cr=null,cc=!1,Rh=null,Wr=null,du=!1,zr=null,dc=0,Ea=0,Ih=null,Lu=-1,Ou=0;function Bt(){return Re&6?Ye():Lu!==-1?Lu:Lu=Ye()}function Gr(t){return t.mode&1?Re&2&&Rt!==0?Rt&-Rt:eI.transition!==null?(Ou===0&&(Ou=N0()),Ou):(t=ke,t!==0||(t=window.event,t=t===void 0?16:U0(t.type)),t):1}function On(t,e,n,r){if(50<Ea)throw Ea=0,Ih=null,Error(H(185));ml(t,n,r),(!(Re&2)||t!==ht)&&(t===ht&&(!(Re&2)&&(Yc|=n),at===4&&jr(t,Rt)),Yt(t,r),n===1&&Re===0&&!(e.mode&1)&&(to=Ye()+500,Qc&&ci()))}function Yt(t,e){var n=t.callbackNode;eR(t,e);var r=Wu(t,t===ht?Rt:0);if(r===0)n!==null&&Wg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wg(n),e===1)t.tag===0?ZR(Uy.bind(null,t)):s1(Uy.bind(null,t)),GR(function(){!(Re&6)&&ci()}),n=null;else{switch(L0(r)){case 1:n=_p;break;case 4:n=D0;break;case 16:n=Ku;break;case 536870912:n=b0;break;default:n=Ku}n=rw(n,Y1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Y1(t,e){if(Lu=-1,Ou=0,Re&6)throw Error(H(327));var n=t.callbackNode;if(Hs()&&t.callbackNode!==n)return null;var r=Wu(t,t===ht?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fc(t,r);else{e=r;var i=Re;Re|=2;var s=J1();(ht!==t||Rt!==e)&&(cr=null,to=Ye()+500,Vi(t,e));do try{wI();break}catch(a){X1(t,a)}while(!0);bp(),uc.current=s,Re=i,et!==null?e=0:(ht=null,Rt=0,e=at)}if(e!==0){if(e===2&&(i=Jf(t),i!==0&&(r=i,e=Ch(t,i))),e===1)throw n=Ga,Vi(t,0),jr(t,r),Yt(t,Ye()),n;if(e===6)jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!vI(i)&&(e=fc(t,r),e===2&&(s=Jf(t),s!==0&&(r=s,e=Ch(t,s))),e===1))throw n=Ga,Vi(t,0),jr(t,r),Yt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ii(t,Qt,cr);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=Kp+500-Ye(),10<e)){if(Wu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oh(Ii.bind(null,t,Qt,cr),e);break}Ii(t,Qt,cr);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yI(r/1960))-r,10<r){t.timeoutHandle=oh(Ii.bind(null,t,Qt,cr),r);break}Ii(t,Qt,cr);break;case 5:Ii(t,Qt,cr);break;default:throw Error(H(329))}}}return Yt(t,Ye()),t.callbackNode===n?Y1.bind(null,t):null}function Ch(t,e){var n=wa;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=fc(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Ah(e)),t}function Ah(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function vI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Qp,e&=~Yc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function Uy(t){if(Re&6)throw Error(H(327));Hs();var e=Wu(t,0);if(!(e&1))return Yt(t,Ye()),null;var n=fc(t,e);if(t.tag!==0&&n===2){var r=Jf(t);r!==0&&(e=r,n=Ch(t,r))}if(n===1)throw n=Ga,Vi(t,0),jr(t,e),Yt(t,Ye()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,Qt,cr),Yt(t,Ye()),null}function Wp(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(to=Ye()+500,Qc&&ci())}}function Bi(t){zr!==null&&zr.tag===0&&!(Re&6)&&Hs();var e=Re;Re|=1;var n=En.transition,r=ke;try{if(En.transition=null,ke=1,t)return t()}finally{ke=r,En.transition=n,Re=e,!(Re&6)&&ci()}}function Gp(){tn=Vs.current,je(Vs)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WR(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(xp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:Zs(),je(Wt),je(Mt),Fp();break;case 5:Mp(r);break;case 4:Zs();break;case 13:je(Be);break;case 19:je(Be);break;case 10:Np(r.type._context);break;case 22:case 23:Gp()}n=n.return}if(ht=t,et=t=Yr(t.current,null),Rt=tn=e,at=0,Ga=null,Qp=Yc=$i=0,Qt=wa=null,ki!==null){for(e=0;e<ki.length;e++)if(n=ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ki=null}return t}function X1(t,e){do{var n=et;try{if(bp(),Du.current=lc,ac){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ac=!1}if(zi=0,dt=ot=qe=null,va=!1,Qa=0,Hp.current=null,n===null||n.return===null){at=1,Ga=e,et=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Rt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Ay(o);if(y!==null){y.flags&=-257,Py(y,o,a,s,e),y.mode&1&&Cy(s,c,e),e=y,u=c;var w=e.updateQueue;if(w===null){var I=new Set;I.add(u),e.updateQueue=I}else w.add(u);break e}else{if(!(e&1)){Cy(s,c,e),Yp();break e}u=Error(H(426))}}else if(Ue&&a.mode&1){var C=Ay(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Py(C,o,a,s,e),kp(eo(u,a));break e}}s=u=eo(u,a),at!==4&&(at=2),wa===null?wa=[s]:wa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=L1(s,u,e);wy(s,E);break e;case 1:a=u;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wr===null||!Wr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=O1(s,a,e);wy(s,S);break e}}s=s.return}while(s!==null)}ew(n)}catch(b){e=b,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function J1(){var t=uc.current;return uc.current=lc,t===null?lc:t}function Yp(){(at===0||at===3||at===2)&&(at=4),ht===null||!($i&268435455)&&!(Yc&268435455)||jr(ht,Rt)}function fc(t,e){var n=Re;Re|=2;var r=J1();(ht!==t||Rt!==e)&&(cr=null,Vi(t,e));do try{_I();break}catch(i){X1(t,i)}while(!0);if(bp(),Re=n,uc.current=r,et!==null)throw Error(H(261));return ht=null,Rt=0,at}function _I(){for(;et!==null;)Z1(et)}function wI(){for(;et!==null&&!HT();)Z1(et)}function Z1(t){var e=nw(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?ew(t):et=e,Hp.current=null}function ew(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hI(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,et=null;return}}else if(n=fI(n,e,tn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);at===0&&(at=5)}function Ii(t,e,n){var r=ke,i=En.transition;try{En.transition=null,ke=1,EI(t,e,n,r)}finally{En.transition=i,ke=r}return null}function EI(t,e,n,r){do Hs();while(zr!==null);if(Re&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tR(t,s),t===ht&&(et=ht=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||du||(du=!0,rw(Ku,function(){return Hs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=ke;ke=1;var a=Re;Re|=4,Hp.current=null,mI(t,n),W1(n,t),zR(ih),Gu=!!rh,ih=rh=null,t.current=n,gI(n),QT(),Re=a,ke=o,En.transition=s}else t.current=n;if(du&&(du=!1,zr=t,dc=i),s=t.pendingLanes,s===0&&(Wr=null),GT(n.stateNode),Yt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cc)throw cc=!1,t=Rh,Rh=null,t;return dc&1&&t.tag!==0&&Hs(),s=t.pendingLanes,s&1?t===Ih?Ea++:(Ea=0,Ih=t):Ea=0,ci(),null}function Hs(){if(zr!==null){var t=L0(dc),e=En.transition,n=ke;try{if(En.transition=null,ke=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,dc=0,Re&6)throw Error(H(331));var i=Re;for(Re|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:_a(8,d,s)}var p=d.child;if(p!==null)p.return=d,Z=p;else for(;Z!==null;){d=Z;var f=d.sibling,y=d.return;if(H1(d),d===c){Z=null;break}if(f!==null){f.return=y,Z=f;break}Z=y}}}var w=s.alternate;if(w!==null){var I=w.child;if(I!==null){w.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_a(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Z=E;break e}Z=s.return}}var m=t.current;for(Z=m;Z!==null;){o=Z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Z=v;else e:for(o=m;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gc(9,a)}}catch(b){We(a,a.return,b)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(Re=i,ci(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(zc,t)}catch{}r=!0}return r}finally{ke=n,En.transition=e}}return!1}function zy(t,e,n){e=eo(n,e),e=L1(t,e,1),t=Kr(t,e,1),e=Bt(),t!==null&&(ml(t,1,e),Yt(t,e))}function We(t,e,n){if(t.tag===3)zy(t,t,n);else for(;e!==null;){if(e.tag===3){zy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){t=eo(n,t),t=O1(e,t,1),e=Kr(e,t,1),t=Bt(),e!==null&&(ml(e,1,t),Yt(e,t));break}}e=e.return}}function SI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(Rt&n)===n&&(at===4||at===3&&(Rt&130023424)===Rt&&500>Ye()-Kp?Vi(t,0):Qp|=n),Yt(t,e)}function tw(t,e){e===0&&(t.mode&1?(e=tu,tu<<=1,!(tu&130023424)&&(tu=4194304)):e=1);var n=Bt();t=_r(t,e),t!==null&&(ml(t,e,n),Yt(t,n))}function TI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tw(t,n)}function RI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),tw(t,n)}var nw;nw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,dI(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Ue&&e.flags&1048576&&o1(e,nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nu(t,e),t=e.pendingProps;var i=Ys(e,Mt.current);qs(e,n),i=Up(null,e,r,t,i,n);var s=zp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(s=!0,ec(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Op(e),i.updater=Wc,e.stateNode=i,i._reactInternals=e,hh(e,r,t,n),e=gh(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&Pp(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CI(r),t=kn(r,t),i){case 0:e=mh(null,e,r,t,n);break e;case 1:e=Dy(null,e,r,t,n);break e;case 11:e=xy(null,e,r,t,n);break e;case 14:e=ky(null,e,r,kn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),mh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Dy(t,e,r,i,n);case 3:e:{if(j1(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,f1(t,e),sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=eo(Error(H(423)),e),e=by(t,e,r,n,i);break e}else if(r!==i){i=eo(Error(H(424)),e),e=by(t,e,r,n,i);break e}else for(sn=Qr(e.stateNode.containerInfo.firstChild),ln=e,Ue=!0,Nn=null,n=c1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),r===i){e=wr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return h1(e),t===null&&ch(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sh(r,i)?o=null:s!==null&&sh(r,s)&&(e.flags|=32),F1(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&ch(e),null;case 13:return U1(t,e,n);case 4:return Vp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Js(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),xy(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(rc,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Wt.current){e=wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=mr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),dh(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qs(e,n),i=Sn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=kn(r,e.pendingProps),i=kn(r.type,i),ky(t,e,r,i,n);case 15:return V1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Nu(t,e),e.tag=1,Gt(r)?(t=!0,ec(e)):t=!1,qs(e,n),N1(e,r,i),hh(e,r,i,n),gh(null,e,r,!0,t,n);case 19:return z1(t,e,n);case 22:return M1(t,e,n)}throw Error(H(156,e.tag))};function rw(t,e){return k0(t,e)}function II(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new II(t,e,n,r)}function Xp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CI(t){if(typeof t=="function")return Xp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gp)return 11;if(t===yp)return 14}return 2}function Yr(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cs:return Mi(n.children,i,s,e);case mp:o=8,i|=8;break;case Mf:return t=wn(12,n,e,i|2),t.elementType=Mf,t.lanes=s,t;case Ff:return t=wn(13,n,e,i),t.elementType=Ff,t.lanes=s,t;case jf:return t=wn(19,n,e,i),t.elementType=jf,t.lanes=s,t;case h0:return Xc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d0:o=10;break e;case f0:o=9;break e;case gp:o=11;break e;case yp:o=14;break e;case Vr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Mi(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function Xc(t,e,n,r){return t=wn(22,t,r,e),t.elementType=h0,t.lanes=n,t.stateNode={isHidden:!1},t}function lf(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function uf(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$d(0),this.expirationTimes=$d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$d(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jp(t,e,n,r,i,s,o,a,u){return t=new AI(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Op(s),t}function PI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iw(t){if(!t)return ti;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Gt(n))return i1(t,n,e)}return e}function sw(t,e,n,r,i,s,o,a,u){return t=Jp(n,r,!0,t,i,s,o,a,u),t.context=iw(null),n=t.current,r=Bt(),i=Gr(n),s=mr(r,i),s.callback=e??null,Kr(n,s,i),t.current.lanes=i,ml(t,i,r),Yt(t,r),t}function Jc(t,e,n,r){var i=e.current,s=Bt(),o=Gr(i);return n=iw(n),e.context===null?e.context=n:e.pendingContext=n,e=mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Kr(i,e,o),t!==null&&(On(t,i,o,s),ku(t,i,o)),o}function hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $y(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zp(t,e){$y(t,e),(t=t.alternate)&&$y(t,e)}function xI(){return null}var ow=typeof reportError=="function"?reportError:function(t){console.error(t)};function em(t){this._internalRoot=t}Zc.prototype.render=em.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Jc(t,e,null,null)};Zc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bi(function(){Jc(null,t,null,null)}),e[vr]=null}};function Zc(t){this._internalRoot=t}Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=M0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fr.length&&e!==0&&e<Fr[n].priority;n++);Fr.splice(n,0,t),n===0&&j0(t)}};function tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function By(){}function kI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=hc(o);s.call(c)}}var o=sw(e,r,t,0,null,!1,!1,"",By);return t._reactRootContainer=o,t[vr]=o.current,za(t.nodeType===8?t.parentNode:t),Bi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=hc(u);a.call(c)}}var u=Jp(t,0,!1,null,null,!1,!1,"",By);return t._reactRootContainer=u,t[vr]=u.current,za(t.nodeType===8?t.parentNode:t),Bi(function(){Jc(e,u,n,r)}),u}function td(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=hc(o);a.call(u)}}Jc(e,o,t,i)}else o=kI(n,e,t,i,r);return hc(o)}O0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oa(e.pendingLanes);n!==0&&(wp(e,n|1),Yt(e,Ye()),!(Re&6)&&(to=Ye()+500,ci()))}break;case 13:Bi(function(){var r=_r(t,1);if(r!==null){var i=Bt();On(r,t,1,i)}}),Zp(t,1)}};Ep=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Bt();On(e,t,134217728,n)}Zp(t,134217728)}};V0=function(t){if(t.tag===13){var e=Gr(t),n=_r(t,e);if(n!==null){var r=Bt();On(n,t,e,r)}Zp(t,e)}};M0=function(){return ke};F0=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Gf=function(t,e,n){switch(e){case"input":if($f(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hc(r);if(!i)throw Error(H(90));m0(r),$f(r,i)}}}break;case"textarea":y0(t,n);break;case"select":e=n.value,e!=null&&Us(t,!!n.multiple,e,!1)}};R0=Wp;I0=Bi;var DI={usingClientEntryPoint:!1,Events:[yl,ks,Hc,S0,T0,Wp]},Wo={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bI={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P0(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||xI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{zc=fu.inject(bI),Yn=fu}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DI;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tm(e))throw Error(H(200));return PI(t,e,null,n)};hn.createRoot=function(t,e){if(!tm(t))throw Error(H(299));var n=!1,r="",i=ow;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jp(t,1,!1,null,null,n,!1,r,i),t[vr]=e.current,za(t.nodeType===8?t.parentNode:t),new em(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=P0(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Bi(t)};hn.hydrate=function(t,e,n){if(!ed(e))throw Error(H(200));return td(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!tm(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ow;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sw(e,null,t,1,n??null,i,!1,s,o),t[vr]=e.current,za(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zc(e)};hn.render=function(t,e,n){if(!ed(e))throw Error(H(200));return td(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!ed(t))throw Error(H(40));return t._reactRootContainer?(Bi(function(){td(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};hn.unstable_batchedUpdates=Wp;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ed(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return td(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function aw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aw)}catch(t){console.error(t)}}aw(),a0.exports=hn;var nm=a0.exports;const NI=W_(nm),LI=K_({__proto__:null,default:NI},[nm]);var qy=nm;Of.createRoot=qy.createRoot,Of.hydrateRoot=qy.hydrateRoot;var Hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(f=64)),r.push(n[d],n[p],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new VI;const f=s<<2|a>>4;if(r.push(f),c!==64){const y=a<<4&240|c>>2;if(r.push(y),p!==64){const w=c<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(t){const e=lw(t);return uw.encodeByteArray(e,!0)},pc=function(t){return MI(t).replace(/\./g,"")},FI=function(t){try{return uw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>jI().__FIREBASE_DEFAULTS__,zI=()=>{if(typeof process>"u"||typeof Hy>"u")return;const t=Hy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FI(t[1]);return e&&JSON.parse(e)},rm=()=>{try{return UI()||zI()||$I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BI=t=>{var e,n;return(n=(e=rm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qI=t=>{const e=BI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cw=()=>{var t;return(t=rm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HI=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pc(JSON.stringify(n)),pc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WI(){var t;const e=(t=rm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GI(){return!WI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YI(){try{return typeof indexedDB=="object"}catch{return!1}}function XI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";class go extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JI,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dw.prototype.create)}}class dw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZI(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new go(i,a,r)}}function ZI(t,e){return t.replace(eC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eC=/\{\$([^}]+)}/g;function mc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Qy(s)&&Qy(o)){if(!mc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Qy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){return t&&t._delegate?t._delegate:t}class Ya{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rC(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nC(t){return t===Ci?void 0:t}function rC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const sC={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},oC=Te.INFO,aC={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},lC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let fw=class{constructor(e){this.name=e,this._logLevel=oC,this._logHandler=lC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}};const uC=(t,e)=>e.some(n=>t instanceof n);let Ky,Wy;function cC(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dC(){return Wy||(Wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hw=new WeakMap,Ph=new WeakMap,pw=new WeakMap,cf=new WeakMap,im=new WeakMap;function fC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Xr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hw.set(n,t)}).catch(()=>{}),im.set(e,t),e}function hC(t){if(Ph.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ph.set(t,e)}let xh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ph.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pC(t){xh=t(xh)}function mC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(df(this),e,...n);return pw.set(r,e.sort?e.sort():[e]),Xr(r)}:dC().includes(t)?function(...e){return t.apply(df(this),e),Xr(hw.get(this))}:function(...e){return Xr(t.apply(df(this),e))}}function gC(t){return typeof t=="function"?mC(t):(t instanceof IDBTransaction&&hC(t),uC(t,cC())?new Proxy(t,xh):t)}function Xr(t){if(t instanceof IDBRequest)return fC(t);if(cf.has(t))return cf.get(t);const e=gC(t);return e!==t&&(cf.set(t,e),im.set(e,t)),e}const df=t=>im.get(t);function yC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Xr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xr(o.result),u.oldVersion,u.newVersion,Xr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const vC=["get","getKey","getAll","getAllKeys","count"],_C=["put","add","delete","clear"],ff=new Map;function Gy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_C.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vC.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return ff.set(e,s),s}pC(t=>({...t,get:(e,n,r)=>Gy(e,n)||t.get(e,n,r),has:(e,n)=>!!Gy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",Yy="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new fw("@firebase/app"),SC="@firebase/app-compat",TC="@firebase/analytics-compat",RC="@firebase/analytics",IC="@firebase/app-check-compat",CC="@firebase/app-check",AC="@firebase/auth",PC="@firebase/auth-compat",xC="@firebase/database",kC="@firebase/database-compat",DC="@firebase/functions",bC="@firebase/functions-compat",NC="@firebase/installations",LC="@firebase/installations-compat",OC="@firebase/messaging",VC="@firebase/messaging-compat",MC="@firebase/performance",FC="@firebase/performance-compat",jC="@firebase/remote-config",UC="@firebase/remote-config-compat",zC="@firebase/storage",$C="@firebase/storage-compat",BC="@firebase/firestore",qC="@firebase/vertexai-preview",HC="@firebase/firestore-compat",QC="firebase",KC="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="[DEFAULT]",WC={[kh]:"fire-core",[SC]:"fire-core-compat",[RC]:"fire-analytics",[TC]:"fire-analytics-compat",[CC]:"fire-app-check",[IC]:"fire-app-check-compat",[AC]:"fire-auth",[PC]:"fire-auth-compat",[xC]:"fire-rtdb",[kC]:"fire-rtdb-compat",[DC]:"fire-fn",[bC]:"fire-fn-compat",[NC]:"fire-iid",[LC]:"fire-iid-compat",[OC]:"fire-fcm",[VC]:"fire-fcm-compat",[MC]:"fire-perf",[FC]:"fire-perf-compat",[jC]:"fire-rc",[UC]:"fire-rc-compat",[zC]:"fire-gcs",[$C]:"fire-gcs-compat",[BC]:"fire-fst",[HC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[QC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,GC=new Map,bh=new Map;function Xy(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yc(t){const e=t.name;if(bh.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;bh.set(e,t);for(const n of gc.values())Xy(n,t);for(const n of GC.values())Xy(n,t);return!0}function YC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new dw("app","Firebase",XC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=KC;function mw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=cw()),!n)throw Jr.create("no-options");const s=gc.get(i);if(s){if(mc(n,s.options)&&mc(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new iC(i);for(const u of bh.values())o.addComponent(u);const a=new JC(n,r,o);return gc.set(i,a),a}function eA(t=Dh){const e=gc.get(t);if(!e&&t===Dh&&cw())return mw();if(!e)throw Jr.create("no-app",{appName:t});return e}function Qs(t,e,n){var r;let i=(r=WC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}yc(new Ya(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",nA=1,Xa="firebase-heartbeat-store";let hf=null;function gw(){return hf||(hf=yC(tA,nA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),hf}async function rA(t){try{const n=(await gw()).transaction(Xa),r=await n.objectStore(Xa).get(yw(t));return await n.done,r}catch(e){if(e instanceof go)qi.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function Jy(t,e){try{const r=(await gw()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,yw(t)),await r.done}catch(n){if(n instanceof go)qi.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function yw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1024,sA=30*24*60*60*1e3;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=sA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zy(),{heartbeatsToSend:r,unsentEntries:i}=aA(this._heartbeatsCache.heartbeats),s=pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Zy(){return new Date().toISOString().substring(0,10)}function aA(t,e=iA){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ev(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ev(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YI()?XI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ev(t){return pc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){yc(new Ya("platform-logger",e=>new wC(e),"PRIVATE")),yc(new Ya("heartbeat",e=>new oA(e),"PRIVATE")),Qs(kh,Yy,t),Qs(kh,Yy,"esm2017"),Qs("fire-js","")}uA("");var cA="firebase",dA="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs(cA,dA,"app");var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,vw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,_){function R(){}R.prototype=_.prototype,T.D=_.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(P,k,N){for(var D=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)D[Q-2]=arguments[Q];return _.prototype[k].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,R){R||(R=0);var P=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)P[k]=_.charCodeAt(R++)|_.charCodeAt(R++)<<8|_.charCodeAt(R++)<<16|_.charCodeAt(R++)<<24;else for(k=0;16>k;++k)P[k]=_[R++]|_[R++]<<8|_[R++]<<16|_[R++]<<24;_=T.g[0],R=T.g[1],k=T.g[2];var N=T.g[3],D=_+(N^R&(k^N))+P[0]+3614090360&4294967295;_=R+(D<<7&4294967295|D>>>25),D=N+(k^_&(R^k))+P[1]+3905402710&4294967295,N=_+(D<<12&4294967295|D>>>20),D=k+(R^N&(_^R))+P[2]+606105819&4294967295,k=N+(D<<17&4294967295|D>>>15),D=R+(_^k&(N^_))+P[3]+3250441966&4294967295,R=k+(D<<22&4294967295|D>>>10),D=_+(N^R&(k^N))+P[4]+4118548399&4294967295,_=R+(D<<7&4294967295|D>>>25),D=N+(k^_&(R^k))+P[5]+1200080426&4294967295,N=_+(D<<12&4294967295|D>>>20),D=k+(R^N&(_^R))+P[6]+2821735955&4294967295,k=N+(D<<17&4294967295|D>>>15),D=R+(_^k&(N^_))+P[7]+4249261313&4294967295,R=k+(D<<22&4294967295|D>>>10),D=_+(N^R&(k^N))+P[8]+1770035416&4294967295,_=R+(D<<7&4294967295|D>>>25),D=N+(k^_&(R^k))+P[9]+2336552879&4294967295,N=_+(D<<12&4294967295|D>>>20),D=k+(R^N&(_^R))+P[10]+4294925233&4294967295,k=N+(D<<17&4294967295|D>>>15),D=R+(_^k&(N^_))+P[11]+2304563134&4294967295,R=k+(D<<22&4294967295|D>>>10),D=_+(N^R&(k^N))+P[12]+1804603682&4294967295,_=R+(D<<7&4294967295|D>>>25),D=N+(k^_&(R^k))+P[13]+4254626195&4294967295,N=_+(D<<12&4294967295|D>>>20),D=k+(R^N&(_^R))+P[14]+2792965006&4294967295,k=N+(D<<17&4294967295|D>>>15),D=R+(_^k&(N^_))+P[15]+1236535329&4294967295,R=k+(D<<22&4294967295|D>>>10),D=_+(k^N&(R^k))+P[1]+4129170786&4294967295,_=R+(D<<5&4294967295|D>>>27),D=N+(R^k&(_^R))+P[6]+3225465664&4294967295,N=_+(D<<9&4294967295|D>>>23),D=k+(_^R&(N^_))+P[11]+643717713&4294967295,k=N+(D<<14&4294967295|D>>>18),D=R+(N^_&(k^N))+P[0]+3921069994&4294967295,R=k+(D<<20&4294967295|D>>>12),D=_+(k^N&(R^k))+P[5]+3593408605&4294967295,_=R+(D<<5&4294967295|D>>>27),D=N+(R^k&(_^R))+P[10]+38016083&4294967295,N=_+(D<<9&4294967295|D>>>23),D=k+(_^R&(N^_))+P[15]+3634488961&4294967295,k=N+(D<<14&4294967295|D>>>18),D=R+(N^_&(k^N))+P[4]+3889429448&4294967295,R=k+(D<<20&4294967295|D>>>12),D=_+(k^N&(R^k))+P[9]+568446438&4294967295,_=R+(D<<5&4294967295|D>>>27),D=N+(R^k&(_^R))+P[14]+3275163606&4294967295,N=_+(D<<9&4294967295|D>>>23),D=k+(_^R&(N^_))+P[3]+4107603335&4294967295,k=N+(D<<14&4294967295|D>>>18),D=R+(N^_&(k^N))+P[8]+1163531501&4294967295,R=k+(D<<20&4294967295|D>>>12),D=_+(k^N&(R^k))+P[13]+2850285829&4294967295,_=R+(D<<5&4294967295|D>>>27),D=N+(R^k&(_^R))+P[2]+4243563512&4294967295,N=_+(D<<9&4294967295|D>>>23),D=k+(_^R&(N^_))+P[7]+1735328473&4294967295,k=N+(D<<14&4294967295|D>>>18),D=R+(N^_&(k^N))+P[12]+2368359562&4294967295,R=k+(D<<20&4294967295|D>>>12),D=_+(R^k^N)+P[5]+4294588738&4294967295,_=R+(D<<4&4294967295|D>>>28),D=N+(_^R^k)+P[8]+2272392833&4294967295,N=_+(D<<11&4294967295|D>>>21),D=k+(N^_^R)+P[11]+1839030562&4294967295,k=N+(D<<16&4294967295|D>>>16),D=R+(k^N^_)+P[14]+4259657740&4294967295,R=k+(D<<23&4294967295|D>>>9),D=_+(R^k^N)+P[1]+2763975236&4294967295,_=R+(D<<4&4294967295|D>>>28),D=N+(_^R^k)+P[4]+1272893353&4294967295,N=_+(D<<11&4294967295|D>>>21),D=k+(N^_^R)+P[7]+4139469664&4294967295,k=N+(D<<16&4294967295|D>>>16),D=R+(k^N^_)+P[10]+3200236656&4294967295,R=k+(D<<23&4294967295|D>>>9),D=_+(R^k^N)+P[13]+681279174&4294967295,_=R+(D<<4&4294967295|D>>>28),D=N+(_^R^k)+P[0]+3936430074&4294967295,N=_+(D<<11&4294967295|D>>>21),D=k+(N^_^R)+P[3]+3572445317&4294967295,k=N+(D<<16&4294967295|D>>>16),D=R+(k^N^_)+P[6]+76029189&4294967295,R=k+(D<<23&4294967295|D>>>9),D=_+(R^k^N)+P[9]+3654602809&4294967295,_=R+(D<<4&4294967295|D>>>28),D=N+(_^R^k)+P[12]+3873151461&4294967295,N=_+(D<<11&4294967295|D>>>21),D=k+(N^_^R)+P[15]+530742520&4294967295,k=N+(D<<16&4294967295|D>>>16),D=R+(k^N^_)+P[2]+3299628645&4294967295,R=k+(D<<23&4294967295|D>>>9),D=_+(k^(R|~N))+P[0]+4096336452&4294967295,_=R+(D<<6&4294967295|D>>>26),D=N+(R^(_|~k))+P[7]+1126891415&4294967295,N=_+(D<<10&4294967295|D>>>22),D=k+(_^(N|~R))+P[14]+2878612391&4294967295,k=N+(D<<15&4294967295|D>>>17),D=R+(N^(k|~_))+P[5]+4237533241&4294967295,R=k+(D<<21&4294967295|D>>>11),D=_+(k^(R|~N))+P[12]+1700485571&4294967295,_=R+(D<<6&4294967295|D>>>26),D=N+(R^(_|~k))+P[3]+2399980690&4294967295,N=_+(D<<10&4294967295|D>>>22),D=k+(_^(N|~R))+P[10]+4293915773&4294967295,k=N+(D<<15&4294967295|D>>>17),D=R+(N^(k|~_))+P[1]+2240044497&4294967295,R=k+(D<<21&4294967295|D>>>11),D=_+(k^(R|~N))+P[8]+1873313359&4294967295,_=R+(D<<6&4294967295|D>>>26),D=N+(R^(_|~k))+P[15]+4264355552&4294967295,N=_+(D<<10&4294967295|D>>>22),D=k+(_^(N|~R))+P[6]+2734768916&4294967295,k=N+(D<<15&4294967295|D>>>17),D=R+(N^(k|~_))+P[13]+1309151649&4294967295,R=k+(D<<21&4294967295|D>>>11),D=_+(k^(R|~N))+P[4]+4149444226&4294967295,_=R+(D<<6&4294967295|D>>>26),D=N+(R^(_|~k))+P[11]+3174756917&4294967295,N=_+(D<<10&4294967295|D>>>22),D=k+(_^(N|~R))+P[2]+718787259&4294967295,k=N+(D<<15&4294967295|D>>>17),D=R+(N^(k|~_))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var R=_-this.blockSize,P=this.B,k=this.h,N=0;N<_;){if(k==0)for(;N<=R;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<_;)if(P[k++]=T.charCodeAt(N++),k==this.blockSize){i(this,P),k=0;break}}else for(;N<_;)if(P[k++]=T[N++],k==this.blockSize){i(this,P),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var R=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=R&255,R/=256;for(this.u(T),T=Array(16),_=R=0;4>_;++_)for(var P=0;32>P;P+=8)T[R++]=this.g[_]>>>P&255;return T};function s(T,_){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=_(T)}function o(T,_){this.h=_;for(var R=[],P=!0,k=T.length-1;0<=k;k--){var N=T[k]|0;P&&N==_||(R[k]=N,P=!1)}this.g=R}var a={};function u(T){return-128<=T&&128>T?s(T,function(_){return new o([_|0],0>_?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return C(c(-T));for(var _=[],R=1,P=0;T>=R;P++)_[P]=T/R|0,R*=4294967296;return new o(_,0)}function d(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return C(d(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(_,8)),P=p,k=0;k<T.length;k+=8){var N=Math.min(8,T.length-k),D=parseInt(T.substring(k,k+N),_);8>N?(N=c(Math.pow(_,N)),P=P.j(N).add(c(D))):(P=P.j(R),P=P.add(c(D)))}return P}var p=u(0),f=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-C(this).m();for(var T=0,_=1,R=0;R<this.g.length;R++){var P=this.i(R);T+=(0<=P?P:4294967296+P)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(I(this))return"-"+C(this).toString(T);for(var _=c(Math.pow(T,6)),R=this,P="";;){var k=S(R,_).g;R=E(R,k.j(_));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=k,w(R))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=E(this,T),I(T)?-1:w(T)?0:1};function C(T){for(var _=T.g.length,R=[],P=0;P<_;P++)R[P]=~T.g[P];return new o(R,~T.h).add(f)}t.abs=function(){return I(this)?C(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),R=[],P=0,k=0;k<=_;k++){var N=P+(this.i(k)&65535)+(T.i(k)&65535),D=(N>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);P=D>>>16,N&=65535,D&=65535,R[k]=D<<16|N}return new o(R,R[R.length-1]&-2147483648?-1:0)};function E(T,_){return T.add(C(_))}t.j=function(T){if(w(this)||w(T))return p;if(I(this))return I(T)?C(this).j(C(T)):C(C(this).j(T));if(I(T))return C(this.j(C(T)));if(0>this.l(y)&&0>T.l(y))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,R=[],P=0;P<2*_;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<T.g.length;k++){var N=this.i(P)>>>16,D=this.i(P)&65535,Q=T.i(k)>>>16,se=T.i(k)&65535;R[2*P+2*k]+=D*se,m(R,2*P+2*k),R[2*P+2*k+1]+=N*se,m(R,2*P+2*k+1),R[2*P+2*k+1]+=D*Q,m(R,2*P+2*k+1),R[2*P+2*k+2]+=N*Q,m(R,2*P+2*k+2)}for(P=0;P<_;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=_;P<2*_;P++)R[P]=0;return new o(R,0)};function m(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function v(T,_){this.g=T,this.h=_}function S(T,_){if(w(_))throw Error("division by zero");if(w(T))return new v(p,p);if(I(T))return _=S(C(T),_),new v(C(_.g),C(_.h));if(I(_))return _=S(T,C(_)),new v(C(_.g),_.h);if(30<T.g.length){if(I(T)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var R=f,P=_;0>=P.l(T);)R=b(R),P=b(P);var k=A(R,1),N=A(P,1);for(P=A(P,2),R=A(R,2);!w(P);){var D=N.add(P);0>=D.l(T)&&(k=k.add(R),N=D),P=A(P,1),R=A(R,1)}return _=E(T,k.j(_)),new v(k,_)}for(k=p;0<=T.l(_);){for(R=Math.max(1,Math.floor(T.m()/_.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=c(R),D=N.j(_);I(D)||0<D.l(T);)R-=P,N=c(R),D=N.j(_);w(N)&&(N=f),k=k.add(N),T=E(T,D)}return new v(k,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),R=[],P=0;P<_;P++)R[P]=this.i(P)&T.i(P);return new o(R,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),R=[],P=0;P<_;P++)R[P]=this.i(P)|T.i(P);return new o(R,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),R=[],P=0;P<_;P++)R[P]=this.i(P)^T.i(P);return new o(R,this.h^T.h)};function b(T){for(var _=T.g.length+1,R=[],P=0;P<_;P++)R[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(R,T.h)}function A(T,_){var R=_>>5;_%=32;for(var P=T.g.length-R,k=[],N=0;N<P;N++)k[N]=0<_?T.i(N+R)>>>_|T.i(N+R+1)<<32-_:T.i(N+R);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Fi=o}).apply(typeof tv<"u"?tv:typeof self<"u"?self:typeof window<"u"?window:{});var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _w,ww,la,Ew,Mu,Nh,Sw,Tw,Rw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof hu=="object"&&hu];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var g=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var M=l[x];if(!(M in g))break e;g=g[M]}l=l[l.length-1],x=g[l],h=h(x),h!=x&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var g=0,x=!1,M={next:function(){if(!x&&g<l.length){var j=g++;return{value:h(j,l[j]),done:!1}}return x=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function p(l,h,g){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,x),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function f(l,h,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,f.apply(null,arguments)}function y(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function w(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(x,M,j){for(var G=Array(arguments.length-2),be=2;be<arguments.length;be++)G[be-2]=arguments[be];return h.prototype[M].apply(x,G)}}function I(l){const h=l.length;if(0<h){const g=Array(h);for(let x=0;x<h;x++)g[x]=l[x];return g}return[]}function C(l,h){for(let g=1;g<arguments.length;g++){const x=arguments[g];if(u(x)){const M=l.length||0,j=x.length||0;l.length=M+j;for(let G=0;G<j;G++)l[M+G]=x[G]}else l.push(x)}}class E{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function m(l){return/^[\s\xa0]*$/.test(l)}function v(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function S(l){return S[" "](l),l}S[" "]=function(){};var b=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function A(l,h,g){for(const x in l)h.call(g,l[x],x,l)}function T(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function _(l){const h={};for(const g in l)h[g]=l[g];return h}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let g,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(g in x)l[g]=x[g];for(let j=0;j<R.length;j++)g=R[j],Object.prototype.hasOwnProperty.call(x,g)&&(l[g]=x[g])}}function k(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function N(l){a.setTimeout(()=>{throw l},0)}function D(){var l=X;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Q{constructor(){this.h=this.g=null}add(h,g){const x=se.get();x.set(h,g),this.h?this.h.next=x:this.g=x,this.h=x}}var se=new E(()=>new we,l=>l.reset());class we{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,B=!1,X=new Q,W=()=>{const l=a.Promise.resolve(void 0);ce=()=>{l.then(le)}};var le=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(g){N(g)}var h=se;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}B=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function pt(l,h){if(me.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(b){e:{try{S(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:mt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&pt.aa.h.call(this)}}w(pt,me);var mt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var In="closure_listenable_"+(1e6*Math.random()|0),So=0;function Cd(l,h,g,x,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!x,this.ha=M,this.key=++So,this.da=this.fa=!1}function is(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ss(l){this.src=l,this.g={},this.h=0}ss.prototype.add=function(l,h,g,x,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var G=zn(l,h,x,M);return-1<G?(h=l[G],g||(h.fa=!1)):(h=new Cd(h,this.src,j,!!x,M),h.fa=g,l.push(h)),h};function rt(l,h){var g=h.type;if(g in l.g){var x=l.g[g],M=Array.prototype.indexOf.call(x,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(x,M,1),j&&(is(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function zn(l,h,g,x){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!g&&j.ha==x)return M}return-1}var os="closure_lm_"+(1e6*Math.random()|0),To={};function $n(l,h,g,x,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)$n(l,h[j],g,x,M);return null}return g=Cr(g),l&&l[In]?l.K(h,g,c(x)?!!x.capture:!!x,M):Ad(l,h,g,!1,x,M)}function Ad(l,h,g,x,M,j){if(!h)throw Error("Invalid event type");var G=c(M)?!!M.capture:!!M,be=Co(l);if(be||(l[os]=be=new ss(l)),g=be.add(h,g,x,G,j),g.proxy)return g;if(x=Pd(),g.proxy=x,x.src=l,x.listener=g,l.addEventListener)nt||(M=G),M===void 0&&(M=!1),l.addEventListener(h.toString(),x,M);else if(l.attachEvent)l.attachEvent(Vl(h.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Pd(){function l(g){return h.call(l.src,l.listener,g)}const h=xd;return l}function Ro(l,h,g,x,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)Ro(l,h[j],g,x,M);else x=c(x)?!!x.capture:!!x,g=Cr(g),l&&l[In]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],g=zn(j,g,x,M),-1<g&&(is(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=Co(l))&&(h=l.g[h.toString()],l=-1,h&&(l=zn(h,g,x,M)),(g=-1<l?h[l]:null)&&Io(g))}function Io(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[In])rt(h.i,l);else{var g=l.type,x=l.proxy;h.removeEventListener?h.removeEventListener(g,x,l.capture):h.detachEvent?h.detachEvent(Vl(g),x):h.addListener&&h.removeListener&&h.removeListener(x),(g=Co(h))?(rt(g,l),g.h==0&&(g.src=null,h[os]=null)):is(l)}}}function Vl(l){return l in To?To[l]:To[l]="on"+l}function xd(l,h){if(l.da)l=!0;else{h=new pt(h,this);var g=l.listener,x=l.ha||l.src;l.fa&&Io(l),l=g.call(x,h)}return l}function Co(l){return l=l[os],l instanceof ss?l:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cr(l){return typeof l=="function"?l:(l[rr]||(l[rr]=function(h){return l.handleEvent(h)}),l[rr])}function it(){he.call(this),this.i=new ss(this),this.M=this,this.F=null}w(it,he),it.prototype[In]=!0,it.prototype.removeEventListener=function(l,h,g,x){Ro(this,l,h,g,x)};function st(l,h){var g,x=l.F;if(x)for(g=[];x;x=x.F)g.push(x);if(l=l.M,x=h.type||h,typeof h=="string")h=new me(h,l);else if(h instanceof me)h.target=h.target||l;else{var M=h;h=new me(x,l),P(h,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var G=h.g=g[j];M=Jt(G,x,!0,h)&&M}if(G=h.g=l,M=Jt(G,x,!0,h)&&M,M=Jt(G,x,!1,h)&&M,g)for(j=0;j<g.length;j++)G=h.g=g[j],M=Jt(G,x,!1,h)&&M}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],x=0;x<g.length;x++)is(g[x]);delete l.g[h],l.h--}}this.F=null},it.prototype.K=function(l,h,g,x){return this.i.add(String(l),h,!1,g,x)},it.prototype.L=function(l,h,g,x){return this.i.add(String(l),h,!0,g,x)};function Jt(l,h,g,x){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var G=h[j];if(G&&!G.da&&G.capture==g){var be=G.listener,yt=G.ha||G.src;G.fa&&rt(l.i,G),M=be.call(yt,x)!==!1&&M}}return M&&!x.defaultPrevented}function mn(l,h,g){if(typeof l=="function")g&&(l=f(l,g));else if(l&&typeof l.handleEvent=="function")l=f(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Ao(l){l.g=mn(()=>{l.g=null,l.i&&(l.i=!1,Ao(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class as extends he{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(l){he.call(this),this.h=l,this.g={}}w(vi,he);var Cn=[];function Po(l){A(l.g,function(h,g){this.g.hasOwnProperty(g)&&Io(h)},l),l.g={}}vi.prototype.N=function(){vi.aa.N.call(this),Po(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=a.JSON.stringify,Ml=a.JSON.parse,kd=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function us(){}us.prototype.h=null;function _i(l){return l.h||(l.h=l.i())}function xo(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){me.call(this,"d")}w(Ar,me);function wi(){me.call(this,"c")}w(wi,me);var sr={},ko=null;function cs(){return ko=ko||new it}sr.La="serverreachability";function Do(l){me.call(this,sr.La,l)}w(Do,me);function or(l){const h=cs();st(h,new Do(h))}sr.STAT_EVENT="statevent";function Ei(l,h){me.call(this,sr.STAT_EVENT,l),this.stat=h}w(Ei,me);function gt(l){const h=cs();st(h,new Ei(h,l))}sr.Ma="timingevent";function Fl(l,h){me.call(this,sr.Ma,l),this.size=h}w(Fl,me);function L(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function O(){this.g=!0}O.prototype.xa=function(){this.g=!1};function F(l,h,g,x,M,j){l.info(function(){if(l.g)if(j)for(var G="",be=j.split("&"),yt=0;yt<be.length;yt++){var Ce=be[yt].split("=");if(1<Ce.length){var xt=Ce[0];Ce=Ce[1];var kt=xt.split("_");G=2<=kt.length&&kt[1]=="type"?G+(xt+"="+Ce+"&"):G+(xt+"=redacted&")}}else G=null;else G=j;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+h+`
`+g+`
`+G})}function z(l,h,g,x,M,j,G){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+h+`
`+g+`
`+j+" "+G})}function Y(l,h,g,x){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+oe(l,g)+(x?" "+x:"")})}function te(l,h){l.info(function(){return"TIMEOUT: "+h})}O.prototype.info=function(){};function oe(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var x=g[l];if(!(2>x.length)){var M=x[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var G=1;G<M.length;G++)M[G]=""}}}}return ls(g)}catch{return h}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ne;function re(){}w(re,us),re.prototype.g=function(){return new XMLHttpRequest},re.prototype.i=function(){return{}},ne=new re;function ye(l,h,g,x){this.j=l,this.i=h,this.l=g,this.R=x||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var Pe={},Ee={};function Ge(l,h,g){l.L=1,l.v=$l(lr(h)),l.m=g,l.P=!0,ze(l,null)}function ze(l,h){l.F=Date.now(),An(l),l.A=lr(l.v);var g=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),pg(g.i,"t",x),l.C=0,g=l.j.J,l.h=new Ie,l.g=bg(l.j,g?h:null,!l.m),0<l.O&&(l.M=new as(f(l.Y,l,l.g),l.O)),h=l.U,g=l.g,x=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Cn[0]=M.toString()),M=Cn);for(var j=0;j<M.length;j++){var G=$n(g,M[j],x||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),or(),F(l.i,l.u,l.A,l.l,l.R,l.m)}ye.prototype.ca=function(l){l=l.target;const h=this.M;h&&ur(l)==3?h.j():this.Y(l)},ye.prototype.Y=function(l){try{if(l==this.g)e:{const kt=ur(this.g);var h=this.g.Ba();const ps=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Eg(this.g)))){this.J||kt!=4||h==7||(h==8||0>=ps?or(3):or(2)),qn(this);var g=this.g.Z();this.X=g;t:if(Pr(this)){var x=Eg(this.g);l="";var M=x.length,j=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),At(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(x[h],{stream:!(j&&h==M-1)});x.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,z(this.i,this.u,this.A,this.l,this.R,kt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var be,yt=this.g;if((be=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(be)){var Ce=be;break t}}Ce=null}if(g=Ce)Y(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xr(this,g);else{this.o=!1,this.s=3,gt(12),gn(this),At(this);break e}}if(this.P){g=!0;let Pn;for(;!this.J&&this.C<G.length;)if(Pn=Bn(this,G),Pn==Ee){kt==4&&(this.s=4,gt(14),g=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Pe){this.s=4,gt(15),Y(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else Y(this.i,this.l,Pn,null),xr(this,Pn);if(Pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||G.length!=0||this.h.h||(this.s=1,gt(16),g=!1),this.o=this.o&&g,!g)Y(this.i,this.l,G,"[Invalid Chunked Response]"),gn(this),At(this);else if(0<G.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Ld(xt),xt.M=!0,gt(11))}}else Y(this.i,this.l,G,null),xr(this,G);kt==4&&gn(this),this.o&&!this.J&&(kt==4?Pg(this.j,this):(this.o=!1,An(this)))}else iT(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),gn(this),At(this)}}}catch{}finally{}};function Pr(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Bn(l,h){var g=l.C,x=h.indexOf(`
`,g);return x==-1?Ee:(g=Number(h.substring(g,x)),isNaN(g)?Pe:(x+=1,x+g>h.length?Ee:(h=h.slice(x,x+g),l.C=x+g,h)))}ye.prototype.cancel=function(){this.J=!0,gn(this)};function An(l){l.S=Date.now()+l.I,ar(l,l.I)}function ar(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=L(f(l.ba,l),h)}function qn(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ye.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(te(this.i,this.A),this.L!=2&&(or(),gt(17)),gn(this),this.s=2,At(this)):ar(this,this.S-l)};function At(l){l.j.G==0||l.J||Pg(l.j,l)}function gn(l){qn(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Po(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function xr(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||De(g.h,l))){if(!l.K&&De(g.h,l)&&g.G==3){try{var x=g.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Kl(g),Hl(g);else break e;Nd(g),gt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=L(f(g.Za,g),6e3));if(1>=Pt(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ti(g,11)}else if((l.K||g.g==l)&&Kl(g),!m(h))for(M=g.Da.g.parse(h),h=0;h<M.length;h++){let Ce=M[h];if(g.T=Ce[0],Ce=Ce[1],g.G==2)if(Ce[0]=="c"){g.K=Ce[1],g.ia=Ce[2];const xt=Ce[3];xt!=null&&(g.la=xt,g.j.info("VER="+g.la));const kt=Ce[4];kt!=null&&(g.Aa=kt,g.j.info("SVER="+g.Aa));const ps=Ce[5];ps!=null&&typeof ps=="number"&&0<ps&&(x=1.5*ps,g.L=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const Pn=l.g;if(Pn){const Gl=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gl){var j=x.h;j.g||Gl.indexOf("spdy")==-1&&Gl.indexOf("quic")==-1&&Gl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Zt(j,j.h),j.h=null))}if(x.D){const Od=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Od&&(x.ya=Od,Me(x.I,x.D,Od))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),x=g;var G=l;if(x.qa=Dg(x,x.J?x.ia:null,x.W),G.K){bo(x.h,G);var be=G,yt=x.L;yt&&(be.I=yt),be.B&&(qn(be),An(be)),x.g=G}else Cg(x);0<g.i.length&&Ql(g)}else Ce[0]!="stop"&&Ce[0]!="close"||Ti(g,7);else g.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Ti(g,7):bd(g):Ce[0]!="noop"&&g.l&&g.l.ta(Ce),g.v=0)}}or(4)}catch{}}var ds=class{constructor(l,h){this.g=l,this.map=h}};function pe(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ve(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Pt(l){return l.h?1:l.g?l.g.size:0}function De(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Zt(l,h){l.g?l.g.add(h):l.h=h}function bo(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}pe.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function jl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return I(l.i)}function BS(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],g=l.length,x=0;x<g;x++)h.push(l[x]);return h}h=[],g=0;for(x in l)h[g++]=l[x];return h}function qS(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const x in l)h[g++]=x;return h}}}function lg(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=qS(l),x=BS(l),M=x.length,j=0;j<M;j++)h.call(void 0,x[j],g&&g[j],l)}var ug=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HS(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var x=l[g].indexOf("="),M=null;if(0<=x){var j=l[g].substring(0,x);M=l[g].substring(x+1)}else j=l[g];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Si(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Si){this.h=l.h,Ul(this,l.j),this.o=l.o,this.g=l.g,zl(this,l.s),this.l=l.l;var h=l.i,g=new Oo;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),cg(this,g),this.m=l.m}else l&&(h=String(l).match(ug))?(this.h=!1,Ul(this,h[1]||"",!0),this.o=No(h[2]||""),this.g=No(h[3]||"",!0),zl(this,h[4]),this.l=No(h[5]||"",!0),cg(this,h[6]||"",!0),this.m=No(h[7]||"")):(this.h=!1,this.i=new Oo(null,this.h))}Si.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Lo(h,dg,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Lo(h,dg,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Lo(g,g.charAt(0)=="/"?WS:KS,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Lo(g,YS)),l.join("")};function lr(l){return new Si(l)}function Ul(l,h,g){l.j=g?No(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function zl(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function cg(l,h,g){h instanceof Oo?(l.i=h,XS(l.i,l.h)):(g||(h=Lo(h,GS)),l.i=new Oo(h,l.h))}function Me(l,h,g){l.i.set(h,g)}function $l(l){return Me(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function No(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Lo(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,QS),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function QS(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var dg=/[#\/\?@]/g,KS=/[#\?:]/g,WS=/[#\?]/g,GS=/[#\?@]/g,YS=/#/g;function Oo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function kr(l){l.g||(l.g=new Map,l.h=0,l.i&&HS(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Oo.prototype,t.add=function(l,h){kr(this),this.i=null,l=fs(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function fg(l,h){kr(l),h=fs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function hg(l,h){return kr(l),h=fs(l,h),l.g.has(h)}t.forEach=function(l,h){kr(this),this.g.forEach(function(g,x){g.forEach(function(M){l.call(h,M,x,this)},this)},this)},t.na=function(){kr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let x=0;x<h.length;x++){const M=l[x];for(let j=0;j<M.length;j++)g.push(h[x])}return g},t.V=function(l){kr(this);let h=[];if(typeof l=="string")hg(this,l)&&(h=h.concat(this.g.get(fs(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return kr(this),this.i=null,l=fs(this,l),hg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function pg(l,h,g){fg(l,h),0<g.length&&(l.i=null,l.g.set(fs(l,h),I(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var x=h[g];const j=encodeURIComponent(String(x)),G=this.V(x);for(x=0;x<G.length;x++){var M=j;G[x]!==""&&(M+="="+encodeURIComponent(String(G[x]))),l.push(M)}}return this.i=l.join("&")};function fs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function XS(l,h){h&&!l.j&&(kr(l),l.i=null,l.g.forEach(function(g,x){var M=x.toLowerCase();x!=M&&(fg(this,x),pg(this,M,g))},l)),l.j=h}function JS(l,h){const g=new O;if(a.Image){const x=new Image;x.onload=y(Dr,g,"TestLoadImage: loaded",!0,h,x),x.onerror=y(Dr,g,"TestLoadImage: error",!1,h,x),x.onabort=y(Dr,g,"TestLoadImage: abort",!1,h,x),x.ontimeout=y(Dr,g,"TestLoadImage: timeout",!1,h,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else h(!1)}function ZS(l,h){const g=new O,x=new AbortController,M=setTimeout(()=>{x.abort(),Dr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:x.signal}).then(j=>{clearTimeout(M),j.ok?Dr(g,"TestPingServer: ok",!0,h):Dr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Dr(g,"TestPingServer: error",!1,h)})}function Dr(l,h,g,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(g)}catch{}}function eT(){this.g=new kd}function tT(l,h,g){const x=g||"";try{lg(l,function(M,j){let G=M;c(M)&&(G=ls(M)),h.push(x+j+"="+encodeURIComponent(G))})}catch(M){throw h.push(x+"type="+encodeURIComponent("_badmap")),M}}function Vo(l){this.l=l.Ub||null,this.j=l.eb||!1}w(Vo,us),Vo.prototype.g=function(){return new Bl(this.l,this.j)},Vo.prototype.i=function(l){return function(){return l}}({});function Bl(l,h){it.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Bl,it),t=Bl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Fo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function mg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Mo(this):Fo(this),this.readyState==3&&mg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Mo(this))},t.Qa=function(l){this.g&&(this.response=l,Mo(this))},t.ga=function(){this.g&&Mo(this)};function Mo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Fo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function Fo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function gg(l){let h="";return A(l,function(g,x){h+=x,h+=":",h+=g,h+=`\r
`}),h}function Dd(l,h,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=gg(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Me(l,h,g))}function Ke(l){it.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ke,it);var nT=/^https?$/i,rT=["POST","PUT"];t=Ke.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ne.g(),this.v=this.o?_i(this.o):_i(ne),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){yg(this,j);return}if(l=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)g.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const j of x.keys())g.set(j,x.get(j));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rT,h,void 0))||x||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of g)this.g.setRequestHeader(j,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wg(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){yg(this,j)}};function yg(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,vg(l),ql(l)}function vg(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,st(this,"complete"),st(this,"abort"),ql(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_g(this):this.bb())},t.bb=function(){_g(this)};function _g(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ur(l)!=4||l.Z()!=2)){if(l.u&&ur(l)==4)mn(l.Ea,0,l);else if(st(l,"readystatechange"),ur(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var x;if(x=G===0){var M=String(l.D).match(ug)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),x=!nT.test(M?M.toLowerCase():"")}g=x}if(g)st(l,"complete"),st(l,"success");else{l.m=6;try{var j=2<ur(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",vg(l)}}finally{ql(l)}}}}function ql(l,h){if(l.g){wg(l);const g=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||st(l,"ready");try{g.onreadystatechange=x}catch{}}}function wg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function ur(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Ml(h)}};function Eg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function iT(l){const h={};l=(l.g&&2<=ur(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(m(l[x]))continue;var g=k(l[x]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=h[M]||[];h[M]=j,j.push(g)}T(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jo(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function Sg(l){this.Aa=0,this.i=[],this.j=new O,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jo("baseRetryDelayMs",5e3,l),this.cb=jo("retryDelaySeedMs",1e4,l),this.Wa=jo("forwardChannelMaxRetries",2,l),this.wa=jo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new pe(l&&l.concurrentRequestLimit),this.Da=new eT,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sg.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,x){gt(0),this.W=l,this.H=h||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.I=Dg(this,null,this.W),Ql(this)};function bd(l){if(Tg(l),l.G==3){var h=l.U++,g=lr(l.I);if(Me(g,"SID",l.K),Me(g,"RID",h),Me(g,"TYPE","terminate"),Uo(l,g),h=new ye(l,l.j,h),h.L=2,h.v=$l(lr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=bg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),An(h)}kg(l)}function Hl(l){l.g&&(Ld(l),l.g.cancel(),l.g=null)}function Tg(l){Hl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Kl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ql(l){if(!Ve(l.h)&&!l.s){l.s=!0;var h=l.Ga;ce||W(),B||(ce(),B=!0),X.add(h,l),l.B=0}}function sT(l,h){return Pt(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=L(f(l.Ga,l,h),xg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new ye(this,this.j,l);let j=this.o;if(this.S&&(j?(j=_(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Ig(this,M,h),g=lr(this.I),Me(g,"RID",l),Me(g,"CVER",22),this.D&&Me(g,"X-HTTP-Session-Id",this.D),Uo(this,g),j&&(this.O?h="headers="+encodeURIComponent(String(gg(j)))+"&"+h:this.m&&Dd(g,this.m,j)),Zt(this.h,M),this.Ua&&Me(g,"TYPE","init"),this.P?(Me(g,"$req",h),Me(g,"SID","null"),M.T=!0,Ge(M,g,null)):Ge(M,g,h),this.G=2}}else this.G==3&&(l?Rg(this,l):this.i.length==0||Ve(this.h)||Rg(this))};function Rg(l,h){var g;h?g=h.l:g=l.U++;const x=lr(l.I);Me(x,"SID",l.K),Me(x,"RID",g),Me(x,"AID",l.T),Uo(l,x),l.m&&l.o&&Dd(x,l.m,l.o),g=new ye(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Ig(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Zt(l.h,g),Ge(g,x,h)}function Uo(l,h){l.H&&A(l.H,function(g,x){Me(h,x,g)}),l.l&&lg({},function(g,x){Me(h,x,g)})}function Ig(l,h,g){g=Math.min(l.i.length,g);var x=l.l?f(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const G=["count="+g];j==-1?0<g?(j=M[0].g,G.push("ofs="+j)):j=0:G.push("ofs="+j);let be=!0;for(let yt=0;yt<g;yt++){let Ce=M[yt].g;const xt=M[yt].map;if(Ce-=j,0>Ce)j=Math.max(0,M[yt].g-100),be=!1;else try{tT(xt,G,"req"+Ce+"_")}catch{x&&x(xt)}}if(be){x=G.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,x}function Cg(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ce||W(),B||(ce(),B=!0),X.add(h,l),l.v=0}}function Nd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=L(f(l.Fa,l),xg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Ag(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=L(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Hl(this),Ag(this))};function Ld(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Ag(l){l.g=new ye(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=lr(l.qa);Me(h,"RID","rpc"),Me(h,"SID",l.K),Me(h,"AID",l.T),Me(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Me(h,"TO",l.ja),Me(h,"TYPE","xmlhttp"),Uo(l,h),l.m&&l.o&&Dd(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=$l(lr(h)),g.m=null,g.P=!0,ze(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Hl(this),Nd(this),gt(19))};function Kl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Pg(l,h){var g=null;if(l.g==h){Kl(l),Ld(l),l.g=null;var x=2}else if(De(l.h,h))g=h.D,bo(l.h,h),x=1;else return;if(l.G!=0){if(h.o)if(x==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;x=cs(),st(x,new Fl(x,g)),Ql(l)}else Cg(l);else if(M=h.s,M==3||M==0&&0<h.X||!(x==1&&sT(l,h)||x==2&&Nd(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),M){case 1:Ti(l,5);break;case 4:Ti(l,10);break;case 3:Ti(l,6);break;default:Ti(l,2)}}}function xg(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Ti(l,h){if(l.j.info("Error code "+h),h==2){var g=f(l.fb,l),x=l.Xa;const M=!x;x=new Si(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ul(x,"https"),$l(x),M?JS(x.toString(),g):ZS(x.toString(),g)}else gt(2);l.G=0,l.l&&l.l.sa(h),kg(l),Tg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function kg(l){if(l.G=0,l.ka=[],l.l){const h=jl(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function Dg(l,h,g){var x=g instanceof Si?lr(g):new Si(g);if(x.g!="")h&&(x.g=h+"."+x.g),zl(x,x.s);else{var M=a.location;x=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new Si(null);x&&Ul(j,x),h&&(j.g=h),M&&zl(j,M),g&&(j.l=g),x=j}return g=l.D,h=l.ya,g&&h&&Me(x,g,h),Me(x,"VER",l.la),Uo(l,x),x}function bg(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ke(new Vo({eb:g})):new Ke(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ng(){}t=Ng.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wl(){}Wl.prototype.g=function(l,h){return new en(l,h)};function en(l,h){it.call(this),this.g=new Sg(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!m(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!m(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new hs(this)}w(en,it),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){bd(this.g)},en.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=ls(l),l=g);h.i.push(new ds(h.Ya++,l)),h.G==3&&Ql(h)},en.prototype.N=function(){this.g.l=null,delete this.j,bd(this.g),delete this.g,en.aa.N.call(this)};function Lg(l){Ar.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(Lg,Ar);function Og(){wi.call(this),this.status=1}w(Og,wi);function hs(l){this.g=l}w(hs,Ng),hs.prototype.ua=function(){st(this.g,"a")},hs.prototype.ta=function(l){st(this.g,new Lg(l))},hs.prototype.sa=function(l){st(this.g,new Og)},hs.prototype.ra=function(){st(this.g,"b")},Wl.prototype.createWebChannel=Wl.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Rw=function(){return new Wl},Tw=function(){return cs()},Sw=sr,Nh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Mu=K,fe.COMPLETE="complete",Ew=fe,xo.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",it.prototype.listen=it.prototype.K,la=xo,ww=Vo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,_w=Ke}).apply(typeof hu<"u"?hu:typeof self<"u"?self:typeof window<"u"?window:{});const nv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new fw("@firebase/firestore");function Go(){return Hi.logLevel}function ee(t,...e){if(Hi.logLevel<=Te.DEBUG){const n=e.map(sm);Hi.debug(`Firestore (${yo}): ${t}`,...n)}}function Er(t,...e){if(Hi.logLevel<=Te.ERROR){const n=e.map(sm);Hi.error(`Firestore (${yo}): ${t}`,...n)}}function no(t,...e){if(Hi.logLevel<=Te.WARN){const n=e.map(sm);Hi.warn(`Firestore (${yo}): ${t}`,...n)}}function sm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function xe(t,e){t||ae()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends go{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class hA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new Iw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Lt(e)}}class mA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new yA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_A(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ae(t,e){return t<e?-1:t>e?1:0}function ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new lt(0,0))}static max(){return new ue(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends Ja{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Ja{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Ne.fromString(e))}static fromName(e){return new ie(Ne.fromString(e).popFirst(5))}static empty(){return new ie(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Ne(e.slice()))}}function EA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new ni(i,ie.empty(),e)}function SA(t){return new ni(t.readTime,t.key,-1)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(ue.min(),ie.empty(),-1)}static max(){return new ni(ue.max(),ie.empty(),-1)}}function TA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==RA)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function CA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}om.oe=-1;function El(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function AA(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Aw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new on([])}unionWith(e){let n=new It(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Pw("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(xe(!!t),typeof t=="string"){let e=0;const n=PA.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lm(t){const e=t.mapValue.fields.__previous_value__;return am(e)?lm(e):e}function Za(t){const e=ri(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class el{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new el("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?am(t)?4:kA(t)?9007199254740991:10:ae()}function er(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Za(t).isEqual(Za(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ri(i.timestampValue),a=ri(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Qi(i.bytesValue).isEqual(Qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ze(i.doubleValue),a=Ze(s.doubleValue);return o===a?vc(o)===vc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ro(t.arrayValue.values||[],e.arrayValue.values||[],er);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(rv(o)!==rv(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!er(o[u],a[u])))return!1;return!0}(t,e);default:return ae()}}function tl(t,e){return(t.values||[]).find(n=>er(n,e))!==void 0}function io(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return Ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ze(s.integerValue||s.doubleValue),u=Ze(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return sv(t.timestampValue,e.timestampValue);case 4:return sv(Za(t),Za(e));case 5:return Ae(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Qi(s),u=Qi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Ae(a[c],u[c]);if(d!==0)return d}return Ae(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ae(Ze(s.latitude),Ze(o.latitude));return a!==0?a:Ae(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=io(a[c],u[c]);if(d)return d}return Ae(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===mu.mapValue&&o===mu.mapValue)return 0;if(s===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const f=Ae(u[p],d[p]);if(f!==0)return f;const y=io(a[u[p]],c[d[p]]);if(y!==0)return y}return Ae(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function sv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ae(t,e);const n=ri(t),r=ri(e),i=Ae(n.seconds,r.seconds);return i!==0?i:Ae(n.nanos,r.nanos)}function so(t){return Lh(t)}function Lh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Lh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Lh(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function ov(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Oh(t){return!!t&&"integerValue"in t}function um(t){return!!t&&"arrayValue"in t}function av(t){return!!t&&"nullValue"in t}function lv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fu(t){return!!t&&"mapValue"in t}function Sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ns(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $t(Sa(this.value))}}function xw(t){const e=[];return ns(t.fields,(n,r)=>{const i=new Et([n]);if(Fu(r)){const s=xw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,ue.min(),ue.min(),ue.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,ue.min(),ue.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,ue.min(),ue.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.position=e,this.inclusive=n}}function uv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function cv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n="asc"){this.field=e,this.dir=n}}function DA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{}class tt extends kw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NA(e,n,r):n==="array-contains"?new VA(e,r):n==="in"?new MA(e,r):n==="not-in"?new FA(e,r):n==="array-contains-any"?new jA(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LA(e,r):new OA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends kw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jn(e,n)}matches(e){return Dw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Dw(t){return t.op==="and"}function bw(t){return bA(t)&&Dw(t)}function bA(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function Vh(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+so(t.value);if(bw(t))return t.filters.map(e=>Vh(e)).join(",");{const e=t.filters.map(n=>Vh(n)).join(",");return`${t.op}(${e})`}}function Nw(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Nw(o,i.filters[a]),!0):!1}(t,e):void ae()}function Lw(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Lw).join(" ,")+"}"}(t):"Filter"}class NA extends tt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class LA extends tt{constructor(e,n){super(e,"in",n),this.keys=Ow("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OA extends tt{constructor(e,n){super(e,"not-in",n),this.keys=Ow("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ow(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class VA extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return um(n)&&tl(n.arrayValue,this.value)}}class MA extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tl(this.value.arrayValue,n)}}class FA extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!tl(this.value.arrayValue,n)}}class jA extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function dv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UA(t,e,n,r,i,s,o)}function cm(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),El(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>so(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>so(r)).join(",")),e.ue=n}return e.ue}function dm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cv(t.startAt,e.startAt)&&cv(t.endAt,e.endAt)}function Mh(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zA(t,e,n,r,i,s,o,a){return new vo(t,e,n,r,i,s,o,a)}function fm(t){return new vo(t)}function fv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vw(t){return t.collectionGroup!==null}function Ta(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(Et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new nl(s,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new nl(Et.keyField(),r))}return e.ce}function Zn(t){const e=de(t);return e.le||(e.le=$A(e,Ta(t))),e.le}function $A(t,e){if(t.limitType==="F")return dv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new nl(i.field,s)});const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return dv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fh(t,e){const n=t.filters.concat([e]);return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wc(t,e,n){return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nd(t,e){return dm(Zn(t),Zn(e))&&t.limitType===e.limitType}function Mw(t){return`${cm(Zn(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Lw(i)).join(", ")}]`),El(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>so(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>so(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function rd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ta(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=uv(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ta(r),i)||r.endAt&&!function(o,a,u){const c=uv(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ta(r),i))}(t,e)}function BA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Fw(t){return(e,n)=>{let r=!1;for(const i of Ta(t)){const s=qA(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qA(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?io(u,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new Qe(ie.comparator);function Sr(){return HA}const jw=new Qe(ie.comparator);function ua(...t){let e=jw;for(const n of t)e=e.insert(n.key,n);return e}function Uw(t){let e=jw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bi(){return Ra()}function zw(){return Ra()}function Ra(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const QA=new Qe(ie.comparator),KA=new It(ie.comparator);function _e(...t){let e=KA;for(const n of t)e=e.add(n);return e}const WA=new It(Ae);function GA(){return WA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function Bw(t){return{integerValue:""+t}}function qw(t,e){return AA(e)?Bw(e):$w(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function YA(t,e,n){return t instanceof Ec?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&am(s)&&(s=lm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof oo?Qw(t,e):t instanceof rl?Kw(t,e):function(i,s){const o=Hw(i,s),a=hv(o)+hv(i.Pe);return Oh(o)&&Oh(i.Pe)?Bw(a):$w(i.serializer,a)}(t,e)}function XA(t,e,n){return t instanceof oo?Qw(t,e):t instanceof rl?Kw(t,e):n}function Hw(t,e){return t instanceof il?function(r){return Oh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ec extends id{}class oo extends id{constructor(e){super(),this.elements=e}}function Qw(t,e){const n=Ww(e);for(const r of t.elements)n.some(i=>er(i,r))||n.push(r);return{arrayValue:{values:n}}}class rl extends id{constructor(e){super(),this.elements=e}}function Kw(t,e){let n=Ww(e);for(const r of t.elements)n=n.filter(i=>!er(i,r));return{arrayValue:{values:n}}}class il extends id{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hv(t){return Ze(t.integerValue||t.doubleValue)}function Ww(t){return um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.field=e,this.transform=n}}function JA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof rl&&i instanceof rl?ro(r.elements,i.elements,er):r instanceof il&&i instanceof il?er(r.Pe,i.Pe):r instanceof Ec&&i instanceof Ec}(t.transform,e.transform)}class ZA{constructor(e,n){this.version=e,this.transformResults=n}}class St{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new St}static exists(e){return new St(void 0,e)}static updateTime(e){return new St(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sd{}function Yw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new od(t.key,St.none()):new Sl(t.key,t.data,St.none());{const n=t.data,r=$t.empty();let i=new It(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new di(t.key,r,new on(i.toArray()),St.none())}}function e2(t,e,n){t instanceof Sl?function(i,s,o){const a=i.value.clone(),u=mv(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof di?function(i,s,o){if(!ju(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=mv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Xw(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ia(t,e,n,r){return t instanceof Sl?function(s,o,a,u){if(!ju(s.precondition,o))return a;const c=s.value.clone(),d=gv(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(s,o,a,u){if(!ju(s.precondition,o))return a;const c=gv(s.fieldTransforms,u,o),d=o.data;return d.setAll(Xw(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return ju(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function t2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Hw(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function pv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ro(r,i,(s,o)=>JA(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sl extends sd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends sd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mv(t,e,n){const r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,XA(o,a,n[i]))}return r}function gv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YA(s,o,e))}return r}class od extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jw extends sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&e2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zw();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=Yw(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,r)=>pv(n,r))&&ro(this.baseMutations,e.baseMutations,(n,r)=>pv(n,r))}}class hm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return QA}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,Se;function Zw(t){switch(t){default:return ae();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function eE(t){if(t===void 0)return Er("GRPC error has no .code"),$.UNKNOWN;switch(t){case Xe.OK:return $.OK;case Xe.CANCELLED:return $.CANCELLED;case Xe.UNKNOWN:return $.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return $.INTERNAL;case Xe.UNAVAILABLE:return $.UNAVAILABLE;case Xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Xe.NOT_FOUND:return $.NOT_FOUND;case Xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Xe.ABORTED:return $.ABORTED;case Xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Xe.DATA_LOSS:return $.DATA_LOSS;default:return ae()}}(Se=Xe||(Xe={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Fi([4294967295,4294967295],0);function yv(t){const e=s2().encode(t),n=new vw;return n.update(e),new Uint8Array(n.digest())}function vv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,s],0)]}class pm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ca(`Invalid padding: ${n}`);if(r<0)throw new ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ca(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(o2)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=yv(e),[r,i]=vv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=yv(e),[r,i]=vv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(ue.min(),i,new Qe(Ae),Sr(),_e())}}class Tl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tl(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class tE{constructor(e,n){this.targetId=e,this.me=n}}class nE{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _v{constructor(){this.fe=0,this.ge=Ev(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Tl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Ev()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class a2{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=wv(),this.Qe=new Qe(Ae)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Mh(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,ft.newNoDocument(o,ue.min()))}else xe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Qi(r).toUint8Array()}catch(u){if(u instanceof Pw)return no("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pm(o,i,s)}catch(u){return no(u instanceof ca?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Mh(a.target)){const u=new ie(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ft.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ad(e,n,this.Qe,this.ke,r);return this.ke=Sr(),this.qe=wv(),this.Qe=new Qe(Ae),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _v,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(Ae),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _v),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wv(){return new Qe(ie.comparator)}function Ev(){return new Qe(ie.comparator)}const l2={asc:"ASCENDING",desc:"DESCENDING"},u2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class d2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jh(t,e){return t.useProto3Json||El(e)?e:{value:e}}function Sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f2(t,e){return Sc(t,e.toTimestamp())}function un(t){return xe(!!t),ue.fromTimestamp(function(n){const r=ri(n);return new lt(r.seconds,r.nanos)}(t))}function mm(t,e){return Uh(t,e).canonicalString()}function Uh(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iE(t){const e=Ne.fromString(t);return xe(cE(e)),e}function Tc(t,e){return mm(t.databaseId,e.path)}function Ca(t,e){const n=iE(e);if(n.get(1)!==t.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(oE(n))}function sE(t,e){return mm(t.databaseId,e)}function h2(t){const e=iE(t);return e.length===4?Ne.emptyPath():oE(e)}function zh(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oE(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Sv(t,e,n){return{name:Tc(t,e),fields:n.value.mapValue.fields}}function p2(t,e){return"found"in e?function(r,i){xe(!!i.found),i.found.name,i.found.updateTime;const s=Ca(r,i.found.name),o=un(i.found.updateTime),a=i.found.createTime?un(i.found.createTime):ue.min(),u=new $t({mapValue:{fields:i.found.fields}});return ft.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){xe(!!i.missing),xe(!!i.readTime);const s=Ca(r,i.missing),o=un(i.readTime);return ft.newNoDocument(s,o)}(t,e):ae()}function m2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string"),Ft.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:eE(c.code);return new J(d,c.message||"")}(o);n=new nE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ca(t,r.document.name),s=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):ue.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Uu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ca(t,r.document),s=r.readTime?un(r.readTime):ue.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ca(t,r.document),s=r.removedTargetIds||[];n=new Uu([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new i2(i,s),a=r.targetId;n=new tE(a,o)}}return n}function aE(t,e){let n;if(e instanceof Sl)n={update:Sv(t,e.key,e.value)};else if(e instanceof od)n={delete:Tc(t,e.key)};else if(e instanceof di)n={update:Sv(t,e.key,e.data),updateMask:R2(e.fieldMask)};else{if(!(e instanceof Jw))return ae();n={verify:Tc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ec)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof il)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:f2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function g2(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?un(i.updateTime):un(s);return o.isEqual(ue.min())&&(o=un(s)),new ZA(o,i.transformResults||[])}(n,e))):[]}function y2(t,e){return{documents:[sE(t,e.path)]}}function v2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sE(t,i);const s=function(c){if(c.length!==0)return uE(jn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Ts(f.field),direction:E2(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function _2(t){let e=h2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const f=lE(p);return f instanceof jn&&bw(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(w){return new nl(Rs(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,El(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(p){const f=!!p.before,y=p.values||[];return new _c(y,f)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const f=!p.before,y=p.values||[];return new _c(y,f)}(n.endAt)),zA(e,i,o,s,a,"F",u,c)}function w2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rs(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rs(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rs(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rs(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(Rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>lE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function E2(t){return l2[t]}function S2(t){return u2[t]}function T2(t){return c2[t]}function Ts(t){return{fieldPath:t.canonicalString()}}function Rs(t){return Et.fromServerFormat(t.fieldPath)}function uE(t){return t instanceof tt?function(n){if(n.op==="=="){if(lv(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NAN"}};if(av(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lv(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NAN"}};if(av(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(n.field),op:S2(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(i=>uE(i));return r.length===1?r[0]:{compositeFilter:{op:T2(n.op),filters:r}}}(t):ae()}function R2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.ct=e}}function C2(t){const e=_2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._n=new P2}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ni.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class P2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ao(0)}static Ln(){return new ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ia(r.mutation,i,on.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ua();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sr();const o=Ra(),a=function(){return Ra()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof di)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ia(d.mutation,c,d.mutation.getFieldMask(),lt.now())):o.set(c.key,on.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new k2(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ra();let i=new Qe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||on.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=zw();d.forEach(f=>{if(!s.has(f)){const y=Yw(n.get(f),r.get(f));y!==null&&p.set(f,y),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(bi());let a=-1,u=s;return o.next(c=>q.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{u=u.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,_e())).next(d=>({batchId:a,changes:Uw(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ua();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,u=>{const c=function(p,f){return new vo(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,ft.newInvalidDocument(d)))});let a=ua();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ia(d.mutation,c,on.empty(),lt.now()),rd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:un(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:C2(i.bundledQuery),readTime:un(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.overlays=new Qe(ie.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bi();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=bi(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=bi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=bi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new r2(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.Pr=new It(ct.Ir),this.Tr=new It(ct.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ct(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ie(new Ne([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ie(new Ne([])),r=new ct(n,e),i=new ct(n,e+1);let s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ie.comparator(e.key,n.key)||Ae(e.pr,n.pr)}static Er(e,n){return Ae(e.pr,n.pr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new It(ct.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new n2(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Ae);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ie(s),0);let a=new It(Ae);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),q.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return q.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new ct(n,0),i=this.wr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.vr=e,this.docs=function(){return new Qe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sr();const o=n.path,a=new ie(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TA(SA(d),r)<=0||(i.has(d.key)||rd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Fr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new V2(this)}getSize(e){return q.resolve(this.size)}}class V2 extends x2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.persistence=e,this.Mr=new _o(n=>cm(n),dm),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gm,this.targetCount=0,this.Lr=ao.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.Br={},this.overlays={},this.kr=new om(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new M2(this),this.indexManager=new A2,this.remoteDocumentCache=function(i){return new O2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new I2(n),this.$r=new b2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new L2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new j2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class j2 extends IA{constructor(e){super(),this.currentSequenceNumber=e}}class ym{constructor(e){this.persistence=e,this.zr=new gm,this.jr=null}static Hr(e){return new ym(e)}get Jr(){if(this.jr)return this.jr;throw ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,r=>{const i=ie.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return GI()?8:CA(KI())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new U2;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Go()<=Te.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(Go()<=Te.DEBUG&&ee("QueryEngine","Query:",Ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Go()<=Te.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):q.resolve())}ji(e,n){if(fv(n))return q.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wc(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,o,u.readTime)?this.ji(e,wc(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return fv(n)||i.isEqual(ue.min())?q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?q.resolve(null):(Go()<=Te.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ss(n)),this.es(e,o,n,EA(i,-1)).next(a=>a))})}Zi(e,n){let r=new It(Fw(e));return n.forEach((i,s)=>{rd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Go()<=Te.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.zi.getDocumentsMatchingQuery(e,n,ni.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Qe(Ae),this.rs=new _o(s=>cm(s),dm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function B2(t,e,n,r){return new $2(t,e,n,r)}async function dE(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=_e();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function q2(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,f=p.keys();let y=q.resolve();return f.forEach(w=>{y=y.next(()=>d.getEntry(u,w)).next(I=>{const C=c.docVersions.get(w);xe(C!==null),I.version.compareTo(C)<0&&(p.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fE(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function H2(t,e){const n=de(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,p)=>{const f=i.get(p);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,p)));let y=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ft.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(p,y),function(I,C,E){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let u=Sr(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Q2(s,o,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(ue.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function Q2(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function K2(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W2(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new $r(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function $h(t,e,n){const r=de(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wl(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Tv(t,e,n){const r=de(t);let i=ue.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=de(u),f=p.rs.get(d);return f!==void 0?q.resolve(p.ns.get(f)):p.Qr.getTargetData(c,d)}(r,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:_e())).next(a=>(G2(r,BA(e),a),{documents:a,hs:s})))}function G2(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Rv{constructor(){this.activeTargetIds=GA()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y2{constructor(){this.no=new Rv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu=null;function pf(){return gu===null?gu=function(){return 268435456+Math.round(2147483648*Math.random())}():gu++,"0x"+gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class eP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=pf(),u=this.vo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw no("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=J2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=pf();return new Promise((o,a)=>{const u=new _w;u.setWithCredentials(!0),u.listenOnce(Ew.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Mu.NO_ERROR:const d=u.getResponseJson();ee(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Mu.TIMEOUT:ee(Nt,`RPC '${e}' ${s} timed out`),a(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const p=u.getStatus();if(ee(Nt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const y=f==null?void 0:f.error;if(y&&y.status&&y.message){const w=function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(y.status);a(new J(w,y.message))}else a(new J($.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new J($.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{ee(Nt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ee(Nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=pf(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rw(),a=Tw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new ww({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");ee(Nt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let f=!1,y=!1;const w=new Z2({lo:C=>{y?ee(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(ee(Nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),f=!0),ee(Nt,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},ho:()=>p.close()}),I=(C,E,m)=>{C.listen(E,v=>{try{m(v)}catch(S){setTimeout(()=>{throw S},0)}})};return I(p,la.EventType.OPEN,()=>{y||(ee(Nt,`RPC '${e}' stream ${i} transport opened.`),w.mo())}),I(p,la.EventType.CLOSE,()=>{y||(y=!0,ee(Nt,`RPC '${e}' stream ${i} transport closed`),w.po())}),I(p,la.EventType.ERROR,C=>{y||(y=!0,no(Nt,`RPC '${e}' stream ${i} transport errored:`,C),w.po(new J($.UNAVAILABLE,"The operation could not be completed")))}),I(p,la.EventType.MESSAGE,C=>{var E;if(!y){const m=C.data[0];xe(!!m);const v=m,S=v.error||((E=v[0])===null||E===void 0?void 0:E.error);if(S){ee(Nt,`RPC '${e}' stream ${i} received error:`,S);const b=S.status;let A=function(R){const P=Xe[R];if(P!==void 0)return eE(P)}(b),T=S.message;A===void 0&&(A=$.INTERNAL,T="Unknown error status: "+b+" with message "+S.message),y=!0,w.po(new J(A,T)),p.close()}else ee(Nt,`RPC '${e}' stream ${i} received:`,m),w.yo(m)}}),I(a,Sw.STAT_EVENT,C=>{C.stat===Nh.PROXY?ee(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Nh.NOPROXY&&ee(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return new d2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new _m(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tP extends hE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=m2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?un(o.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=zh(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Mh(u)?{documents:y2(s,u)}:{query:v2(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rE(s,o.resumeToken);const c=jh(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Sc(s,o.snapshotVersion.toTimestamp());const c=jh(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=w2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=zh(this.serializer),n.removeTarget=e,this.i_(n)}}class nP extends hE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=g2(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.A_(r,n)}return xe(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=zh(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aE(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Uh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Uh(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class iP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Er(n),this.y_=!1):ee("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{rs(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=de(u);c.M_.add(4),await Rl(c),c.N_.set("Unknown"),c.M_.delete(4),await ud(c)}(this))})}),this.N_=new iP(r,i)}}async function ud(t){if(rs(t))for(const e of t.x_)await e(!0)}async function Rl(t){for(const e of t.x_)await e(!1)}function pE(t,e){const n=de(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Tm(n)?Sm(n):wo(n).Xo()&&Em(n,e))}function wm(t,e){const n=de(t),r=wo(n);n.F_.delete(e),r.Xo()&&mE(n,e),n.F_.size===0&&(r.Xo()?r.n_():rs(n)&&n.N_.set("Unknown"))}function Em(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).P_(e)}function mE(t,e){t.L_.xe(e),wo(t).I_(e)}function Sm(t){t.L_=new a2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.N_.w_()}function Tm(t){return rs(t)&&!wo(t).Zo()&&t.F_.size>0}function rs(t){return de(t).M_.size===0}function gE(t){t.L_=void 0}async function oP(t){t.N_.set("Online")}async function aP(t){t.F_.forEach((e,n)=>{Em(t,e)})}async function lP(t,e){gE(t),Tm(t)?(t.N_.D_(e),Sm(t)):t.N_.set("Unknown")}async function uP(t,e,n){if(t.N_.set("Online"),e instanceof nE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rc(t,r)}else if(e instanceof Uu?t.L_.Ke(e):e instanceof tE?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await fE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken(Ft.EMPTY_BYTE_STRING,d.snapshotVersion)),mE(s,u);const p=new $r(d.target,u,c,d.sequenceNumber);Em(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Rc(t,r)}}async function Rc(t,e,n){if(!wl(e))throw e;t.M_.add(1),await Rl(t),t.N_.set("Offline"),n||(n=()=>fE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await ud(t)})}function yE(t,e){return e().catch(n=>Rc(t,n,e))}async function cd(t){const e=de(t),n=ii(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;cP(e);)try{const i=await K2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,dP(e,i)}catch(i){await Rc(e,i)}vE(e)&&_E(e)}function cP(t){return rs(t)&&t.v_.length<10}function dP(t,e){t.v_.push(e);const n=ii(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function vE(t){return rs(t)&&!ii(t).Zo()&&t.v_.length>0}function _E(t){ii(t).start()}async function fP(t){ii(t).V_()}async function hP(t){const e=ii(t);for(const n of t.v_)e.d_(n.mutations)}async function pP(t,e,n){const r=t.v_.shift(),i=hm.from(r,e,n);await yE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cd(t)}async function mP(t,e){e&&ii(t).E_&&await async function(r,i){if(function(o){return Zw(o)&&o!==$.ABORTED}(i.code)){const s=r.v_.shift();ii(r).t_(),await yE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cd(r)}}(t,e),vE(t)&&_E(t)}async function Cv(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=rs(n);n.M_.add(3),await Rl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await ud(n)}async function gP(t,e){const n=de(t);e?(n.M_.delete(2),await ud(n)):e||(n.M_.add(2),await Rl(n),n.N_.set("Unknown"))}function wo(t){return t.B_||(t.B_=function(n,r,i){const s=de(n);return s.f_(),new tP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:oP.bind(null,t),To:aP.bind(null,t),Ao:lP.bind(null,t),h_:uP.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Tm(t)?Sm(t):t.N_.set("Unknown")):(await t.B_.stop(),gE(t))})),t.B_}function ii(t){return t.k_||(t.k_=function(n,r,i){const s=de(n);return s.f_(),new nP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:fP.bind(null,t),Ao:mP.bind(null,t),R_:hP.bind(null,t),A_:pP.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await cd(t)):(await t.k_.stop(),t.v_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Rm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(t,e){if(Er("AsyncQueue",`${e}: ${t}`),wl(t))return new J($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=ua(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.q_=new Qe(ie.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ae():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class lo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lo(e,n,Ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class vP{constructor(){this.queries=new _o(e=>Mw(e),nd),this.onlineState="Unknown",this.z_=new Set}}async function wE(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new yP,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Im(o,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Cm(n)}async function EE(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _P(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Cm(n)}function wP(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function Cm(t){t.z_.forEach(e=>{e.next()})}var Bh,Pv;(Pv=Bh||(Bh={})).J_="default",Pv.Cache="cache";class SE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Bh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class EP{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=Fw(e),this.Ta=new Ks(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Av,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const f=i.get(d),y=rd(this.query,p)?p:null,w=!!f&&this.mutatedKeys.has(f.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;f&&y?f.data.isEqual(y.data)?w!==I&&(r.track({type:3,doc:y}),C=!0):this.Ra(f,y)||(r.track({type:2,doc:y}),C=!0,(u&&this.Ia(y,u)>0||c&&this.Ia(y,c)<0)&&(a=!0)):!f&&y?(r.track({type:0,doc:y}),C=!0):f&&!y&&(r.track({type:1,doc:f}),C=!0,(u||c)&&(a=!0)),C&&(y?(o=o.add(y),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,p)=>function(y,w){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return I(y)-I(w)}(d.type,p.type)||this.Ia(d.doc,p.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new lo(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Av,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new RE(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new TE(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return lo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class SP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TP{constructor(e){this.key=e,this.wa=!1}}class RP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new _o(a=>Mw(a),nd),this.Da=new Map,this.Ca=new Set,this.va=new Qe(ie.comparator),this.Fa=new Map,this.Ma=new gm,this.xa={},this.Oa=new Map,this.Na=ao.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function IP(t,e,n=!0){const r=kE(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await IE(r,e,n,!0),i}async function CP(t,e){const n=kE(t);await IE(n,e,!0,!1)}async function IE(t,e,n,r){const i=await W2(t.localStore,Zn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await AP(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&pE(t.remoteStore,i),a}async function AP(t,e,n,r,i){t.Ba=(p,f,y)=>async function(I,C,E,m){let v=C.view.da(E);v.Xi&&(v=await Tv(I.localStore,C.query,!1).then(({documents:T})=>C.view.da(T,v)));const S=m&&m.targetChanges.get(C.targetId),b=m&&m.targetMismatches.get(C.targetId)!=null,A=C.view.applyChanges(v,I.isPrimaryClient,S,b);return kv(I,C.targetId,A.fa),A.snapshot}(t,p,f,y);const s=await Tv(t.localStore,e,!0),o=new EP(e,s.hs),a=o.da(s.documents),u=Tl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);kv(t,n,c.fa);const d=new SP(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function PP(t,e,n){const r=de(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!nd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $h(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wm(r.remoteStore,i.targetId),qh(r,i.targetId)}).catch(_l)):(qh(r,i.targetId),await $h(r.localStore,i.targetId,!0))}async function xP(t,e){const n=de(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wm(n.remoteStore,r.targetId))}async function kP(t,e,n){const r=MP(t);try{const i=await function(o,a){const u=de(o),c=lt.now(),d=a.reduce((y,w)=>y.add(w.key),_e());let p,f;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Sr(),I=_e();return u.os.getEntries(y,d).next(C=>{w=C,w.forEach((E,m)=>{m.isValidDocument()||(I=I.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(C=>{p=C;const E=[];for(const m of a){const v=t2(m,p.get(m.key).overlayedDocument);v!=null&&E.push(new di(m.key,v,xw(v.value.mapValue),St.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,E,a)}).next(C=>{f=C;const E=C.applyToLocalDocumentSet(p,I);return u.documentOverlayCache.saveOverlays(y,C.batchId,E)})}).then(()=>({batchId:f.batchId,changes:Uw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.xa[o.currentUser.toKey()];c||(c=new Qe(Ae)),c=c.insert(a,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Il(r,i.changes),await cd(r.remoteStore)}catch(i){const s=Im(i,"Failed to persist write");n.reject(s)}}async function CE(t,e){const n=de(t);try{const r=await H2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?xe(o.wa):i.removedDocuments.size>0&&(xe(o.wa),o.wa=!1))}),await Il(n,r,e)}catch(r){await _l(r)}}function xv(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=de(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const f of p.U_)f.j_(a)&&(c=!0)}),c&&Cm(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DP(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Qe(ie.comparator);o=o.insert(s,ft.newNoDocument(s,ue.min()));const a=_e().add(s),u=new ad(ue.min(),new Map,new Qe(Ae),o,a);await CE(r,u),r.va=r.va.remove(s),r.Fa.delete(e),Am(r)}else await $h(r.localStore,e,!1).then(()=>qh(r,e,n)).catch(_l)}async function bP(t,e){const n=de(t),r=e.batch.batchId;try{const i=await q2(n.localStore,e);PE(n,r,null),AE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Il(n,i)}catch(i){await _l(i)}}async function NP(t,e,n){const r=de(t);try{const i=await function(o,a){const u=de(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(xe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);PE(r,e,n),AE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Il(r,i)}catch(i){await _l(i)}}function AE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function PE(t,e,n){const r=de(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function qh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||xE(t,r)})}function xE(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(wm(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Am(t))}function kv(t,e,n){for(const r of n)r instanceof TE?(t.Ma.addReference(r.key,e),LP(t,r)):r instanceof RE?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||xE(t,r.key)):ae()}function LP(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Am(t))}function Am(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ie(Ne.fromString(e)),r=t.Na.next();t.Fa.set(r,new TP(n)),t.va=t.va.insert(n,r),pE(t.remoteStore,new $r(Zn(fm(n.path)),r,"TargetPurposeLimboResolution",om.oe))}}async function Il(t,e,n){const r=de(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=vm.Ki(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const d=de(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(c,f=>q.forEach(f.qi,y=>d.persistence.referenceDelegate.addReference(p,f.targetId,y)).next(()=>q.forEach(f.Qi,y=>d.persistence.referenceDelegate.removeReference(p,f.targetId,y)))))}catch(p){if(!wl(p))throw p;ee("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const f=p.targetId;if(!p.fromCache){const y=d.ns.get(f),w=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(w);d.ns=d.ns.insert(f,I)}}}(r.localStore,s))}async function OP(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await dE(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new J($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Il(n,r.us)}}function VP(t,e){const n=de(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function kE(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DP.bind(null,e),e.Sa.h_=_P.bind(null,e.eventManager),e.Sa.ka=wP.bind(null,e.eventManager),e}function MP(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NP.bind(null,e),e}class Dv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return B2(this.persistence,new z2,e.initialUser,this.serializer)}createPersistence(e){return new F2(ym.Hr,this.serializer)}createSharedClientState(e){return new Y2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OP.bind(null,this.syncEngine),await gP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vP}()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=function(s){return new eP(s)}(e.databaseInfo);return function(s,o,a,u){return new rP(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new sP(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xv(this.syncEngine,n,0),function(){return Iv.D()?new Iv:new X2}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const p=new RP(i,s,o,a,u,c);return d&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=de(r);ee("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Rl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new J($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=de(i),a={documents:s.map(p=>Tc(o.serializer,p))},u=await o.xo("BatchGetDocuments",o.serializer.databaseId,Ne.emptyPath(),a,s.length),c=new Map;u.forEach(p=>{const f=p2(o.serializer,p);c.set(f.key.toString(),f)});const d=[];return s.forEach(p=>{const f=c.get(p.toString());xe(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new od(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ie.fromPath(r);this.mutations.push(new Jw(i,this.precondition(i)))}),await async function(r,i){const s=de(r),o={writes:i.map(a=>aE(s.serializer,a))};await s.Co("Commit",s.serializer.databaseId,Ne.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ae();n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new J($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?St.exists(!1):St.updateTime(n):St.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new J($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return St.updateTime(n)}return St.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new _m(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new jP(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!El(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Zw(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=Cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Im(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gf(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BP(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Cv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Cv(e.remoteStore,i)),t._onlineComponents=e}function $P(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await gf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$P(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await gf(t,new Dv)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await gf(t,new Dv);return t._offlineComponents}async function Pm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await bv(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await bv(t,new FP))),t._onlineComponents}function qP(t){return Pm(t).then(e=>e.syncEngine)}function HP(t){return Pm(t).then(e=>e.datastore)}async function bE(t){const e=await Pm(t),n=e.eventManager;return n.onListen=IP.bind(null,e.syncEngine),n.onUnlisten=PP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xP.bind(null,e.syncEngine),n}function QP(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new DE({next:f=>{o.enqueueAndForget(()=>EE(s,p));const y=f.docs.has(a);!y&&f.fromCache?c.reject(new J($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&f.fromCache&&u&&u.source==="server"?c.reject(new J($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new SE(fm(a.path),d,{includeMetadataChanges:!0,ra:!0});return wE(s,p)}(await bE(t),t.asyncQueue,e,n,r)),r.promise}function KP(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new DE({next:f=>{o.enqueueAndForget(()=>EE(s,p)),f.fromCache&&u.source==="server"?c.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),p=new SE(a,d,{includeMetadataChanges:!0,ra:!0});return wE(s,p)}(await bE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t,e,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WP(t,e,n,r){if(e===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lv(t){if(!ie.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ov(t){if(ie.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(t);throw new J($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fA;switch(r.type){case"firstParty":return new gA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nv.get(n);r&&(ee("ComponentProvider","Removing Datastore"),Nv.delete(n),r.terminate())}(this),Promise.resolve()}}function GP(t,e,n,r={}){var i;const s=(t=Rn(t,fd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Lt.MOCK_USER;else{a=QI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Lt(c)}t._authCredentials=new hA(new Iw(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}}class Zr extends fi{constructor(e,n,r){super(e,n,fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ie(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Ic(t,e,...n){if(t=Fn(t),LE("collection","path",e),t instanceof fd){const r=Ne.fromString(e,...n);return Ov(r),new Zr(t,null,r)}{if(!(t instanceof Vt||t instanceof Zr))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Ov(r),new Zr(t.firestore,null,r)}}function yn(t,e,...n){if(t=Fn(t),arguments.length===1&&(e=Cw.newId()),LE("doc","path",e),t instanceof fd){const r=Ne.fromString(e,...n);return Lv(r),new Vt(t,null,new ie(r))}{if(!(t instanceof Vt||t instanceof Zr))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Lv(r),new Vt(t.firestore,t instanceof Zr?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new _m(this,"async_queue_retry"),this.hu=()=>{const n=mf();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=mf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Jn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!wl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Rm.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ae()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class hi extends fd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new YP}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OE(this),this._firestoreClient.terminate()}}function XP(t,e){const n=typeof t=="object"?t:eA(),r=typeof t=="string"?t:"(default)",i=YC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=qI("firestore");s&&GP(i,...s)}return i}function hd(t){return t._firestoreClient||OE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OE(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new xA(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NE(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zP(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wi(Ft.fromBase64String(e))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wi(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=/^__.*__$/;class ZP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(e,this.data,n,this.fieldTransforms)}}class VE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ME(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class pd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Cc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(ME(this.fu)&&JP.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ex{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}Fu(e,n,r,i=!1){return new pd({fu:e,methodName:n,vu:r,path:Et.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pl(t){const e=t._freezeSettings(),n=ld(t._databaseId);return new ex(t._databaseId,!!e.ignoreUndefinedProperties,n)}function km(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Nm("Data must be an object, but it was:",o,r);const a=UE(r,o);let u,c;if(s.merge)u=new on(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const f=Hh(e,p,n);if(!o.contains(f))throw new J($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$E(d,f)||d.push(f)}u=new on(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new ZP(new $t(a),u,c)}class md extends Al{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function tx(t,e,n){return new pd({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Dm extends Al{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=tx(this,e,!0),r=this.Mu.map(s=>Eo(s,n)),i=new oo(r);return new Gw(e.path,i)}isEqual(e){return e instanceof Dm&&mc(this.Mu,e.Mu)}}class bm extends Al{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new il(e.serializer,qw(e.serializer,this.xu));return new Gw(e.path,n)}isEqual(e){return e instanceof bm&&this.xu===e.xu}}function FE(t,e,n,r){const i=t.Fu(1,e,n);Nm("Data must be an object, but it was:",i,r);const s=[],o=$t.empty();ns(r,(u,c)=>{const d=Lm(e,u,n);c=Fn(c);const p=i.Su(d);if(c instanceof md)s.push(d);else{const f=Eo(c,p);f!=null&&(s.push(d),o.set(d,f))}});const a=new on(s);return new VE(o,a,i.fieldTransforms)}function jE(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Hh(e,r,n)],u=[i];if(s.length%2!=0)throw new J($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Hh(e,s[f])),u.push(s[f+1]);const c=[],d=$t.empty();for(let f=a.length-1;f>=0;--f)if(!$E(c,a[f])){const y=a[f];let w=u[f];w=Fn(w);const I=o.Su(y);if(w instanceof md)c.push(y);else{const C=Eo(w,I);C!=null&&(c.push(y),d.set(y,C))}}const p=new on(c);return new VE(d,p,o.fieldTransforms)}function nx(t,e,n,r=!1){return Eo(n,t.Fu(r?4:3,e))}function Eo(t,e){if(zE(t=Fn(t)))return Nm("Unsupported field value:",e,t),UE(t,e);if(t instanceof Al)return function(r,i){if(!ME(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Eo(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qw(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Sc(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sc(i.serializer,s)}}if(r instanceof xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wi)return{bytesValue:rE(i.serializer,r._byteString)};if(r instanceof Vt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${dd(r)}`)}(t,e)}function UE(t,e){const n={};return Aw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(t,(r,i)=>{const s=Eo(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof xm||t instanceof Wi||t instanceof Vt||t instanceof Al)}function Nm(t,e,n){if(!zE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=dd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Hh(t,e,n){if((e=Fn(e))instanceof Cl)return e._internalPath;if(typeof e=="string")return Lm(t,e);throw Cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const rx=new RegExp("[~\\*/\\[\\]]");function Lm(t,e,n){if(e.search(rx)>=0)throw Cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cl(...e.split("."))._internalPath}catch{throw Cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new J($.INVALID_ARGUMENT,a+t+u)}function $E(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ix extends Ac{data(){return super.data()}}function Om(t,e){return typeof e=="string"?Lm(t,e):e instanceof Cl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class Mm extends Vm{}function BE(t,e,...n){let r=[];e instanceof Vm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof jm).length,a=s.filter(u=>u instanceof Fm).length;if(o>1||o>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Fm extends Mm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fm(e,n,r)}_apply(e){const n=this._parse(e);return qE(e._query,n),new fi(e.firestore,e.converter,Fh(e._query,n))}_parse(e){const n=Pl(e.firestore);return function(s,o,a,u,c,d,p){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Fv(p,d);const y=[];for(const w of p)y.push(Mv(u,s,w));f={arrayValue:{values:y}}}else f=Mv(u,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Fv(p,d),f=nx(a,o,p,d==="in"||d==="not-in");return tt.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jm extends Vm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)qE(o,u),o=Fh(o,u)}(e._query,n),new fi(e.firestore,e.converter,Fh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Um extends Mm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Um(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nl(s,o)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new vo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ox(t,e="asc"){const n=e,r=Om("orderBy",t);return Um._create(r,n)}class zm extends Mm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zm(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,wc(e._query,this._limit,this._limitType))}}function ax(t){return zm._create("limit",t,"F")}function Mv(t,e,n){if(typeof(n=Fn(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vw(e)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!ie.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ov(t,new ie(r))}if(n instanceof Vt)return ov(t,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function Fv(t,e){if(!Array.isArray(t)||t.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qE(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HE{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ns(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xm(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Za(e));default:return null}}convertTimestamp(e){const n=ri(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);xe(cE(r));const i=new el(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||Er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lx extends HE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bm extends Ac{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zu extends Bm{data(e={}){return super.data(e)}}class ux{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zu(this._firestore,this._userDataWriter,r.key,r,new Ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new zu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ms(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:cx(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){t=Rn(t,Vt);const e=Rn(t.firestore,hi);return QP(hd(e),t._key).then(n=>hx(e,t,n))}class qm extends HE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function QE(t){t=Rn(t,fi);const e=Rn(t.firestore,hi),n=hd(e),r=new qm(e);return sx(t._query),KP(n,t._query).then(i=>new ux(e,r,t,i))}function Qh(t,e,n){t=Rn(t,Vt);const r=Rn(t.firestore,hi),i=$m(t.converter,e,n);return gd(r,[km(Pl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,St.none())])}function jv(t,e,n,...r){t=Rn(t,Vt);const i=Rn(t.firestore,hi),s=Pl(i);let o;return o=typeof(e=Fn(e))=="string"||e instanceof Cl?jE(s,"updateDoc",t._key,e,n,r):FE(s,"updateDoc",t._key,e),gd(i,[o.toMutation(t._key,St.exists(!0))])}function dx(t){return gd(Rn(t.firestore,hi),[new od(t._key,St.none())])}function fx(t,e){const n=Rn(t.firestore,hi),r=yn(t),i=$m(t.converter,e);return gd(n,[km(Pl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,St.exists(!1))]).then(()=>r)}function gd(t,e){return function(r,i){const s=new Jn;return r.asyncQueue.enqueueAndForget(async()=>kP(await qP(r),i,s)),s.promise}(hd(t),e)}function hx(t,e,n){const r=n.docs.get(e._key),i=new qm(t);return new Bm(t,i,e._key,r,new Ms(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px={maxAttempts:5};function Yo(t,e){if((t=Fn(t)).firestore!==e)throw new J($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Pl(n)}get(n){const r=Yo(n,this._firestore),i=new lx(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return ae();const o=s[0];if(o.isFoundDocument())return new Ac(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Ac(this._firestore,i,r._key,null,r.converter);throw ae()})}set(n,r,i){const s=Yo(n,this._firestore),o=$m(s.converter,r,i),a=km(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Yo(n,this._firestore);let a;return a=typeof(r=Fn(r))=="string"||r instanceof Cl?jE(this._dataReader,"Transaction.update",o._key,r,i,s):FE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Yo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Yo(e,this._firestore),r=new qm(this._firestore);return super.get(e).then(i=>new Bm(this._firestore,r,n._key,i._document,new Ms(!1,!1),n.converter))}}function gx(t,e,n){t=Rn(t,hi);const r=Object.assign(Object.assign({},px),n);return function(s){if(s.maxAttempts<1)throw new J($.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Jn;return s.asyncQueue.enqueueAndForget(async()=>{const c=await HP(s);new UP(s.asyncQueue,c,a,o,u).Xa()}),u.promise}(hd(t),i=>e(new mx(t,i)),r)}function yx(...t){return new Dm("arrayUnion",t)}function yf(t){return new bm("increment",t)}(function(e,n=!0){(function(i){yo=i})(ZC),yc(new Ya("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new hi(new pA(r.getProvider("auth-internal")),new vA(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qs(nv,"4.6.4",e),Qs(nv,"4.6.4","esm2017")})();/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $e(){return $e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$e.apply(this,arguments)}var Je;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Je||(Je={}));const Uv="popstate";function vx(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return sl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gi(i)}return wx(e,n,null,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _x(){return Math.random().toString(36).substr(2,8)}function zv(t,e){return{usr:t.state,key:t.key,idx:e}}function sl(t,e,n,r){return n===void 0&&(n=null),$e({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pi(e):e,{state:n,key:e&&e.key||r||_x()})}function Gi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Je.Pop,u=null,c=d();c==null&&(c=0,o.replaceState($e({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Je.Pop;let C=d(),E=C==null?null:C-c;c=C,u&&u({action:a,location:I.location,delta:E})}function f(C,E){a=Je.Push;let m=sl(I.location,C,E);c=d()+1;let v=zv(m,c),S=I.createHref(m);try{o.pushState(v,"",S)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(S)}s&&u&&u({action:a,location:I.location,delta:1})}function y(C,E){a=Je.Replace;let m=sl(I.location,C,E);c=d();let v=zv(m,c),S=I.createHref(m);o.replaceState(v,"",S),s&&u&&u({action:a,location:I.location,delta:0})}function w(C){let E=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof C=="string"?C:Gi(C);return m=m.replace(/ $/,"%20"),ge(E,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,E)}let I={get action(){return a},get location(){return t(i,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Uv,p),u=C,()=>{i.removeEventListener(Uv,p),u=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let E=w(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:y,go(C){return o.go(C)}};return I}var Le;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Le||(Le={}));const Ex=new Set(["lazy","caseSensitive","path","id","index","children"]);function Sx(t){return t.index===!0}function ol(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Sx(i)){let u=$e({},i,e(i),{id:a});return r[a]=u,u}else{let u=$e({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=ol(i.children,e,o,r)),u}})}function Pi(t,e,n){return n===void 0&&(n="/"),$u(t,e,n,!1)}function $u(t,e,n,r){let i=typeof e=="string"?pi(e):e,s=tr(i.pathname||"/",n);if(s==null)return null;let o=WE(t);Tx(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Lx(s);a=bx(o[u],c,r)}return a}function KE(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function WE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ge(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=gr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),WE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:kx(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of GE(s.path))i(s,o,u)}),e}function GE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=GE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Tx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rx=/^:[\w-]+$/,Ix=3,Cx=2,Ax=1,Px=10,xx=-2,$v=t=>t==="*";function kx(t,e){let n=t.split("/"),r=n.length;return n.some($v)&&(r+=xx),e&&(r+=Cx),n.filter(i=>!$v(i)).reduce((i,s)=>i+(Rx.test(s)?Ix:s===""?Ax:Px),r)}function Dx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bx(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Pc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Pc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:gr([s,p.pathname]),pathnameBase:Mx(gr([s,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(s=gr([s,p.pathnameBase]))}return o}function Pc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Nx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let I=a[p]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const w=a[p];return y&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Nx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ox(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pi(t):t;return{pathname:n?n.startsWith("/")?n:Vx(n,e):e,search:Fx(r),hash:jx(i)}}function Vx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hm(t,e){let n=YE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=pi(t):(i=$e({},t),ge(!i.pathname||!i.pathname.includes("?"),vf("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),vf("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),vf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;i.pathname=f.join("/")}a=p>=0?e[p]:"/"}let u=Ox(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const gr=t=>t.join("/").replace(/\/\/+/g,"/"),Mx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Fx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Km{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XE=["post","put","patch","delete"],Ux=new Set(XE),zx=["get",...XE],$x=new Set(zx),Bx=new Set([301,302,303,307,308]),qx=new Set([307,308]),_f={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Wm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qx=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),JE="remix-router-transitions";function Kx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let L=t.detectErrorBoundary;i=O=>({hasErrorBoundary:L(O)})}else i=Qx;let s={},o=ol(t.routes,i,void 0,s),a,u=t.basename||"/",c=t.unstable_dataStrategy||Jx,d=t.unstable_patchRoutesOnMiss,p=$e({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,y=new Set,w=null,I=null,C=null,E=t.hydrationData!=null,m=Pi(o,t.history.location,u),v=null;if(m==null&&!d){let L=Ut(404,{pathname:t.history.location.pathname}),{matches:O,route:F}=Jv(o);m=O,v={[F.id]:L}}m&&d&&!t.hydrationData&&or(m,o,t.history.location.pathname).active&&(m=null);let S;if(!m)S=!1,m=[];else if(m.some(L=>L.route.lazy))S=!1;else if(!m.some(L=>L.route.loader))S=!0;else if(p.v7_partialHydration){let L=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null,F=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:L&&L[z.route.id]!==void 0||O&&O[z.route.id]!==void 0:!0;if(O){let z=m.findIndex(Y=>O[Y.route.id]!==void 0);S=m.slice(0,z+1).every(F)}else S=m.every(F)}else S=t.hydrationData!=null;let b,A={historyAction:t.history.action,location:t.history.location,matches:m,initialized:S,navigation:_f,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},T=Je.Pop,_=!1,R,P=!1,k=new Map,N=null,D=!1,Q=!1,se=[],we=[],ce=new Map,B=0,X=-1,W=new Map,le=new Set,he=new Map,me=new Map,nt=new Set,pt=new Map,mt=new Map,In=new Map,So=!1;function Cd(){if(f=t.history.listen(L=>{let{action:O,location:F,delta:z}=L;if(So){So=!1;return}uo(mt.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=xo({currentLocation:A.location,nextLocation:F,historyAction:O});if(Y&&z!=null){So=!0,t.history.go(z*-1),_i(Y,{state:"blocked",location:F,proceed(){_i(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(z)},reset(){let te=new Map(A.blockers);te.set(Y,Xo),rt({blockers:te})}});return}return $n(O,F)}),n){dk(e,k);let L=()=>fk(e,k);e.addEventListener("pagehide",L),N=()=>e.removeEventListener("pagehide",L)}return A.initialized||$n(Je.Pop,A.location,{initialHydration:!0}),b}function is(){f&&f(),N&&N(),y.clear(),R&&R.abort(),A.fetchers.forEach((L,O)=>as(O)),A.blockers.forEach((L,O)=>us(O))}function ss(L){return y.add(L),()=>y.delete(L)}function rt(L,O){O===void 0&&(O={}),A=$e({},A,L);let F=[],z=[];p.v7_fetcherPersist&&A.fetchers.forEach((Y,te)=>{Y.state==="idle"&&(nt.has(te)?z.push(te):F.push(te))}),[...y].forEach(Y=>Y(A,{deletedFetchers:z,unstable_viewTransitionOpts:O.viewTransitionOpts,unstable_flushSync:O.flushSync===!0})),p.v7_fetcherPersist&&(F.forEach(Y=>A.fetchers.delete(Y)),z.forEach(Y=>as(Y)))}function zn(L,O,F){var z,Y;let{flushSync:te}=F===void 0?{}:F,oe=A.actionData!=null&&A.navigation.formMethod!=null&&bn(A.navigation.formMethod)&&A.navigation.state==="loading"&&((z=L.state)==null?void 0:z._isRedirect)!==!0,K;O.actionData?Object.keys(O.actionData).length>0?K=O.actionData:K=null:oe?K=A.actionData:K=null;let fe=O.loaderData?Yv(A.loaderData,O.loaderData,O.matches||[],O.errors):A.loaderData,ne=A.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Ie,Pe)=>ne.set(Pe,Xo)));let re=_===!0||A.navigation.formMethod!=null&&bn(A.navigation.formMethod)&&((Y=L.state)==null?void 0:Y._isRedirect)!==!0;a&&(o=a,a=void 0),D||T===Je.Pop||(T===Je.Push?t.history.push(L,L.state):T===Je.Replace&&t.history.replace(L,L.state));let ye;if(T===Je.Pop){let Ie=k.get(A.location.pathname);Ie&&Ie.has(L.pathname)?ye={currentLocation:A.location,nextLocation:L}:k.has(L.pathname)&&(ye={currentLocation:L,nextLocation:A.location})}else if(P){let Ie=k.get(A.location.pathname);Ie?Ie.add(L.pathname):(Ie=new Set([L.pathname]),k.set(A.location.pathname,Ie)),ye={currentLocation:A.location,nextLocation:L}}rt($e({},O,{actionData:K,loaderData:fe,historyAction:T,location:L,initialized:!0,navigation:_f,revalidation:"idle",restoreScrollPosition:Do(L,O.matches||A.matches),preventScrollReset:re,blockers:ne}),{viewTransitionOpts:ye,flushSync:te===!0}),T=Je.Pop,_=!1,P=!1,D=!1,Q=!1,se=[],we=[]}async function os(L,O){if(typeof L=="number"){t.history.go(L);return}let F=Kh(A.location,A.matches,u,p.v7_prependBasename,L,p.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:z,submission:Y,error:te}=Bv(p.v7_normalizeFormMethod,!1,F,O),oe=A.location,K=sl(A.location,z,O&&O.state);K=$e({},K,t.history.encodeLocation(K));let fe=O&&O.replace!=null?O.replace:void 0,ne=Je.Push;fe===!0?ne=Je.Replace:fe===!1||Y!=null&&bn(Y.formMethod)&&Y.formAction===A.location.pathname+A.location.search&&(ne=Je.Replace);let re=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ye=(O&&O.unstable_flushSync)===!0,Ie=xo({currentLocation:oe,nextLocation:K,historyAction:ne});if(Ie){_i(Ie,{state:"blocked",location:K,proceed(){_i(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),os(L,O)},reset(){let Pe=new Map(A.blockers);Pe.set(Ie,Xo),rt({blockers:Pe})}});return}return await $n(ne,K,{submission:Y,pendingError:te,preventScrollReset:re,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition,flushSync:ye})}function To(){if(st(),rt({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){$n(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}$n(T||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation})}}async function $n(L,O,F){R&&R.abort(),R=null,T=L,D=(F&&F.startUninterruptedRevalidation)===!0,cs(A.location,A.matches),_=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let z=a||o,Y=F&&F.overrideNavigation,te=Pi(z,O,u),oe=(F&&F.flushSync)===!0,K=or(te,z,O.pathname);if(K.active&&K.matches&&(te=K.matches),!te){let{error:Ee,notFoundMatches:Ge,route:ze}=ir(O.pathname);zn(O,{matches:Ge,loaderData:{},errors:{[ze.id]:Ee}},{flushSync:oe});return}if(A.initialized&&!Q&&ik(A.location,O)&&!(F&&F.submission&&bn(F.submission.formMethod))){zn(O,{matches:te},{flushSync:oe});return}R=new AbortController;let fe=gs(t.history,O,R.signal,F&&F.submission),ne;if(F&&F.pendingError)ne=[Fs(te).route.id,{type:Le.error,error:F.pendingError}];else if(F&&F.submission&&bn(F.submission.formMethod)){let Ee=await Ad(fe,O,F.submission,te,K.active,{replace:F.replace,flushSync:oe});if(Ee.shortCircuited)return;if(Ee.pendingActionResult){let[Ge,ze]=Ee.pendingActionResult;if(nn(ze)&&yd(ze.error)&&ze.error.status===404){R=null,zn(O,{matches:Ee.matches,loaderData:{},errors:{[Ge]:ze.error}});return}}te=Ee.matches||te,ne=Ee.pendingActionResult,Y=wf(O,F.submission),oe=!1,K.active=!1,fe=gs(t.history,fe.url,fe.signal)}let{shortCircuited:re,matches:ye,loaderData:Ie,errors:Pe}=await Pd(fe,O,te,K.active,Y,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,oe,ne);re||(R=null,zn(O,$e({matches:ye||te},Xv(ne),{loaderData:Ie,errors:Pe})))}async function Ad(L,O,F,z,Y,te){te===void 0&&(te={}),st();let oe=uk(O,F);if(rt({navigation:oe},{flushSync:te.flushSync===!0}),Y){let ne=await Ei(z,O.pathname,L.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let{boundaryId:re,error:ye}=Ar(O.pathname,ne);return{matches:ne.partialMatches,pendingActionResult:[re,{type:Le.error,error:ye}]}}else if(ne.matches)z=ne.matches;else{let{notFoundMatches:re,error:ye,route:Ie}=ir(O.pathname);return{matches:re,pendingActionResult:[Ie.id,{type:Le.error,error:ye}]}}}let K,fe=da(z,O);if(!fe.route.action&&!fe.route.lazy)K={type:Le.error,error:Ut(405,{method:L.method,pathname:O.pathname,routeId:fe.route.id})};else if(K=(await Cr("action",L,[fe],z))[0],L.signal.aborted)return{shortCircuited:!0};if(Li(K)){let ne;return te&&te.replace!=null?ne=te.replace:ne=Kv(K.response.headers.get("Location"),new URL(L.url),u)===A.location.pathname+A.location.search,await rr(L,K,{submission:F,replace:ne}),{shortCircuited:!0}}if(Ni(K))throw Ut(400,{type:"defer-action"});if(nn(K)){let ne=Fs(z,fe.route.id);return(te&&te.replace)!==!0&&(T=Je.Push),{matches:z,pendingActionResult:[ne.route.id,K]}}return{matches:z,pendingActionResult:[fe.route.id,K]}}async function Pd(L,O,F,z,Y,te,oe,K,fe,ne,re){let ye=Y||wf(O,te),Ie=te||oe||t_(ye),Pe=!D&&(!p.v7_partialHydration||!fe);if(z){if(Pe){let Ve=Ro(re);rt($e({navigation:ye},Ve!==void 0?{actionData:Ve}:{}),{flushSync:ne})}let pe=await Ei(F,O.pathname,L.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let{boundaryId:Ve,error:Pt}=Ar(O.pathname,pe);return{matches:pe.partialMatches,loaderData:{},errors:{[Ve]:Pt}}}else if(pe.matches)F=pe.matches;else{let{error:Ve,notFoundMatches:Pt,route:De}=ir(O.pathname);return{matches:Pt,loaderData:{},errors:{[De.id]:Ve}}}}let Ee=a||o,[Ge,ze]=qv(t.history,A,F,Ie,O,p.v7_partialHydration&&fe===!0,p.v7_skipActionErrorRevalidation,Q,se,we,nt,he,le,Ee,u,re);if(wi(pe=>!(F&&F.some(Ve=>Ve.route.id===pe))||Ge&&Ge.some(Ve=>Ve.route.id===pe)),X=++B,Ge.length===0&&ze.length===0){let pe=ls();return zn(O,$e({matches:F,loaderData:{},errors:re&&nn(re[1])?{[re[0]]:re[1].error}:null},Xv(re),pe?{fetchers:new Map(A.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(Pe){let pe={};if(!z){pe.navigation=ye;let Ve=Ro(re);Ve!==void 0&&(pe.actionData=Ve)}ze.length>0&&(pe.fetchers=Io(ze)),rt(pe,{flushSync:ne})}ze.forEach(pe=>{ce.has(pe.key)&&Cn(pe.key),pe.controller&&ce.set(pe.key,pe.controller)});let Pr=()=>ze.forEach(pe=>Cn(pe.key));R&&R.signal.addEventListener("abort",Pr);let{loaderResults:Bn,fetcherResults:An}=await it(A.matches,F,Ge,ze,L);if(L.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Pr),ze.forEach(pe=>ce.delete(pe.key));let ar=Zv([...Bn,...An]);if(ar){if(ar.idx>=Ge.length){let pe=ze[ar.idx-Ge.length].key;le.add(pe)}return await rr(L,ar.result,{replace:K}),{shortCircuited:!0}}let{loaderData:qn,errors:At}=Gv(A,F,Ge,Bn,re,ze,An,pt);pt.forEach((pe,Ve)=>{pe.subscribe(Pt=>{(Pt||pe.done)&&pt.delete(Ve)})}),p.v7_partialHydration&&fe&&A.errors&&Object.entries(A.errors).filter(pe=>{let[Ve]=pe;return!Ge.some(Pt=>Pt.route.id===Ve)}).forEach(pe=>{let[Ve,Pt]=pe;At=Object.assign(At||{},{[Ve]:Pt})});let gn=ls(),xr=Ml(X),ds=gn||xr||ze.length>0;return $e({matches:F,loaderData:qn,errors:At},ds?{fetchers:new Map(A.fetchers)}:{})}function Ro(L){if(L&&!nn(L[1]))return{[L[0]]:L[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Io(L){return L.forEach(O=>{let F=A.fetchers.get(O.key),z=Jo(void 0,F?F.data:void 0);A.fetchers.set(O.key,z)}),new Map(A.fetchers)}function Vl(L,O,F,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ce.has(L)&&Cn(L);let Y=(z&&z.unstable_flushSync)===!0,te=a||o,oe=Kh(A.location,A.matches,u,p.v7_prependBasename,F,p.v7_relativeSplatPath,O,z==null?void 0:z.relative),K=Pi(te,oe,u),fe=or(K,te,oe);if(fe.active&&fe.matches&&(K=fe.matches),!K){mn(L,O,Ut(404,{pathname:oe}),{flushSync:Y});return}let{path:ne,submission:re,error:ye}=Bv(p.v7_normalizeFormMethod,!0,oe,z);if(ye){mn(L,O,ye,{flushSync:Y});return}let Ie=da(K,ne);if(_=(z&&z.preventScrollReset)===!0,re&&bn(re.formMethod)){xd(L,O,ne,Ie,K,fe.active,Y,re);return}he.set(L,{routeId:O,path:ne}),Co(L,O,ne,Ie,K,fe.active,Y,re)}async function xd(L,O,F,z,Y,te,oe,K){st(),he.delete(L);function fe(De){if(!De.route.action&&!De.route.lazy){let Zt=Ut(405,{method:K.formMethod,pathname:F,routeId:O});return mn(L,O,Zt,{flushSync:oe}),!0}return!1}if(!te&&fe(z))return;let ne=A.fetchers.get(L);Jt(L,ck(K,ne),{flushSync:oe});let re=new AbortController,ye=gs(t.history,F,re.signal,K);if(te){let De=await Ei(Y,F,ye.signal);if(De.type==="aborted")return;if(De.type==="error"){let{error:Zt}=Ar(F,De);mn(L,O,Zt,{flushSync:oe});return}else if(De.matches){if(Y=De.matches,z=da(Y,F),fe(z))return}else{mn(L,O,Ut(404,{pathname:F}),{flushSync:oe});return}}ce.set(L,re);let Ie=B,Ee=(await Cr("action",ye,[z],Y))[0];if(ye.signal.aborted){ce.get(L)===re&&ce.delete(L);return}if(p.v7_fetcherPersist&&nt.has(L)){if(Li(Ee)||nn(Ee)){Jt(L,Or(void 0));return}}else{if(Li(Ee))if(ce.delete(L),X>Ie){Jt(L,Or(void 0));return}else return le.add(L),Jt(L,Jo(K)),rr(ye,Ee,{fetcherSubmission:K});if(nn(Ee)){mn(L,O,Ee.error);return}}if(Ni(Ee))throw Ut(400,{type:"defer-action"});let Ge=A.navigation.location||A.location,ze=gs(t.history,Ge,re.signal),Pr=a||o,Bn=A.navigation.state!=="idle"?Pi(Pr,A.navigation.location,u):A.matches;ge(Bn,"Didn't find any matches after fetcher action");let An=++B;W.set(L,An);let ar=Jo(K,Ee.data);A.fetchers.set(L,ar);let[qn,At]=qv(t.history,A,Bn,K,Ge,!1,p.v7_skipActionErrorRevalidation,Q,se,we,nt,he,le,Pr,u,[z.route.id,Ee]);At.filter(De=>De.key!==L).forEach(De=>{let Zt=De.key,bo=A.fetchers.get(Zt),jl=Jo(void 0,bo?bo.data:void 0);A.fetchers.set(Zt,jl),ce.has(Zt)&&Cn(Zt),De.controller&&ce.set(Zt,De.controller)}),rt({fetchers:new Map(A.fetchers)});let gn=()=>At.forEach(De=>Cn(De.key));re.signal.addEventListener("abort",gn);let{loaderResults:xr,fetcherResults:ds}=await it(A.matches,Bn,qn,At,ze);if(re.signal.aborted)return;re.signal.removeEventListener("abort",gn),W.delete(L),ce.delete(L),At.forEach(De=>ce.delete(De.key));let pe=Zv([...xr,...ds]);if(pe){if(pe.idx>=qn.length){let De=At[pe.idx-qn.length].key;le.add(De)}return rr(ze,pe.result)}let{loaderData:Ve,errors:Pt}=Gv(A,A.matches,qn,xr,void 0,At,ds,pt);if(A.fetchers.has(L)){let De=Or(Ee.data);A.fetchers.set(L,De)}Ml(An),A.navigation.state==="loading"&&An>X?(ge(T,"Expected pending action"),R&&R.abort(),zn(A.navigation.location,{matches:Bn,loaderData:Ve,errors:Pt,fetchers:new Map(A.fetchers)})):(rt({errors:Pt,loaderData:Yv(A.loaderData,Ve,Bn,Pt),fetchers:new Map(A.fetchers)}),Q=!1)}async function Co(L,O,F,z,Y,te,oe,K){let fe=A.fetchers.get(L);Jt(L,Jo(K,fe?fe.data:void 0),{flushSync:oe});let ne=new AbortController,re=gs(t.history,F,ne.signal);if(te){let Ee=await Ei(Y,F,re.signal);if(Ee.type==="aborted")return;if(Ee.type==="error"){let{error:Ge}=Ar(F,Ee);mn(L,O,Ge,{flushSync:oe});return}else if(Ee.matches)Y=Ee.matches,z=da(Y,F);else{mn(L,O,Ut(404,{pathname:F}),{flushSync:oe});return}}ce.set(L,ne);let ye=B,Pe=(await Cr("loader",re,[z],Y))[0];if(Ni(Pe)&&(Pe=await rS(Pe,re.signal,!0)||Pe),ce.get(L)===ne&&ce.delete(L),!re.signal.aborted){if(nt.has(L)){Jt(L,Or(void 0));return}if(Li(Pe))if(X>ye){Jt(L,Or(void 0));return}else{le.add(L),await rr(re,Pe);return}if(nn(Pe)){mn(L,O,Pe.error);return}ge(!Ni(Pe),"Unhandled fetcher deferred data"),Jt(L,Or(Pe.data))}}async function rr(L,O,F){let{submission:z,fetcherSubmission:Y,replace:te}=F===void 0?{}:F;O.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let oe=O.response.headers.get("Location");ge(oe,"Expected a Location header on the redirect Response"),oe=Kv(oe,new URL(L.url),u);let K=sl(A.location,oe,{_isRedirect:!0});if(n){let Pe=!1;if(O.response.headers.has("X-Remix-Reload-Document"))Pe=!0;else if(Wm.test(oe)){const Ee=t.history.createURL(oe);Pe=Ee.origin!==e.location.origin||tr(Ee.pathname,u)==null}if(Pe){te?e.location.replace(oe):e.location.assign(oe);return}}R=null;let fe=te===!0?Je.Replace:Je.Push,{formMethod:ne,formAction:re,formEncType:ye}=A.navigation;!z&&!Y&&ne&&re&&ye&&(z=t_(A.navigation));let Ie=z||Y;if(qx.has(O.response.status)&&Ie&&bn(Ie.formMethod))await $n(fe,K,{submission:$e({},Ie,{formAction:oe}),preventScrollReset:_});else{let Pe=wf(K,z);await $n(fe,K,{overrideNavigation:Pe,fetcherSubmission:Y,preventScrollReset:_})}}async function Cr(L,O,F,z){try{let Y=await Zx(c,L,O,F,z,s,i);return await Promise.all(Y.map((te,oe)=>{if(ok(te)){let K=te.result;return{type:Le.redirect,response:nk(K,O,F[oe].route.id,z,u,p.v7_relativeSplatPath)}}return tk(te)}))}catch(Y){return F.map(()=>({type:Le.error,error:Y}))}}async function it(L,O,F,z,Y){let[te,...oe]=await Promise.all([F.length?Cr("loader",Y,F,O):[],...z.map(K=>{if(K.matches&&K.match&&K.controller){let fe=gs(t.history,K.path,K.controller.signal);return Cr("loader",fe,[K.match],K.matches).then(ne=>ne[0])}else return Promise.resolve({type:Le.error,error:Ut(404,{pathname:K.path})})})]);return await Promise.all([e_(L,F,te,te.map(()=>Y.signal),!1,A.loaderData),e_(L,z.map(K=>K.match),oe,z.map(K=>K.controller?K.controller.signal:null),!0)]),{loaderResults:te,fetcherResults:oe}}function st(){Q=!0,se.push(...wi()),he.forEach((L,O)=>{ce.has(O)&&(we.push(O),Cn(O))})}function Jt(L,O,F){F===void 0&&(F={}),A.fetchers.set(L,O),rt({fetchers:new Map(A.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function mn(L,O,F,z){z===void 0&&(z={});let Y=Fs(A.matches,O);as(L),rt({errors:{[Y.route.id]:F},fetchers:new Map(A.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Ao(L){return p.v7_fetcherPersist&&(me.set(L,(me.get(L)||0)+1),nt.has(L)&&nt.delete(L)),A.fetchers.get(L)||Hx}function as(L){let O=A.fetchers.get(L);ce.has(L)&&!(O&&O.state==="loading"&&W.has(L))&&Cn(L),he.delete(L),W.delete(L),le.delete(L),nt.delete(L),A.fetchers.delete(L)}function vi(L){if(p.v7_fetcherPersist){let O=(me.get(L)||0)-1;O<=0?(me.delete(L),nt.add(L)):me.set(L,O)}else as(L);rt({fetchers:new Map(A.fetchers)})}function Cn(L){let O=ce.get(L);ge(O,"Expected fetch controller: "+L),O.abort(),ce.delete(L)}function Po(L){for(let O of L){let F=Ao(O),z=Or(F.data);A.fetchers.set(O,z)}}function ls(){let L=[],O=!1;for(let F of le){let z=A.fetchers.get(F);ge(z,"Expected fetcher: "+F),z.state==="loading"&&(le.delete(F),L.push(F),O=!0)}return Po(L),O}function Ml(L){let O=[];for(let[F,z]of W)if(z<L){let Y=A.fetchers.get(F);ge(Y,"Expected fetcher: "+F),Y.state==="loading"&&(Cn(F),W.delete(F),O.push(F))}return Po(O),O.length>0}function kd(L,O){let F=A.blockers.get(L)||Xo;return mt.get(L)!==O&&mt.set(L,O),F}function us(L){A.blockers.delete(L),mt.delete(L)}function _i(L,O){let F=A.blockers.get(L)||Xo;ge(F.state==="unblocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="proceeding"||F.state==="blocked"&&O.state==="unblocked"||F.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+O.state);let z=new Map(A.blockers);z.set(L,O),rt({blockers:z})}function xo(L){let{currentLocation:O,nextLocation:F,historyAction:z}=L;if(mt.size===0)return;mt.size>1&&uo(!1,"A router only supports one blocker at a time");let Y=Array.from(mt.entries()),[te,oe]=Y[Y.length-1],K=A.blockers.get(te);if(!(K&&K.state==="proceeding")&&oe({currentLocation:O,nextLocation:F,historyAction:z}))return te}function ir(L){let O=Ut(404,{pathname:L}),F=a||o,{matches:z,route:Y}=Jv(F);return wi(),{notFoundMatches:z,route:Y,error:O}}function Ar(L,O){return{boundaryId:Fs(O.partialMatches).route.id,error:Ut(400,{type:"route-discovery",pathname:L,message:O.error!=null&&"message"in O.error?O.error:String(O.error)})}}function wi(L){let O=[];return pt.forEach((F,z)=>{(!L||L(z))&&(F.cancel(),O.push(z),pt.delete(z))}),O}function sr(L,O,F){if(w=L,C=O,I=F||null,!E&&A.navigation===_f){E=!0;let z=Do(A.location,A.matches);z!=null&&rt({restoreScrollPosition:z})}return()=>{w=null,C=null,I=null}}function ko(L,O){return I&&I(L,O.map(z=>KE(z,A.loaderData)))||L.key}function cs(L,O){if(w&&C){let F=ko(L,O);w[F]=C()}}function Do(L,O){if(w){let F=ko(L,O),z=w[F];if(typeof z=="number")return z}return null}function or(L,O,F){if(d)if(L){let z=L[L.length-1].route;if(z.path&&(z.path==="*"||z.path.endsWith("/*")))return{active:!0,matches:$u(O,F,u,!0)}}else return{active:!0,matches:$u(O,F,u,!0)||[]};return{active:!1,matches:null}}async function Ei(L,O,F){let z=L,Y=z.length>0?z[z.length-1].route:null;for(;;){let te=a==null,oe=a||o;try{await Xx(d,O,z,oe,s,i,In,F)}catch(re){return{type:"error",error:re,partialMatches:z}}finally{te&&(o=[...o])}if(F.aborted)return{type:"aborted"};let K=Pi(oe,O,u),fe=!1;if(K){let re=K[K.length-1].route;if(re.index)return{type:"success",matches:K};if(re.path&&re.path.length>0)if(re.path==="*")fe=!0;else return{type:"success",matches:K}}let ne=$u(oe,O,u,!0);if(!ne||z.map(re=>re.route.id).join("-")===ne.map(re=>re.route.id).join("-"))return{type:"success",matches:fe?K:null};if(z=ne,Y=z[z.length-1].route,Y.path==="*")return{type:"success",matches:z}}}function gt(L){s={},a=ol(L,i,void 0,s)}function Fl(L,O){let F=a==null;eS(L,O,a||o,s,i),F&&(o=[...o],rt({}))}return b={get basename(){return u},get future(){return p},get state(){return A},get routes(){return o},get window(){return e},initialize:Cd,subscribe:ss,enableScrollRestoration:sr,navigate:os,fetch:Vl,revalidate:To,createHref:L=>t.history.createHref(L),encodeLocation:L=>t.history.encodeLocation(L),getFetcher:Ao,deleteFetcher:vi,dispose:is,getBlocker:kd,deleteBlocker:us,patchRoutes:Fl,_internalFetchControllers:ce,_internalActiveDeferreds:pt,_internalSetRoutes:gt},b}function Wx(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Kh(t,e,n,r,i,s,o,a){let u,c;if(o){u=[];for(let p of e)if(u.push(p),p.route.id===o){c=p;break}}else u=e,c=e[e.length-1];let d=Qm(i||".",Hm(u,s),tr(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Gm(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:gr([n,d.pathname])),Gi(d)}function Bv(t,e,n,r){if(!r||!Wx(r))return{path:n};if(r.formMethod&&!lk(r.formMethod))return{path:n,error:Ut(405,{method:r.formMethod})};let i=()=>({path:n,error:Ut(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=tS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!bn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,w)=>{let[I,C]=w;return""+y+I+"="+C+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!bn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ge(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=Wh(r.formData),c=r.formData;else if(r.body instanceof FormData)u=Wh(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Wv(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Wv(u)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(bn(d.formMethod))return{path:n,submission:d};let p=pi(n);return e&&p.search&&Gm(p.search)&&u.append("index",""),p.search="?"+u,{path:Gi(p),submission:d}}function Gx(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function qv(t,e,n,r,i,s,o,a,u,c,d,p,f,y,w,I){let C=I?nn(I[1])?I[1].error:I[1].data:void 0,E=t.createURL(e.location),m=t.createURL(i),v=I&&nn(I[1])?I[0]:void 0,S=v?Gx(n,v):n,b=I?I[1].statusCode:void 0,A=o&&b&&b>=400,T=S.filter((R,P)=>{let{route:k}=R;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return typeof k.loader!="function"||k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(Yx(e.loaderData,e.matches[P],R)||u.some(Q=>Q===R.route.id))return!0;let N=e.matches[P],D=R;return Hv(R,$e({currentUrl:E,currentParams:N.params,nextUrl:m,nextParams:D.params},r,{actionResult:C,actionStatus:b,defaultShouldRevalidate:A?!1:a||E.pathname+E.search===m.pathname+m.search||E.search!==m.search||ZE(N,D)}))}),_=[];return p.forEach((R,P)=>{if(s||!n.some(se=>se.route.id===R.routeId)||d.has(P))return;let k=Pi(y,R.path,w);if(!k){_.push({key:P,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(P),D=da(k,R.path),Q=!1;f.has(P)?Q=!1:c.includes(P)?Q=!0:N&&N.state!=="idle"&&N.data===void 0?Q=a:Q=Hv(D,$e({currentUrl:E,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:C,actionStatus:b,defaultShouldRevalidate:A?!1:a})),Q&&_.push({key:P,routeId:R.routeId,path:R.path,matches:k,match:D,controller:new AbortController})}),[T,_]}function Yx(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function ZE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Hv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Xx(t,e,n,r,i,s,o,a){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(d,p)=>{a.aborted||eS(d,p,r,i,s)}}),o.set(u,c)),c&&sk(c)&&await c}finally{o.delete(u)}}function eS(t,e,n,r,i){if(t){var s;let o=r[t];ge(o,"No route found to patch children into: routeId = "+t);let a=ol(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=ol(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function Qv(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ge(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";uo(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!Ex.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,$e({},e(i),{lazy:void 0}))}function Jx(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function Zx(t,e,n,r,i,s,o,a){let u=r.reduce((p,f)=>p.add(f.route.id),new Set),c=new Set,d=await t({matches:i.map(p=>{let f=u.has(p.route.id);return $e({},p,{shouldLoad:f,resolve:w=>(c.add(p.route.id),f?ek(e,n,p,s,o,w,a):Promise.resolve({type:Le.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(p=>ge(c.has(p.route.id),'`match.resolve()` was not called for route id "'+p.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((p,f)=>u.has(i[f].route.id))}async function ek(t,e,n,r,i,s,o){let a,u,c=d=>{let p,f=new Promise((I,C)=>p=C);u=()=>p(),e.signal.addEventListener("abort",u);let y=I=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...I!==void 0?[I]:[]),w;return s?w=s(I=>y(I)):w=(async()=>{try{return{type:"data",result:await y()}}catch(I){return{type:"error",result:I}}})(),Promise.race([w,f])};try{let d=n.route[t];if(n.route.lazy)if(d){let p,[f]=await Promise.all([c(d).catch(y=>{p=y}),Qv(n.route,i,r)]);if(p!==void 0)throw p;a=f}else if(await Qv(n.route,i,r),d=n.route[t],d)a=await c(d);else if(t==="action"){let p=new URL(e.url),f=p.pathname+p.search;throw Ut(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Le.data,result:void 0};else if(d)a=await c(d);else{let p=new URL(e.url),f=p.pathname+p.search;throw Ut(404,{pathname:f})}ge(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Le.error,result:d}}finally{u&&e.signal.removeEventListener("abort",u)}return a}async function tk(t){let{result:e,type:n,status:r}=t;if(nS(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Le.error,error:a}}return n===Le.error?{type:Le.error,error:new Km(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Le.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Le.error)return{type:Le.error,error:e,statusCode:yd(e)?e.status:r};if(ak(e)){var i,s;return{type:Le.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Le.data,data:e,statusCode:r}}function nk(t,e,n,r,i,s){let o=t.headers.get("Location");if(ge(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Wm.test(o)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Kh(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Kv(t,e,n){if(Wm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=tr(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function gs(t,e,n,r){let i=t.createURL(tS(e)).toString(),s={signal:n};if(r&&bn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Wh(r.formData):s.body=r.formData}return new Request(i,s)}function Wh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Wv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function rk(t,e,n,r,i,s){let o={},a=null,u,c=!1,d={},p=r&&nn(r[1])?r[1].error:void 0;return n.forEach((f,y)=>{let w=e[y].route.id;if(ge(!Li(f),"Cannot handle redirect results in processLoaderData"),nn(f)){let I=f.error;p!==void 0&&(I=p,p=void 0),a=a||{};{let C=Fs(t,w);a[C.route.id]==null&&(a[C.route.id]=I)}o[w]=void 0,c||(c=!0,u=yd(f.error)?f.error.status:500),f.headers&&(d[w]=f.headers)}else Ni(f)?(i.set(w,f.deferredData),o[w]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(u=f.statusCode),f.headers&&(d[w]=f.headers)):(o[w]=f.data,f.statusCode&&f.statusCode!==200&&!c&&(u=f.statusCode),f.headers&&(d[w]=f.headers))}),p!==void 0&&r&&(a={[r[0]]:p},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:u||200,loaderHeaders:d}}function Gv(t,e,n,r,i,s,o,a){let{loaderData:u,errors:c}=rk(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:p,match:f,controller:y}=s[d];ge(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let w=o[d];if(!(y&&y.signal.aborted))if(nn(w)){let I=Fs(t.matches,f==null?void 0:f.route.id);c&&c[I.route.id]||(c=$e({},c,{[I.route.id]:w.error})),t.fetchers.delete(p)}else if(Li(w))ge(!1,"Unhandled fetcher revalidation redirect");else if(Ni(w))ge(!1,"Unhandled fetcher deferred data");else{let I=Or(w.data);t.fetchers.set(p,I)}}return{loaderData:u,errors:c}}function Yv(t,e,n,r){let i=$e({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Xv(t){return t?nn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Jv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ut(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(a="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",u='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Km(t||500,a,new Error(u),!0)}function Zv(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Li(n))return{result:n,idx:e}}}function tS(t){let e=typeof t=="string"?pi(t):t;return Gi($e({},e,{hash:""}))}function ik(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function sk(t){return typeof t=="object"&&t!=null&&"then"in t}function ok(t){return nS(t.result)&&Bx.has(t.result.status)}function Ni(t){return t.type===Le.deferred}function nn(t){return t.type===Le.error}function Li(t){return(t&&t.type)===Le.redirect}function ak(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function nS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lk(t){return $x.has(t.toLowerCase())}function bn(t){return Ux.has(t.toLowerCase())}async function e_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=e[o];if(!u)continue;let c=t.find(p=>p.route.id===u.route.id),d=c!=null&&!ZE(c,u)&&(s&&s[u.route.id])!==void 0;if(Ni(a)&&(i||d)){let p=r[o];ge(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await rS(a,p,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function rS(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Le.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Le.error,error:i}}return{type:Le.data,data:t.deferredData.data}}}function Gm(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function da(t,e){let n=typeof e=="string"?pi(e).search:e.search;if(t[t.length-1].route.index&&Gm(n||""))return t[t.length-1];let r=YE(t);return r[r.length-1]}function t_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function wf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Jo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ck(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Or(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function dk(t,e){try{let n=t.sessionStorage.getItem(JE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function fk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(JE,JSON.stringify(n))}catch(r){uo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}const xl=V.createContext(null),vd=V.createContext(null),Ir=V.createContext(null),Ym=V.createContext(null),mi=V.createContext({outlet:null,matches:[],isDataRoute:!1}),iS=V.createContext(null);function hk(t,e){let{relative:n}=e===void 0?{}:e;kl()||ge(!1);let{basename:r,navigator:i}=V.useContext(Ir),{hash:s,pathname:o,search:a}=_d(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:gr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function kl(){return V.useContext(Ym)!=null}function gi(){return kl()||ge(!1),V.useContext(Ym).location}function sS(t){V.useContext(Ir).static||V.useLayoutEffect(t)}function pk(){let{isDataRoute:t}=V.useContext(mi);return t?xk():mk()}function mk(){kl()||ge(!1);let t=V.useContext(xl),{basename:e,future:n,navigator:r}=V.useContext(Ir),{matches:i}=V.useContext(mi),{pathname:s}=gi(),o=JSON.stringify(Hm(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return sS(()=>{a.current=!0}),V.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=Qm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gr([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}const gk=V.createContext(null);function yk(t){let e=V.useContext(mi).outlet;return e&&V.createElement(gk.Provider,{value:t},e)}function _d(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Ir),{matches:i}=V.useContext(mi),{pathname:s}=gi(),o=JSON.stringify(Hm(i,r.v7_relativeSplatPath));return V.useMemo(()=>Qm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function vk(t,e,n,r){kl()||ge(!1);let{navigator:i}=V.useContext(Ir),{matches:s}=V.useContext(mi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=gi(),d;d=c;let p=d.pathname||"/",f=p;if(u!=="/"){let I=u.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let y=Pi(t,{pathname:f});return Tk(y&&y.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:gr([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:gr([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r)}function _k(){let t=Pk(),e=yd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const wk=V.createElement(_k,null);class Ek extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(mi.Provider,{value:this.props.routeContext},V.createElement(iS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sk(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(xl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(mi.Provider,{value:e},r)}function Tk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||ge(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:f,errors:y}=n,w=p.route.loader&&f[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,f)=>{let y,w=!1,I=null,C=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||wk,u&&(c<0&&f===0?(kk("route-fallback"),w=!0,C=null):c===f&&(w=!0,C=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),m=()=>{let v;return y?v=I:w?v=C:p.route.Component?v=V.createElement(p.route.Component,null):p.route.element?v=p.route.element:v=d,V.createElement(Sk,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:v})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?V.createElement(Ek,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:m(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):m()},null)}var oS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oS||{}),co=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(co||{});function Rk(t){let e=V.useContext(xl);return e||ge(!1),e}function Xm(t){let e=V.useContext(vd);return e||ge(!1),e}function Ik(t){let e=V.useContext(mi);return e||ge(!1),e}function aS(t){let e=Ik(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function Ck(){return Xm(co.UseNavigation).navigation}function Ak(){let{matches:t,loaderData:e}=Xm(co.UseMatches);return V.useMemo(()=>t.map(n=>KE(n,e)),[t,e])}function Pk(){var t;let e=V.useContext(iS),n=Xm(co.UseRouteError),r=aS(co.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xk(){let{router:t}=Rk(oS.UseNavigateStable),e=aS(co.UseNavigateStable),n=V.useRef(!1);return sS(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xc({fromRouteId:e},s)))},[t,e])}const n_={};function kk(t,e,n){n_[t]||(n_[t]=!0)}function Dk(t){return yk(t.context)}function bk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Je.Pop,navigator:s,static:o=!1,future:a}=t;kl()&&ge(!1);let u=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:u,navigator:s,static:o,future:xc({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=pi(r));let{pathname:d="/",search:p="",hash:f="",state:y=null,key:w="default"}=r,I=V.useMemo(()=>{let C=tr(d,u);return C==null?null:{location:{pathname:C,search:p,hash:f,state:y,key:w},navigationType:i}},[u,d,p,f,y,w,i]);return I==null?null:V.createElement(Ir.Provider,{value:c},V.createElement(Ym.Provider,{children:n,value:I}))}new Promise(()=>{});function Nk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:V.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:V.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:V.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yi.apply(this,arguments)}function lS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Lk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ok(t,e){return t.button===0&&(!e||e==="_self")&&!Lk(t)}const Vk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Mk=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Fk="6";try{window.__reactRouterVersion=Fk}catch{}function jk(t,e){return Kx({basename:void 0,future:Yi({},void 0,{v7_prependBasename:!0}),history:vx({window:void 0}),hydrationData:Uk(),routes:t,mapRouteProperties:Nk,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function Uk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Yi({},e,{errors:zk(e.errors)})),e}function zk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Km(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const uS=V.createContext({isTransitioning:!1}),$k=V.createContext(new Map),Bk="startTransition",r_=Lf[Bk],qk="flushSync",i_=LI[qk];function Hk(t){r_?r_(t):t()}function Zo(t){i_?i_(t):t()}class Qk{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Kk(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=V.useState(n.state),[o,a]=V.useState(),[u,c]=V.useState({isTransitioning:!1}),[d,p]=V.useState(),[f,y]=V.useState(),[w,I]=V.useState(),C=V.useRef(new Map),{v7_startTransition:E}=r||{},m=V.useCallback(_=>{E?Hk(_):_()},[E]),v=V.useCallback((_,R)=>{let{deletedFetchers:P,unstable_flushSync:k,unstable_viewTransitionOpts:N}=R;P.forEach(Q=>C.current.delete(Q)),_.fetchers.forEach((Q,se)=>{Q.data!==void 0&&C.current.set(se,Q.data)});let D=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!N||D){k?Zo(()=>s(_)):m(()=>s(_));return}if(k){Zo(()=>{f&&(d&&d.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let Q=n.window.document.startViewTransition(()=>{Zo(()=>s(_))});Q.finished.finally(()=>{Zo(()=>{p(void 0),y(void 0),a(void 0),c({isTransitioning:!1})})}),Zo(()=>y(Q));return}f?(d&&d.resolve(),f.skipTransition(),I({state:_,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(a(_),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,f,d,C,m]);V.useLayoutEffect(()=>n.subscribe(v),[n,v]),V.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new Qk)},[u]),V.useEffect(()=>{if(d&&o&&n.window){let _=o,R=d.promise,P=n.window.document.startViewTransition(async()=>{m(()=>s(_)),await R});P.finished.finally(()=>{p(void 0),y(void 0),a(void 0),c({isTransitioning:!1})}),y(P)}},[m,o,d,n.window]),V.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),V.useEffect(()=>{!u.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),I(void 0))},[u.isTransitioning,w]),V.useEffect(()=>{},[]);let S=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:_=>n.navigate(_),push:(_,R,P)=>n.navigate(_,{state:R,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(_,R,P)=>n.navigate(_,{replace:!0,state:R,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),b=n.basename||"/",A=V.useMemo(()=>({router:n,navigator:S,static:!1,basename:b}),[n,S,b]),T=V.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return V.createElement(V.Fragment,null,V.createElement(xl.Provider,{value:A},V.createElement(vd.Provider,{value:i},V.createElement($k.Provider,{value:C.current},V.createElement(uS.Provider,{value:u},V.createElement(bk,{basename:b,location:i.location,navigationType:i.historyAction,navigator:S,future:T},i.initialized||n.future.v7_partialHydration?V.createElement(Wk,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Wk=V.memo(Gk);function Gk(t){let{routes:e,future:n,state:r}=t;return vk(e,void 0,r,n)}const Yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jk=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,unstable_viewTransition:p}=e,f=lS(e,Vk),{basename:y}=V.useContext(Ir),w,I=!1;if(typeof c=="string"&&Xk.test(c)&&(w=c,Yk))try{let v=new URL(window.location.href),S=c.startsWith("//")?new URL(v.protocol+c):new URL(c),b=tr(S.pathname,y);S.origin===v.origin&&b!=null?c=b+S.search+S.hash:I=!0}catch{}let C=hk(c,{relative:i}),E=eD(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:p});function m(v){r&&r(v),v.defaultPrevented||E(v)}return V.createElement("a",Yi({},f,{href:w||C,onClick:I||s?r:m,ref:n,target:u}))}),fr=V.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:c,children:d}=e,p=lS(e,Mk),f=_d(u,{relative:p.relative}),y=gi(),w=V.useContext(vd),{navigator:I,basename:C}=V.useContext(Ir),E=w!=null&&rD(f)&&c===!0,m=I.encodeLocation?I.encodeLocation(f).pathname:f.pathname,v=y.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(v=v.toLowerCase(),S=S?S.toLowerCase():null,m=m.toLowerCase()),S&&C&&(S=tr(S,C)||S);const b=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let A=v===m||!o&&v.startsWith(m)&&v.charAt(b)==="/",T=S!=null&&(S===m||!o&&S.startsWith(m)&&S.charAt(m.length)==="/"),_={isActive:A,isPending:T,isTransitioning:E},R=A?r:void 0,P;typeof s=="function"?P=s(_):P=[s,A?"active":null,T?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(_):a;return V.createElement(Jk,Yi({},p,{"aria-current":R,className:P,ref:n,style:k,to:u,unstable_viewTransition:c}),typeof d=="function"?d(_):d)});function wO(t){let{getKey:e,storageKey:n}=t;return tD({getKey:e,storageKey:n}),null}var kc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kc||(kc={}));var Gh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gh||(Gh={}));function cS(t){let e=V.useContext(xl);return e||ge(!1),e}function Zk(t){let e=V.useContext(vd);return e||ge(!1),e}function eD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=pk(),c=gi(),d=_d(t,{relative:o});return V.useCallback(p=>{if(Ok(p,n)){p.preventDefault();let f=r!==void 0?r:Gi(c)===Gi(d);u(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}const s_="react-router-scroll-positions";let yu={};function tD(t){let{getKey:e,storageKey:n}=t===void 0?{}:t,{router:r}=cS(kc.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:s}=Zk(Gh.UseScrollRestoration),{basename:o}=V.useContext(Ir),a=gi(),u=Ak(),c=Ck();V.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),nD(V.useCallback(()=>{if(c.state==="idle"){let d=(e?e(a,u):null)||a.key;yu[d]=window.scrollY}try{sessionStorage.setItem(n||s_,JSON.stringify(yu))}catch{}window.history.scrollRestoration="auto"},[n,e,c.state,a,u])),typeof document<"u"&&(V.useLayoutEffect(()=>{try{let d=sessionStorage.getItem(n||s_);d&&(yu=JSON.parse(d))}catch{}},[n]),V.useLayoutEffect(()=>{let d=e&&o!=="/"?(f,y)=>e(Yi({},f,{pathname:tr(f.pathname,o)||f.pathname}),y):e,p=r==null?void 0:r.enableScrollRestoration(yu,()=>window.scrollY,d);return()=>p&&p()},[r,o,e]),V.useLayoutEffect(()=>{if(i!==!1){if(typeof i=="number"){window.scrollTo(0,i);return}if(a.hash){let d=document.getElementById(decodeURIComponent(a.hash.slice(1)));if(d){d.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[a,i,s]))}function nD(t,e){let{capture:n}={};V.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function rD(t,e){e===void 0&&(e={});let n=V.useContext(uS);n==null&&ge(!1);let{basename:r}=cS(kc.useViewTransitionState),i=_d(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=tr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=tr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pc(i.pathname,o)!=null||Pc(i.pathname,s)!=null}const iD="_point_1ybs0_101",Ef={"game-wrapper":"_game-wrapper_1ybs0_3","background-image-main":"_background-image-main_1ybs0_35","background-image-main2":"_background-image-main2_1ybs0_45","background-image-main3":"_background-image-main3_1ybs0_55","background-image-airdrop":"_background-image-airdrop_1ybs0_65","background-image-skins":"_background-image-skins_1ybs0_81","top-glow":"_top-glow_1ybs0_91",point:iD},sD="_header_xqcj9_1",oD="_nickname_xqcj9_41",aD="_dot_xqcj9_199",lD="_blink_xqcj9_1",uD="_claimed_xqcj9_239",cD="_settings_xqcj9_247",rn={header:sD,"transparent-header":"_transparent-header_xqcj9_25","left-column":"_left-column_xqcj9_33",nickname:oD,"info-wrapper":"_info-wrapper_xqcj9_57","user-icon":"_user-icon_xqcj9_79","additional-button":"_additional-button_xqcj9_105","profit-wrapper":"_profit-wrapper_xqcj9_123","profit-text":"_profit-text_xqcj9_135","profit-value":"_profit-value_xqcj9_147","daily-reward":"_daily-reward_xqcj9_161","daily-reward-link":"_daily-reward-link_xqcj9_187",dot:aD,blink:lD,"daily-icon":"_daily-icon_xqcj9_221","daily-text":"_daily-text_xqcj9_229",claimed:uD,settings:cD},dD=({size:t=24,className:e=""})=>{const n=`${t}px`;return U.jsxs("svg",{fill:"currentColor",className:e,height:n,width:n,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[U.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),U.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),U.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",U.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2788 2.15224C13.9085 2 13.439 2 12.5 2C11.561 2 11.0915 2 10.7212 2.15224C10.2274 2.35523 9.83509 2.74458 9.63056 3.23463C9.53719 3.45834 9.50065 3.7185 9.48635 4.09799C9.46534 4.65568 9.17716 5.17189 8.69017 5.45093C8.20318 5.72996 7.60864 5.71954 7.11149 5.45876C6.77318 5.2813 6.52789 5.18262 6.28599 5.15102C5.75609 5.08178 5.22018 5.22429 4.79616 5.5472C4.47814 5.78938 4.24339 6.1929 3.7739 6.99993C3.30441 7.80697 3.06967 8.21048 3.01735 8.60491C2.94758 9.1308 3.09118 9.66266 3.41655 10.0835C3.56506 10.2756 3.77377 10.437 4.0977 10.639C4.57391 10.936 4.88032 11.4419 4.88029 12C4.88026 12.5581 4.57386 13.0639 4.0977 13.3608C3.77372 13.5629 3.56497 13.7244 3.41645 13.9165C3.09108 14.3373 2.94749 14.8691 3.01725 15.395C3.06957 15.7894 3.30432 16.193 3.7738 17C4.24329 17.807 4.47804 18.2106 4.79606 18.4527C5.22008 18.7756 5.75599 18.9181 6.28589 18.8489C6.52778 18.8173 6.77305 18.7186 7.11133 18.5412C7.60852 18.2804 8.2031 18.27 8.69012 18.549C9.17714 18.8281 9.46533 19.3443 9.48635 19.9021C9.50065 20.2815 9.53719 20.5417 9.63056 20.7654C9.83509 21.2554 10.2274 21.6448 10.7212 21.8478C11.0915 22 11.561 22 12.5 22C13.439 22 13.9085 22 14.2788 21.8478C14.7726 21.6448 15.1649 21.2554 15.3694 20.7654C15.4628 20.5417 15.4994 20.2815 15.5137 19.902C15.5347 19.3443 15.8228 18.8281 16.3098 18.549C16.7968 18.2699 17.3914 18.2804 17.8886 18.5412C18.2269 18.7186 18.4721 18.8172 18.714 18.8488C19.2439 18.9181 19.7798 18.7756 20.2038 18.4527C20.5219 18.2105 20.7566 17.807 21.2261 16.9999C21.6956 16.1929 21.9303 15.7894 21.9827 15.395C22.0524 14.8691 21.9088 14.3372 21.5835 13.9164C21.4349 13.7243 21.2262 13.5628 20.9022 13.3608C20.4261 13.0639 20.1197 12.558 20.1197 11.9999C20.1197 11.4418 20.4261 10.9361 20.9022 10.6392C21.2263 10.4371 21.435 10.2757 21.5836 10.0835C21.9089 9.66273 22.0525 9.13087 21.9828 8.60497C21.9304 8.21055 21.6957 7.80703 21.2262 7C20.7567 6.19297 20.522 5.78945 20.2039 5.54727C19.7799 5.22436 19.244 5.08185 18.7141 5.15109C18.4722 5.18269 18.2269 5.28136 17.8887 5.4588C17.3915 5.71959 16.7969 5.73002 16.3099 5.45096C15.8229 5.17191 15.5347 4.65566 15.5136 4.09794C15.4993 3.71848 15.4628 3.45833 15.3694 3.23463C15.1649 2.74458 14.7726 2.35523 14.2788 2.15224ZM12.5 15C14.1695 15 15.5228 13.6569 15.5228 12C15.5228 10.3431 14.1695 9 12.5 9C10.8305 9 9.47716 10.3431 9.47716 12C9.47716 13.6569 10.8305 15 12.5 15Z",fill:"currentColor"})," "]})]})},fD="/assets/little-bear-icon-BywWeJd0.png",hD="_level_1opwy_3",pD="_progress_1opwy_71",mD="_gradientAnimation_1opwy_1",vu={level:hD,"arrow-icon":"_arrow-icon_1opwy_49",progress:pD,gradientAnimation:mD},gD="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2028.1.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20960%20560'%20style='enable-background:new%200%200%20960%20560;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23ECA843;}%20%3c/style%3e%3cg%20id='Rounded_Rectangle_33_copy_4_1_'%3e%3cpath%20class='st0'%20d='M480,344.2L268.9,131.9c-15.8-15.9-41.3-15.9-57.1,0c-15.8,15.9-15.8,41.6,0,57.4l237.6,238.9%20c8.4,8.5,19.6,12.3,30.6,11.7c11,0.6,22.2-3.2,30.6-11.7l237.6-238.9c15.8-15.9,15.8-41.6,0-57.4s-41.3-15.9-57.1,0L480,344.2z'/%3e%3c/g%3e%3c/svg%3e",o_="/assets/timber-CNf0qK8F.png",yD="/assets/brickn-BXpuAoiK.png",vD="/assets/neyon-BhvzuMag.png",_D="/assets/brizzy-CQ56lRV7.png",wD="/assets/aztron-DGQXmtgZ.png",ED="/assets/brickn-opened-nFKRb_A2.png",SD="/assets/neyon-opened-CLtK8AuL.png",TD="/assets/brizzy-opened-bCe1Hp9X.png",RD="/assets/aztron-opened-D1qkbeoa.png",EO=[1,3,5,7,10],SO=[{id:1,image:o_,openedImage:o_,requiredPoints:0,colorCN:"color-brown",points:1},{id:2,image:yD,openedImage:ED,requiredPoints:2e4,colorCN:"color-red",points:3},{id:3,image:wD,openedImage:RD,requiredPoints:6e4,colorCN:"color-white",points:5},{id:4,image:_D,openedImage:TD,requiredPoints:12e4,colorCN:"color-green",points:7},{id:5,image:vD,openedImage:SD,requiredPoints:2e5,colorCN:"color-purple",points:10}],TO=["10","50","100","300","500","1000","2000","3000","5000","10000"],ID={0:10,1:50,2:100,3:300,4:500,5:1e3,6:2e3,7:3e3,8:5e3,9:1e4},Pa=[0,2e4,6e4,12e4,2e5],CD=()=>{const t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),s=new Date(e,n,r+1,0,0,0,0).getTime()-t.getTime(),o=Math.floor(s/(1e3*60*60)),a=Math.floor(s%(1e3*60*60)/(1e3*60)),u=o.toString().padStart(2,"0"),c=a.toString().padStart(2,"0");return`${u}:${c}`},RO=(t,e)=>{let n;return function(...i){clearTimeout(n),n=setTimeout(()=>t.apply(this,i),e)}},Yh=t=>{const e=Pa.findIndex(n=>t<n);return e>=0?e:Pa.length-1},AD=(t,e)=>({id:e,username:t,consecutiveDays:0,lastClaimedDate:"",points:0,referrals:[],hasClaimedToday:!1}),IO=t=>{localStorage.getItem("vibrationEnabled")==="true"&&t.HapticFeedback.impactOccurred("rigid")},PD=(t,e)=>{if(e-1>=Pa.length-1)return 100;const n=Pa[e-1],r=Pa[e];return(t-n)/(r-n)*100};function xD(t){const n=new URLSearchParams(t).get("tgWebAppStartParam");if(!n)return null;const r=decodeURIComponent(n);return new URLSearchParams(r).get("little_bear_id")}const kD=t=>{let e=0;const n=Date.now(),r=setInterval(()=>{const s=3e3-(Date.now()-n);e+=Math.floor(Math.random()*10)+5,e>100&&(e=100),t(e),s<=0&&(clearInterval(r),t(100))},Math.random()*300+200)},DD=({points:t})=>{const e=Yh(t),n=PD(t,e);return U.jsxs("div",{className:vu.level,children:[U.jsx("div",{className:vu.progress,children:U.jsx("div",{style:{width:`${n}%`}})}),U.jsxs("p",{className:vu["level-span"],children:["Level: ",Yh(t),"/5"]}),U.jsx("img",{className:vu["arrow-icon"],src:gD,alt:"",width:20})]})},bD="/assets/daily-reward-OQz4yrzE.png",ND={dailyRewardTimeLeft:"",earnedPoints:0,clickedPoints:0,clicks:[],points:0,user:null,hasClaimedToday:!1,currentSkin:0,level:1},LD=(t,e)=>{switch(e.type){case"SET_DAILY_REWARD_TIME_LEFT":return{...t,dailyRewardTimeLeft:e.payload};case"ADD_CLICKED_POINTS":return{...t,clickedPoints:t.clickedPoints+e.payload};case"ADD_POINTS":return{...t,points:t.points+e.payload};case"ADD_CLICK":return{...t,clicks:[...t.clicks,e.payload]};case"RESET_CLICKED_POINTS":return{...t,clickedPoints:0};case"SET_USER_LEVEL":return{...t,level:e.payload};case"SET_POINTS":return{...t,points:e.payload};case"REMOVE_CLICK":return{...t,clicks:t.clicks.filter(n=>n.id!==e.payload)};case"SET_SKIN_NUMBER":return{...t,currentSkin:e.payload};case"SET_USER":return{...t,user:e.payload};case"UPDATE_USER_DATA":return{...t,user:{...t.user,...e.payload}};case"HANDLE_CARD_CLICK":return{...t,clickedPoints:t.clickedPoints+e.payload.pointsToAdd,points:t.points+e.payload.pointsToAdd,clicks:[...t.clicks,e.payload.click]};default:return t}},dS=V.createContext(void 0),OD=({children:t})=>{const[e,n]=V.useReducer(LD,ND);return U.jsx(dS.Provider,{value:{state:e,dispatch:n},children:t})},Jm=()=>{const t=V.useContext(dS);if(!t)throw new Error("useAppState must be used within an AppStateProvider");return t},VD=()=>{const[t,e]=V.useState(""),{state:n}=Jm();if(V.useEffect(()=>{const r=()=>{e(CD())};r();const i=setInterval(r,6e4);return()=>{clearInterval(i)}},[]),!!n.user)return U.jsx("div",{className:rn["daily-reward"],children:U.jsxs(fr,{to:"/daily-reward",className:rn["daily-reward-link"],children:[!n.user.hasClaimedToday&&U.jsx("div",{className:rn.dot}),U.jsx("img",{src:bD,alt:"Daily Reward",className:rn["daily-icon"]}),U.jsxs("div",{className:rn["daily-text"],children:[U.jsx("p",{children:"Daily reward"}),n.user.hasClaimedToday?U.jsx("p",{className:rn.claimed,children:"Claimed!"}):U.jsx("p",{children:t})]})]})})},MD=({pathname:t})=>{const e=t==="/",n=t==="/airdrop",{state:r}=Jm(),i=e||n;return r.user?U.jsxs("div",{className:`${rn.header} ${i?rn["transparent-header"]:""}`,children:[U.jsx("div",{className:rn["left-column"],children:U.jsxs("div",{className:rn.nickname,children:[U.jsx(fr,{to:"/",children:U.jsx("div",{className:rn["user-icon"],children:U.jsx("img",{src:fD,alt:"",width:20})})}),U.jsxs("div",{className:rn["info-wrapper"],children:[U.jsx("p",{children:r.user.username}),U.jsx(fr,{to:"/skins",children:U.jsx(DD,{points:r.points})})]})]})}),U.jsx(VD,{}),U.jsx(fr,{to:"/settings",children:U.jsx("div",{className:rn.settings,children:U.jsx(dD,{})})})]}):null},FD="_menu_hw23b_1",jD="_active_hw23b_107",UD="_icon_hw23b_119",ut={menu:FD,"transparent-menu":"_transparent-menu_hw23b_43",active:jD,icon:UD,"frens-icon":"_frens-icon_hw23b_131","airdrop-icon":"_airdrop-icon_hw23b_139","hamster-icon":"_hamster-icon_hw23b_177"},zD="/assets/little-bear-golden-VUMsh4Mp.png",$D="/assets/play-DTkEW5mw.webp",BD="/assets/frens-Dcp8Hmkr.webp",qD="/assets/leadership-BjkoIi7V.webp",HD="/assets/tasks-Dg3t__JQ.webp",QD=()=>{const t=gi(),e=t.pathname==="/",n=t.pathname==="/airdrop";t.pathname;const r=e||n;return U.jsxs("ul",{className:`${ut.menu} ${r?ut["transparent-menu"]:""}`,children:[U.jsx("li",{children:U.jsxs(fr,{to:"/",className:({isActive:i,isPending:s})=>s?ut.pending:i?ut.active:"",children:[U.jsx("img",{src:$D,width:22,alt:"",height:32}),U.jsx("span",{children:"Bear"})]})}),U.jsx("li",{children:U.jsxs(fr,{to:"/tasks",className:({isActive:i,isPending:s})=>s?ut.pending:i?ut.active:"",children:[U.jsx("img",{src:HD,width:16,height:32,alt:"",className:`${ut.icon}`}),U.jsx("span",{children:"Tasks"})]})}),U.jsx("li",{children:U.jsxs(fr,{to:"/referrals",className:({isActive:i,isPending:s})=>s?ut.pending:i?ut.active:"",children:[U.jsx("img",{src:BD,width:24,alt:"",className:`${ut.icon} ${ut["frens-icon"]}`}),U.jsx("span",{children:"Frens"})]})}),U.jsx("li",{children:U.jsxs(fr,{to:"/leaders",className:({isActive:i,isPending:s})=>s?ut.pending:i?ut.active:"",children:[U.jsx("img",{src:qD,width:20,height:32,alt:"",className:`${ut.icon}`}),U.jsx("span",{children:"Leaders"})]})}),U.jsx("li",{children:U.jsxs(fr,{to:"/airdrop",className:({isActive:i,isPending:s})=>s?ut.pending:i?ut.active:"",children:[U.jsx("img",{src:zD,alt:"Airdrop",className:`${ut.icon} ${ut["airdrop-icon"]}`,width:24}),U.jsx("span",{children:"Airdrop"})]})})]})},Sf=window.Telegram.WebApp,KD=()=>({tg:Sf,user:Sf.initDataUnsafe.user,userID:Sf.initDataUnsafe.user.id.toString()});function vt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var WD=typeof Symbol=="function"&&Symbol.observable||"@@observable",a_=WD,Tf=()=>Math.random().toString(36).substring(7).split("").join("."),GD={INIT:`@@redux/INIT${Tf()}`,REPLACE:`@@redux/REPLACE${Tf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tf()}`},Dc=GD;function si(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fS(t,e,n){if(typeof t!="function")throw new Error(vt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vt(1));return n(fS)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((C,E)=>{o.set(E,C)}))}function d(){if(u)throw new Error(vt(3));return i}function p(C){if(typeof C!="function")throw new Error(vt(4));if(u)throw new Error(vt(5));let E=!0;c();const m=a++;return o.set(m,C),function(){if(E){if(u)throw new Error(vt(6));E=!1,c(),o.delete(m),s=null}}}function f(C){if(!si(C))throw new Error(vt(7));if(typeof C.type>"u")throw new Error(vt(8));if(typeof C.type!="string")throw new Error(vt(17));if(u)throw new Error(vt(9));try{u=!0,i=r(i,C)}finally{u=!1}return(s=o).forEach(m=>{m()}),C}function y(C){if(typeof C!="function")throw new Error(vt(10));r=C,f({type:Dc.REPLACE})}function w(){const C=p;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(vt(11));function m(){const S=E;S.next&&S.next(d())}return m(),{unsubscribe:C(m)}},[a_](){return this}}}return f({type:Dc.INIT}),{dispatch:f,subscribe:p,getState:d,replaceReducer:y,[a_]:w}}function YD(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Dc.INIT})>"u")throw new Error(vt(12));if(typeof n(void 0,{type:Dc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vt(13))})}function hS(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{YD(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const p=r[d],f=n[p],y=o[p],w=f(y,a);if(typeof w>"u")throw a&&a.type,new Error(vt(14));c[p]=w,u=u||w!==y}return u=u||r.length!==Object.keys(o).length,u?c:o}}function bc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function XD(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(vt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=t.map(u=>u(o));return s=bc(...a)(i.dispatch),{...i,dispatch:s}}}function pS(t){return si(t)&&"type"in t&&typeof t.type=="string"}var Zm=Symbol.for("immer-nothing"),xa=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function Tt(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xi=Object.getPrototypeOf;function nr(t){return!!t&&!!t[Xt]}function Un(t){var e;return t?mS(t)||Array.isArray(t)||!!t[xa]||!!((e=t.constructor)!=null&&e[xa])||Dl(t)||bl(t):!1}var JD=Object.prototype.constructor.toString();function mS(t){if(!t||typeof t!="object")return!1;const e=Xi(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===JD}function ZD(t){return nr(t)||Tt(15,t),t[Xt].base_}function al(t,e){Ji(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Ji(t){const e=t[Xt];return e?e.type_:Array.isArray(t)?1:Dl(t)?2:bl(t)?3:0}function ll(t,e){return Ji(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Rf(t,e){return Ji(t)===2?t.get(e):t[e]}function gS(t,e,n){const r=Ji(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function eb(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Dl(t){return t instanceof Map}function bl(t){return t instanceof Set}function Ai(t){return t.copy_||t.base_}function Xh(t,e){if(Dl(t))return new Map(t);if(bl(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mS(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Xt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Xi(t),r)}else{const r=Xi(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function eg(t,e=!1){return wd(t)||nr(t)||!Un(t)||(Ji(t)>1&&(t.set=t.add=t.clear=t.delete=tb),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>eg(r,!0))),t}function tb(){Tt(2)}function wd(t){return Object.isFrozen(t)}var Jh={};function Zi(t){const e=Jh[t];return e||Tt(0,t),e}function nb(t,e){Jh[t]||(Jh[t]=e)}var ul;function yS(){return ul}function rb(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function l_(t,e){e&&(Zi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Zh(t){ep(t),t.drafts_.forEach(ib),t.drafts_=null}function ep(t){t===ul&&(ul=t.parent_)}function u_(t){return ul=rb(ul,t)}function ib(t){const e=t[Xt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function c_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Xt].modified_&&(Zh(e),Tt(4)),Un(t)&&(t=Nc(e,t),e.parent_||Lc(e,t)),e.patches_&&Zi("Patches").generateReplacementPatches_(n[Xt].base_,t,e.patches_,e.inversePatches_)):t=Nc(e,n,[]),Zh(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Zm?t:void 0}function Nc(t,e,n){if(wd(e))return e;const r=e[Xt];if(!r)return al(e,(i,s)=>d_(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Lc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),al(s,(a,u)=>d_(t,r,i,a,u,n,o)),Lc(t,i,!1),n&&t.patches_&&Zi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function d_(t,e,n,r,i,s,o){if(nr(i)){const a=s&&e&&e.type_!==3&&!ll(e.assigned_,r)?s.concat(r):void 0,u=Nc(t,i,a);if(gS(n,r,u),nr(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Un(i)&&!wd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Nc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Lc(t,i)}}function Lc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&eg(e,n)}function sb(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:yS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=tg;n&&(i=[r],s=cl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var tg={get(t,e){if(e===Xt)return t;const n=Ai(t);if(!ll(n,e))return ob(t,n,e);const r=n[e];return t.finalized_||!Un(r)?r:r===If(t.base_,e)?(Cf(t),t.copy_[e]=np(r,t)):r},has(t,e){return e in Ai(t)},ownKeys(t){return Reflect.ownKeys(Ai(t))},set(t,e,n){const r=vS(Ai(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=If(Ai(t),e),s=i==null?void 0:i[Xt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(eb(n,i)&&(n!==void 0||ll(t.base_,e)))return!0;Cf(t),tp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return If(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Cf(t),tp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ai(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Tt(11)},getPrototypeOf(t){return Xi(t.base_)},setPrototypeOf(){Tt(12)}},cl={};al(tg,(t,e)=>{cl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});cl.deleteProperty=function(t,e){return cl.set.call(this,t,e,void 0)};cl.set=function(t,e,n){return tg.set.call(this,t[0],e,n,t[0])};function If(t,e){const n=t[Xt];return(n?Ai(n):t)[e]}function ob(t,e,n){var i;const r=vS(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function vS(t,e){if(!(e in t))return;let n=Xi(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xi(n)}}function tp(t){t.modified_||(t.modified_=!0,t.parent_&&tp(t.parent_))}function Cf(t){t.copy_||(t.copy_=Xh(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ab=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&Tt(6),r!==void 0&&typeof r!="function"&&Tt(7);let i;if(Un(e)){const s=u_(this),o=np(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Zh(s):ep(s)}return l_(s,r),c_(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Zm&&(i=void 0),this.autoFreeze_&&eg(i,!0),r){const s=[],o=[];Zi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Tt(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Un(t)||Tt(8),nr(t)&&(t=lb(t));const e=u_(this),n=np(t,void 0);return n[Xt].isManual_=!0,ep(e),n}finishDraft(t,e){const n=t&&t[Xt];(!n||!n.isManual_)&&Tt(9);const{scope_:r}=n;return l_(r,e),c_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zi("Patches").applyPatches_;return nr(t)?r(t,e):this.produce(t,i=>r(i,e))}};function np(t,e){const n=Dl(t)?Zi("MapSet").proxyMap_(t,e):bl(t)?Zi("MapSet").proxySet_(t,e):sb(t,e);return(e?e.scope_:yS()).drafts_.push(n),n}function lb(t){return nr(t)||Tt(10,t),_S(t)}function _S(t){if(!Un(t)||wd(t))return t;const e=t[Xt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Xh(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Xh(t,!0);return al(n,(r,i)=>{gS(n,r,_S(i))}),e&&(e.finalized_=!1),n}function ub(){const e="replace",n="add",r="remove";function i(f,y,w,I){switch(f.type_){case 0:case 2:return o(f,y,w,I);case 1:return s(f,y,w,I);case 3:return a(f,y,w,I)}}function s(f,y,w,I){let{base_:C,assigned_:E}=f,m=f.copy_;m.length<C.length&&([C,m]=[m,C],[w,I]=[I,w]);for(let v=0;v<C.length;v++)if(E[v]&&m[v]!==C[v]){const S=y.concat([v]);w.push({op:e,path:S,value:p(m[v])}),I.push({op:e,path:S,value:p(C[v])})}for(let v=C.length;v<m.length;v++){const S=y.concat([v]);w.push({op:n,path:S,value:p(m[v])})}for(let v=m.length-1;C.length<=v;--v){const S=y.concat([v]);I.push({op:r,path:S})}}function o(f,y,w,I){const{base_:C,copy_:E}=f;al(f.assigned_,(m,v)=>{const S=Rf(C,m),b=Rf(E,m),A=v?ll(C,m)?e:n:r;if(S===b&&A===e)return;const T=y.concat(m);w.push(A===r?{op:A,path:T}:{op:A,path:T,value:b}),I.push(A===n?{op:r,path:T}:A===r?{op:n,path:T,value:p(S)}:{op:e,path:T,value:p(S)})})}function a(f,y,w,I){let{base_:C,copy_:E}=f,m=0;C.forEach(v=>{if(!E.has(v)){const S=y.concat([m]);w.push({op:r,path:S,value:v}),I.unshift({op:n,path:S,value:v})}m++}),m=0,E.forEach(v=>{if(!C.has(v)){const S=y.concat([m]);w.push({op:n,path:S,value:v}),I.unshift({op:r,path:S,value:v})}m++})}function u(f,y,w,I){w.push({op:e,path:[],value:y===Zm?void 0:y}),I.push({op:e,path:[],value:f})}function c(f,y){return y.forEach(w=>{const{path:I,op:C}=w;let E=f;for(let b=0;b<I.length-1;b++){const A=Ji(E);let T=I[b];typeof T!="string"&&typeof T!="number"&&(T=""+T),(A===0||A===1)&&(T==="__proto__"||T==="constructor")&&Tt(19),typeof E=="function"&&T==="prototype"&&Tt(19),E=Rf(E,T),typeof E!="object"&&Tt(18,I.join("/"))}const m=Ji(E),v=d(w.value),S=I[I.length-1];switch(C){case e:switch(m){case 2:return E.set(S,v);case 3:Tt(16);default:return E[S]=v}case n:switch(m){case 1:return S==="-"?E.push(v):E.splice(S,0,v);case 2:return E.set(S,v);case 3:return E.add(v);default:return E[S]=v}case r:switch(m){case 1:return E.splice(S,1);case 2:return E.delete(S);case 3:return E.delete(w.value);default:return delete E[S]}default:Tt(17,C)}}),f}function d(f){if(!Un(f))return f;if(Array.isArray(f))return f.map(d);if(Dl(f))return new Map(Array.from(f.entries()).map(([w,I])=>[w,d(I)]));if(bl(f))return new Set(Array.from(f).map(d));const y=Object.create(Xi(f));for(const w in f)y[w]=d(f[w]);return ll(f,xa)&&(y[xa]=f[xa]),y}function p(f){return nr(f)?d(f):f}nb("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:u})}var fn=new ab,Nl=fn.produce,wS=fn.produceWithPatches.bind(fn);fn.setAutoFreeze.bind(fn);fn.setUseStrictShallowCopy.bind(fn);var f_=fn.applyPatches.bind(fn);fn.createDraft.bind(fn);fn.finishDraft.bind(fn);function cb(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function db(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function fb(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var h_=t=>Array.isArray(t)?t:[t];function hb(t){const e=Array.isArray(t[0])?t[0]:t;return fb(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function pb(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var mb=class{constructor(t){this.value=t}deref(){return this.value}},gb=typeof WeakRef<"u"?WeakRef:mb,yb=0,p_=1;function _u(){return{s:yb,v:void 0,o:null,p:null}}function Oc(t,e={}){let n=_u();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var p;let a=n;const{length:u}=arguments;for(let f=0,y=u;f<y;f++){const w=arguments[f];if(typeof w=="function"||typeof w=="object"&&w!==null){let I=a.o;I===null&&(a.o=I=new WeakMap);const C=I.get(w);C===void 0?(a=_u(),I.set(w,a)):a=C}else{let I=a.p;I===null&&(a.p=I=new Map);const C=I.get(w);C===void 0?(a=_u(),I.set(w,a)):a=C}}const c=a;let d;if(a.s===p_)d=a.v;else if(d=t.apply(null,arguments),s++,r){const f=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;f!=null&&r(f,d)&&(d=f,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new gb(d):d}return c.s=p_,c.v=d,d}return o.clearCache=()=>{n=_u(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function vb(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),cb(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...u},{memoize:p,memoizeOptions:f=[],argsMemoize:y=Oc,argsMemoizeOptions:w=[],devModeChecks:I={}}=d,C=h_(f),E=h_(w),m=hb(i),v=p(function(){return s++,c.apply(null,arguments)},...C),S=y(function(){o++;const A=pb(m,arguments);return a=v.apply(null,A),a},...E);return Object.assign(S,{resultFunc:c,memoizedResultFunc:v,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ng=vb(Oc),_b=Object.assign((t,e=ng)=>{db(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>_b});function ES(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var wb=ES(),Eb=ES,Sb=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bc:bc.apply(null,arguments)},Tb=t=>t&&typeof t.match=="function";function Vn(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>pS(r)&&r.type===t,n}var SS=class fa extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,fa.prototype)}static get[Symbol.species](){return fa}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new fa(...e[0].concat(this)):new fa(...e.concat(this))}};function m_(t){return Un(t)?Nl(t,()=>{}):t}function g_(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(cn(10));const r=n.insert(e,t);return t.set(e,r),r}function Rb(t){return typeof t=="boolean"}var Ib=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new SS;return n&&(Rb(n)?o.push(wb):o.push(Eb(n.extraArgument))),o},js="RTK_autoBatch",ea=()=>t=>({payload:t,meta:{[js]:!0}}),TS=t=>e=>{setTimeout(e,t)},Cb=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TS(10),Ab=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?Cb:t.type==="callback"?t.queueNotification:TS(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),f=r.subscribe(p);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var p;try{return i=!((p=d==null?void 0:d.meta)!=null&&p[js]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},Pb=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new SS(t);return r&&i.push(Ab(typeof r=="object"?r:void 0)),i};function xb(t){const e=Ib(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(si(n))a=hS(n);else throw new Error(cn(1));let u;typeof r=="function"?u=r(e):u=e();let c=bc;i&&(c=Sb({trace:!1,...typeof i=="object"&&i}));const d=XD(...u),p=Pb(d);let f=typeof o=="function"?o(p):p();const y=c(...f);return fS(a,s,y)}function RS(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(cn(28));if(a in e)throw new Error(cn(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function kb(t){return typeof t=="function"}function Db(t,e){let[n,r,i]=RS(e),s;if(kb(t))s=()=>m_(t());else{const a=m_(t);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,p)=>{if(p)if(nr(d)){const y=p(d,u);return y===void 0?d:y}else{if(Un(d))return Nl(d,f=>p(f,u));{const f=p(d,u);if(f===void 0){if(d===null)return d;throw new Error(cn(9))}return f}}return d},a)}return o.getInitialState=s,o}var IS=(t,e)=>Tb(t)?t.match(e):t(e);function Tr(...t){return e=>t.some(n=>IS(n,e))}function ka(...t){return e=>t.every(n=>IS(n,e))}function Ed(t,e){if(!t||!t.meta)return!1;const n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function Ll(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function rg(...t){return t.length===0?e=>Ed(e,["pending"]):Ll(t)?Tr(...t.map(e=>e.pending)):rg()(t[0])}function fo(...t){return t.length===0?e=>Ed(e,["rejected"]):Ll(t)?Tr(...t.map(e=>e.rejected)):fo()(t[0])}function Sd(...t){const e=n=>n&&n.meta&&n.meta.rejectedWithValue;return t.length===0?ka(fo(...t),e):Ll(t)?ka(fo(...t),e):Sd()(t[0])}function oi(...t){return t.length===0?e=>Ed(e,["fulfilled"]):Ll(t)?Tr(...t.map(e=>e.fulfilled)):oi()(t[0])}function rp(...t){return t.length===0?e=>Ed(e,["pending","fulfilled","rejected"]):Ll(t)?Tr(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):rp()(t[0])}var bb="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CS=(t=21)=>{let e="",n=t;for(;n--;)e+=bb[Math.random()*64|0];return e},Nb=["name","message","stack","code"],Af=class{constructor(t,e){Vd(this,"_type");this.payload=t,this.meta=e}},y_=class{constructor(t,e){Vd(this,"_type");this.payload=t,this.meta=e}},Lb=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of Nb)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},v_=(()=>{function t(e,n,r){const i=Vn(e+"/fulfilled",(u,c,d,p)=>({payload:u,meta:{...p||{},arg:d,requestId:c,requestStatus:"fulfilled"}})),s=Vn(e+"/pending",(u,c,d)=>({payload:void 0,meta:{...d||{},arg:c,requestId:u,requestStatus:"pending"}})),o=Vn(e+"/rejected",(u,c,d,p,f)=>({payload:p,error:(r&&r.serializeError||Lb)(u||"Rejected"),meta:{...f||{},arg:d,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u){return(c,d,p)=>{const f=r!=null&&r.idGenerator?r.idGenerator(u):CS(),y=new AbortController;let w,I;function C(m){I=m,y.abort()}const E=async function(){var S,b;let m;try{let A=(S=r==null?void 0:r.condition)==null?void 0:S.call(r,u,{getState:d,extra:p});if(Vb(A)&&(A=await A),A===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((_,R)=>{w=()=>{R({name:"AbortError",message:I||"Aborted"})},y.signal.addEventListener("abort",w)});c(s(f,u,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:f,arg:u},{getState:d,extra:p}))),m=await Promise.race([T,Promise.resolve(n(u,{dispatch:c,getState:d,extra:p,requestId:f,signal:y.signal,abort:C,rejectWithValue:(_,R)=>new Af(_,R),fulfillWithValue:(_,R)=>new y_(_,R)})).then(_=>{if(_ instanceof Af)throw _;return _ instanceof y_?i(_.payload,f,u,_.meta):i(_,f,u)})])}catch(A){m=A instanceof Af?o(null,f,u,A.payload,A.meta):o(A,f,u)}finally{w&&y.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&o.match(m)&&m.meta.condition||c(m),m}();return Object.assign(E,{abort:C,requestId:f,arg:u,unwrap(){return E.then(Ob)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:Tr(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function Ob(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Vb(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Mb=Symbol.for("rtk-slice-createasyncthunk");function Fb(t,e){return`${t}/${e}`}function jb({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Mb];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(cn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(zb()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(v,S){const b=typeof v=="string"?v:v.type;if(!b)throw new Error(cn(12));if(b in c.sliceCaseReducersByType)throw new Error(cn(13));return c.sliceCaseReducersByType[b]=S,d},addMatcher(v,S){return c.sliceMatchers.push({matcher:v,reducer:S}),d},exposeAction(v,S){return c.actionCreators[v]=S,d},exposeCaseReducer(v,S){return c.sliceCaseReducersByName[v]=S,d}};u.forEach(v=>{const S=a[v],b={reducerName:v,type:Fb(s,v),createNotation:typeof i.reducers=="function"};Bb(S)?Hb(b,S,d,e):$b(b,S,d)});function p(){const[v={},S=[],b=void 0]=typeof i.extraReducers=="function"?RS(i.extraReducers):[i.extraReducers],A={...v,...c.sliceCaseReducersByType};return Db(i.initialState,T=>{for(let _ in A)T.addCase(_,A[_]);for(let _ of c.sliceMatchers)T.addMatcher(_.matcher,_.reducer);for(let _ of S)T.addMatcher(_.matcher,_.reducer);b&&T.addDefaultCase(b)})}const f=v=>v,y=new Map;let w;function I(v,S){return w||(w=p()),w(v,S)}function C(){return w||(w=p()),w.getInitialState()}function E(v,S=!1){function b(T){let _=T[v];return typeof _>"u"&&S&&(_=C()),_}function A(T=f){const _=g_(y,S,{insert:()=>new WeakMap});return g_(_,T,{insert:()=>{const R={};for(const[P,k]of Object.entries(i.selectors??{}))R[P]=Ub(k,T,C,S);return R}})}return{reducerPath:v,getSelectors:A,get selectors(){return A(b)},selectSlice:b}}const m={name:s,reducer:I,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:C,...E(o),injectInto(v,{reducerPath:S,...b}={}){const A=S??o;return v.inject({reducerPath:A,reducer:I},b),{...m,...E(A,!0)}}};return m}}function Ub(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var ys=jb();function zb(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $b({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!qb(r))throw new Error(cn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Vn(t,o):Vn(t))}function Bb(t){return t._reducerDefinitionType==="asyncThunk"}function qb(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Hb({type:t,reducerName:e},n,r,i){if(!i)throw new Error(cn(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:d}=n,p=i(t,s,d);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),a&&r.addCase(p.pending,a),u&&r.addCase(p.rejected,u),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(e,{fulfilled:o||wu,pending:a||wu,rejected:u||wu,settled:c||wu})}function wu(){}function cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AS=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(AS||{});function Qb(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}var __=si;function PS(t,e){if(t===e||!(__(t)&&__(e)||Array.isArray(t)&&Array.isArray(e)))return e;const n=Object.keys(e),r=Object.keys(t);let i=n.length===r.length;const s=Array.isArray(e)?[]:{};for(const o of n)s[o]=PS(t[o],e[o]),i&&(i=t[o]===s[o]);return i?t:s}function Ws(t){let e=0;for(const n in t)e++;return e}var w_=t=>[].concat(...t);function Kb(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function E_(t){return t!=null}function Wb(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var S_=class{constructor(t,e=void 0){this.value=t,this.meta=e}},Td=Vn("__rtkq/focused"),ig=Vn("__rtkq/unfocused"),Rd=Vn("__rtkq/online"),sg=Vn("__rtkq/offline"),Pf=!1;function Gb(t,e){function n(){const r=()=>t(Td()),i=()=>t(ig()),s=()=>t(Rd()),o=()=>t(sg()),a=()=>{window.document.visibilityState==="visible"?r():i()};return Pf||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",r,!1),window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),Pf=!0),()=>{window.removeEventListener("focus",r),window.removeEventListener("visibilitychange",a),window.removeEventListener("online",s),window.removeEventListener("offline",o),Pf=!1}}return n()}function xS(t){return t.type==="query"}function Yb(t){return t.type==="mutation"}function og(t,e,n,r,i,s){return Xb(t)?t(e,n,r,i).map(ip).map(s):Array.isArray(t)?t.map(ip).map(s):[]}function Xb(t){return typeof t=="function"}function ip(t){return typeof t=="string"?{type:t}:t}function Jb(t,e){return t.catch(e)}var dl=Symbol("forceQueryFn"),sp=t=>typeof t[dl]=="function";function Zb({serializeQueryArgs:t,queryThunk:e,mutationThunk:n,api:r,context:i}){const s=new Map,o=new Map,{unsubscribeQueryResult:a,removeMutationResult:u,updateSubscriptionOptions:c}=r.internalActions;return{buildInitiateQuery:w,buildInitiateMutation:I,getRunningQueryThunk:d,getRunningMutationThunk:p,getRunningQueriesThunk:f,getRunningMutationsThunk:y};function d(C,E){return m=>{var b;const v=i.endpointDefinitions[C],S=t({queryArgs:E,endpointDefinition:v,endpointName:C});return(b=s.get(m))==null?void 0:b[S]}}function p(C,E){return m=>{var v;return(v=o.get(m))==null?void 0:v[E]}}function f(){return C=>Object.values(s.get(C)||{}).filter(E_)}function y(){return C=>Object.values(o.get(C)||{}).filter(E_)}function w(C,E){const m=(v,{subscribe:S=!0,forceRefetch:b,subscriptionOptions:A,[dl]:T,..._}={})=>(R,P)=>{var he;const k=t({queryArgs:v,endpointDefinition:E,endpointName:C}),N=e({..._,type:"query",subscribe:S,forceRefetch:b,subscriptionOptions:A,endpointName:C,originalArgs:v,queryCacheKey:k,[dl]:T}),D=r.endpoints[C].select(v),Q=R(N),se=D(P()),{requestId:we,abort:ce}=Q,B=se.requestId!==we,X=(he=s.get(R))==null?void 0:he[k],W=()=>D(P()),le=Object.assign(T?Q.then(W):B&&!X?Promise.resolve(se):Promise.all([X,Q]).then(W),{arg:v,requestId:we,subscriptionOptions:A,queryCacheKey:k,abort:ce,async unwrap(){const me=await le;if(me.isError)throw me.error;return me.data},refetch:()=>R(m(v,{subscribe:!1,forceRefetch:!0})),unsubscribe(){S&&R(a({queryCacheKey:k,requestId:we}))},updateSubscriptionOptions(me){le.subscriptionOptions=me,R(c({endpointName:C,requestId:we,queryCacheKey:k,options:me}))}});if(!X&&!B&&!T){const me=s.get(R)||{};me[k]=le,s.set(R,me),le.then(()=>{delete me[k],Ws(me)||s.delete(R)})}return le};return m}function I(C){return(E,{track:m=!0,fixedCacheKey:v}={})=>(S,b)=>{const A=n({type:"mutation",endpointName:C,originalArgs:E,track:m,fixedCacheKey:v}),T=S(A),{requestId:_,abort:R,unwrap:P}=T,k=Jb(T.unwrap().then(se=>({data:se})),se=>({error:se})),N=()=>{S(u({requestId:_,fixedCacheKey:v}))},D=Object.assign(k,{arg:T.arg,requestId:_,abort:R,unwrap:P,reset:N}),Q=o.get(S)||{};return o.set(S,Q),Q[_]=D,D.then(()=>{delete Q[_],Ws(Q)||o.delete(S)}),v&&(Q[v]=D,D.then(()=>{Q[v]===D&&(delete Q[v],Ws(Q)||o.delete(S))})),D}}}function T_(t){return t}function eN({reducerPath:t,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:s}){const o=(m,v,S,b)=>(A,T)=>{const _=n[m],R=r({queryArgs:v,endpointDefinition:_,endpointName:m});if(A(i.internalActions.queryResultPatched({queryCacheKey:R,patches:S})),!b)return;const P=i.endpoints[m].select(v)(T()),k=og(_.providesTags,P.data,void 0,v,{},s);A(i.internalActions.updateProvidedBy({queryCacheKey:R,providedTags:k}))},a=(m,v,S,b=!0)=>(A,T)=>{const R=i.endpoints[m].select(v)(T()),P={patches:[],inversePatches:[],undo:()=>A(i.util.patchQueryData(m,v,P.inversePatches,b))};if(R.status==="uninitialized")return P;let k;if("data"in R)if(Un(R.data)){const[N,D,Q]=wS(R.data,S);P.patches.push(...D),P.inversePatches.push(...Q),k=N}else k=S(R.data),P.patches.push({op:"replace",path:[],value:k}),P.inversePatches.push({op:"replace",path:[],value:R.data});return P.patches.length===0||A(i.util.patchQueryData(m,v,P.patches,b)),P},u=(m,v,S)=>b=>b(i.endpoints[m].initiate(v,{subscribe:!1,forceRefetch:!0,[dl]:()=>({data:S})})),c=async(m,{signal:v,abort:S,rejectWithValue:b,fulfillWithValue:A,dispatch:T,getState:_,extra:R})=>{const P=n[m.endpointName];try{let k=T_,N;const D={signal:v,abort:S,dispatch:T,getState:_,extra:R,endpoint:m.endpointName,type:m.type,forced:m.type==="query"?d(m,_()):void 0},Q=m.type==="query"?m[dl]:void 0;if(Q?N=Q():P.query?(N=await e(P.query(m.originalArgs),D,P.extraOptions),P.transformResponse&&(k=P.transformResponse)):N=await P.queryFn(m.originalArgs,D,P.extraOptions,se=>e(se,D,P.extraOptions)),typeof process<"u",N.error)throw new S_(N.error,N.meta);return A(await k(N.data,N.meta,m.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:N.meta,[js]:!0})}catch(k){let N=k;if(N instanceof S_){let D=T_;P.query&&P.transformErrorResponse&&(D=P.transformErrorResponse);try{return b(await D(N.value,N.meta,m.originalArgs),{baseQueryMeta:N.meta,[js]:!0})}catch(Q){N=Q}}throw typeof process<"u",console.error(N),N}};function d(m,v){var _,R,P;const S=(R=(_=v[t])==null?void 0:_.queries)==null?void 0:R[m.queryCacheKey],b=(P=v[t])==null?void 0:P.config.refetchOnMountOrArgChange,A=S==null?void 0:S.fulfilledTimeStamp,T=m.forceRefetch??(m.subscribe&&b);return T?T===!0||(Number(new Date)-Number(A))/1e3>=T:!1}const p=v_(`${t}/executeQuery`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[js]:!0}},condition(m,{getState:v}){var P,k,N;const S=v(),b=(k=(P=S[t])==null?void 0:P.queries)==null?void 0:k[m.queryCacheKey],A=b==null?void 0:b.fulfilledTimeStamp,T=m.originalArgs,_=b==null?void 0:b.originalArgs,R=n[m.endpointName];return sp(m)?!0:(b==null?void 0:b.status)==="pending"?!1:d(m,S)||xS(R)&&((N=R==null?void 0:R.forceRefetch)!=null&&N.call(R,{currentArg:T,previousArg:_,endpointState:b,state:S}))?!0:!A},dispatchConditionRejection:!0}),f=v_(`${t}/executeMutation`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[js]:!0}}}),y=m=>"force"in m,w=m=>"ifOlderThan"in m,I=(m,v,S)=>(b,A)=>{const T=y(S)&&S.force,_=w(S)&&S.ifOlderThan,R=(k=!0)=>{const N={forceRefetch:k,isPrefetch:!0};return i.endpoints[m].initiate(v,N)},P=i.endpoints[m].select(v)(A());if(T)b(R());else if(_){const k=P==null?void 0:P.fulfilledTimeStamp;if(!k){b(R());return}(Number(new Date)-Number(new Date(k)))/1e3>=_&&b(R())}else b(R(!1))};function C(m){return v=>{var S,b;return((b=(S=v==null?void 0:v.meta)==null?void 0:S.arg)==null?void 0:b.endpointName)===m}}function E(m,v){return{matchPending:ka(rg(m),C(v)),matchFulfilled:ka(oi(m),C(v)),matchRejected:ka(fo(m),C(v))}}return{queryThunk:p,mutationThunk:f,prefetch:I,updateQueryData:a,upsertQueryData:u,patchQueryData:o,buildMatchThunkActions:E}}function kS(t,e,n,r){return og(n[t.meta.arg.endpointName][e],oi(t)?t.payload:void 0,Sd(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function Eu(t,e,n){const r=t[e];r&&n(r)}function fl(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function R_(t,e,n){const r=t[fl(e)];r&&n(r)}var ta={};function tN({reducerPath:t,queryThunk:e,mutationThunk:n,context:{endpointDefinitions:r,apiUid:i,extractRehydrationInfo:s,hasRehydrationInfo:o},assertTagType:a,config:u}){const c=Vn(`${t}/resetApiState`),d=ys({name:`${t}/queries`,initialState:ta,reducers:{removeQueryResult:{reducer(v,{payload:{queryCacheKey:S}}){delete v[S]},prepare:ea()},queryResultPatched:{reducer(v,{payload:{queryCacheKey:S,patches:b}}){Eu(v,S,A=>{A.data=f_(A.data,b.concat())})},prepare:ea()}},extraReducers(v){v.addCase(e.pending,(S,{meta:b,meta:{arg:A}})=>{var _;const T=sp(A);S[_=A.queryCacheKey]??(S[_]={status:"uninitialized",endpointName:A.endpointName}),Eu(S,A.queryCacheKey,R=>{R.status="pending",R.requestId=T&&R.requestId?R.requestId:b.requestId,A.originalArgs!==void 0&&(R.originalArgs=A.originalArgs),R.startedTimeStamp=b.startedTimeStamp})}).addCase(e.fulfilled,(S,{meta:b,payload:A})=>{Eu(S,b.arg.queryCacheKey,T=>{if(T.requestId!==b.requestId&&!sp(b.arg))return;const{merge:_}=r[b.arg.endpointName];if(T.status="fulfilled",_)if(T.data!==void 0){const{fulfilledTimeStamp:R,arg:P,baseQueryMeta:k,requestId:N}=b;let D=Nl(T.data,Q=>_(Q,A,{arg:P.originalArgs,baseQueryMeta:k,fulfilledTimeStamp:R,requestId:N}));T.data=D}else T.data=A;else T.data=r[b.arg.endpointName].structuralSharing??!0?PS(nr(T.data)?ZD(T.data):T.data,A):A;delete T.error,T.fulfilledTimeStamp=b.fulfilledTimeStamp})}).addCase(e.rejected,(S,{meta:{condition:b,arg:A,requestId:T},error:_,payload:R})=>{Eu(S,A.queryCacheKey,P=>{if(!b){if(P.requestId!==T)return;P.status="rejected",P.error=R??_}})}).addMatcher(o,(S,b)=>{const{queries:A}=s(b);for(const[T,_]of Object.entries(A))((_==null?void 0:_.status)==="fulfilled"||(_==null?void 0:_.status)==="rejected")&&(S[T]=_)})}}),p=ys({name:`${t}/mutations`,initialState:ta,reducers:{removeMutationResult:{reducer(v,{payload:S}){const b=fl(S);b in v&&delete v[b]},prepare:ea()}},extraReducers(v){v.addCase(n.pending,(S,{meta:b,meta:{requestId:A,arg:T,startedTimeStamp:_}})=>{T.track&&(S[fl(b)]={requestId:A,status:"pending",endpointName:T.endpointName,startedTimeStamp:_})}).addCase(n.fulfilled,(S,{payload:b,meta:A})=>{A.arg.track&&R_(S,A,T=>{T.requestId===A.requestId&&(T.status="fulfilled",T.data=b,T.fulfilledTimeStamp=A.fulfilledTimeStamp)})}).addCase(n.rejected,(S,{payload:b,error:A,meta:T})=>{T.arg.track&&R_(S,T,_=>{_.requestId===T.requestId&&(_.status="rejected",_.error=b??A)})}).addMatcher(o,(S,b)=>{const{mutations:A}=s(b);for(const[T,_]of Object.entries(A))((_==null?void 0:_.status)==="fulfilled"||(_==null?void 0:_.status)==="rejected")&&T!==(_==null?void 0:_.requestId)&&(S[T]=_)})}}),f=ys({name:`${t}/invalidation`,initialState:ta,reducers:{updateProvidedBy:{reducer(v,S){var T,_;const{queryCacheKey:b,providedTags:A}=S.payload;for(const R of Object.values(v))for(const P of Object.values(R)){const k=P.indexOf(b);k!==-1&&P.splice(k,1)}for(const{type:R,id:P}of A){const k=(T=v[R]??(v[R]={}))[_=P||"__internal_without_id"]??(T[_]=[]);k.includes(b)||k.push(b)}},prepare:ea()}},extraReducers(v){v.addCase(d.actions.removeQueryResult,(S,{payload:{queryCacheKey:b}})=>{for(const A of Object.values(S))for(const T of Object.values(A)){const _=T.indexOf(b);_!==-1&&T.splice(_,1)}}).addMatcher(o,(S,b)=>{var T,_;const{provided:A}=s(b);for(const[R,P]of Object.entries(A))for(const[k,N]of Object.entries(P)){const D=(T=S[R]??(S[R]={}))[_=k||"__internal_without_id"]??(T[_]=[]);for(const Q of N)D.includes(Q)||D.push(Q)}}).addMatcher(Tr(oi(e),Sd(e)),(S,b)=>{const A=kS(b,"providesTags",r,a),{queryCacheKey:T}=b.meta.arg;f.caseReducers.updateProvidedBy(S,f.actions.updateProvidedBy({queryCacheKey:T,providedTags:A}))})}}),y=ys({name:`${t}/subscriptions`,initialState:ta,reducers:{updateSubscriptionOptions(v,S){},unsubscribeQueryResult(v,S){},internal_getRTKQSubscriptions(){}}}),w=ys({name:`${t}/internalSubscriptions`,initialState:ta,reducers:{subscriptionsUpdated:{reducer(v,S){return f_(v,S.payload)},prepare:ea()}}}),I=ys({name:`${t}/config`,initialState:{online:Wb(),focused:Kb(),middlewareRegistered:!1,...u},reducers:{middlewareRegistered(v,{payload:S}){v.middlewareRegistered=v.middlewareRegistered==="conflict"||i!==S?"conflict":!0}},extraReducers:v=>{v.addCase(Rd,S=>{S.online=!0}).addCase(sg,S=>{S.online=!1}).addCase(Td,S=>{S.focused=!0}).addCase(ig,S=>{S.focused=!1}).addMatcher(o,S=>({...S}))}}),C=hS({queries:d.reducer,mutations:p.reducer,provided:f.reducer,subscriptions:w.reducer,config:I.reducer}),E=(v,S)=>C(c.match(S)?void 0:v,S),m={...I.actions,...d.actions,...y.actions,...w.actions,...p.actions,...f.actions,resetApiState:c};return{reducer:E,actions:m}}var Oi=Symbol.for("RTKQ/skipToken"),DS={status:"uninitialized"},I_=Nl(DS,()=>{}),C_=Nl(DS,()=>{});function nN({serializeQueryArgs:t,reducerPath:e,createSelector:n}){const r=p=>I_,i=p=>C_;return{buildQuerySelector:a,buildMutationSelector:u,selectInvalidatedBy:c,selectCachedArgsForQuery:d};function s(p){return{...p,...Qb(p.status)}}function o(p){return p[e]}function a(p,f){return y=>{const w=t({queryArgs:y,endpointDefinition:f,endpointName:p});return n(y===Oi?r:E=>{var m,v;return((v=(m=o(E))==null?void 0:m.queries)==null?void 0:v[w])??I_},s)}}function u(){return p=>{let f;return typeof p=="object"?f=fl(p)??Oi:f=p,n(f===Oi?i:I=>{var C,E;return((E=(C=o(I))==null?void 0:C.mutations)==null?void 0:E[f])??C_},s)}}function c(p,f){const y=p[e],w=new Set;for(const I of f.map(ip)){const C=y.provided[I.type];if(!C)continue;let E=(I.id!==void 0?C[I.id]:w_(Object.values(C)))??[];for(const m of E)w.add(m)}return w_(Array.from(w.values()).map(I=>{const C=y.queries[I];return C?[{queryCacheKey:I,endpointName:C.endpointName,originalArgs:C.originalArgs}]:[]}))}function d(p,f){return Object.values(p[e].queries).filter(y=>(y==null?void 0:y.endpointName)===f&&y.status!=="uninitialized").map(y=>y.originalArgs)}}var vs=WeakMap?new WeakMap:void 0,A_=({endpointName:t,queryArgs:e})=>{let n="";const r=vs==null?void 0:vs.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=si(o)?Object.keys(o).sort().reduce((a,u)=>(a[u]=o[u],a),{}):o,o));si(e)&&(vs==null||vs.set(e,i)),n=i}return`${t}(${n})`};function rN(...t){return function(n){const r=Oc(c=>{var d;return(d=n.extractRehydrationInfo)==null?void 0:d.call(n,c,{reducerPath:n.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(c){let d=A_;if("serializeQueryArgs"in c.endpointDefinition){const p=c.endpointDefinition.serializeQueryArgs;d=f=>{const y=p(f);return typeof y=="string"?y:A_({...f,queryArgs:y})}}else n.serializeQueryArgs&&(d=n.serializeQueryArgs);return d(c)},tagTypes:[...n.tagTypes||[]]},s={endpointDefinitions:{},batch(c){c()},apiUid:CS(),extractRehydrationInfo:r,hasRehydrationInfo:Oc(c=>r(c)!=null)},o={injectEndpoints:u,enhanceEndpoints({addTagTypes:c,endpoints:d}){if(c)for(const p of c)i.tagTypes.includes(p)||i.tagTypes.push(p);if(d)for(const[p,f]of Object.entries(d))typeof f=="function"?f(s.endpointDefinitions[p]):Object.assign(s.endpointDefinitions[p]||{},f);return o}},a=t.map(c=>c.init(o,i,s));function u(c){const d=c.endpoints({query:p=>({...p,type:"query"}),mutation:p=>({...p,type:"mutation"})});for(const[p,f]of Object.entries(d)){if(c.overrideExisting!==!0&&p in s.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(cn(39));typeof process<"u";continue}s.endpointDefinitions[p]=f;for(const y of a)y.injectEndpoint(p,f)}return o}return o.injectEndpoints({endpoints:n.endpoints})}}function Nr(t,...e){return Object.assign(t,...e)}var iN=({api:t,queryThunk:e,internalState:n})=>{const r=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=t.internalActions,u=(y,w)=>{var C,E,m;if(o.match(w)){const{queryCacheKey:v,requestId:S,options:b}=w.payload;return(C=y==null?void 0:y[v])!=null&&C[S]&&(y[v][S]=b),!0}if(a.match(w)){const{queryCacheKey:v,requestId:S}=w.payload;return y[v]&&delete y[v][S],!0}if(t.internalActions.removeQueryResult.match(w))return delete y[w.payload.queryCacheKey],!0;if(e.pending.match(w)){const{meta:{arg:v,requestId:S}}=w,b=y[E=v.queryCacheKey]??(y[E]={});return b[`${S}_running`]={},v.subscribe&&(b[S]=v.subscriptionOptions??b[S]??{}),!0}let I=!1;if(e.fulfilled.match(w)||e.rejected.match(w)){const v=y[w.meta.arg.queryCacheKey]||{},S=`${w.meta.requestId}_running`;I||(I=!!v[S]),delete v[S]}if(e.rejected.match(w)){const{meta:{condition:v,arg:S,requestId:b}}=w;if(v&&S.subscribe){const A=y[m=S.queryCacheKey]??(y[m]={});A[b]=S.subscriptionOptions??A[b]??{},I=!0}}return I},c=()=>n.currentSubscriptions,f={getSubscriptions:c,getSubscriptionCount:y=>{const I=c()[y]??{};return Ws(I)},isRequestSubscribed:(y,w)=>{var C;const I=c();return!!((C=I==null?void 0:I[y])!=null&&C[w])}};return(y,w)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(y))return i=n.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,f];const I=u(n.currentSubscriptions,y);let C=!0;if(I){s||(s=setTimeout(()=>{const v=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,S]=wS(i,()=>v);w.next(t.internalActions.subscriptionsUpdated(S)),i=v,s=null},500));const E=typeof y.type=="string"&&!!y.type.startsWith(r),m=e.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;C=!E&&!m}return[C,!1]}};function sN(t){for(const e in t)return!1;return!0}var oN=2147483647/1e3-1,aN=({reducerPath:t,api:e,queryThunk:n,context:r,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:o}=e.internalActions,a=Tr(o.match,n.fulfilled,n.rejected);function u(f){const y=i.currentSubscriptions[f];return!!y&&!sN(y)}const c={},d=(f,y,w)=>{var I;if(a(f)){const C=y.getState()[t],{queryCacheKey:E}=o.match(f)?f.payload:f.meta.arg;p(E,(I=C.queries[E])==null?void 0:I.endpointName,y,C.config)}if(e.util.resetApiState.match(f))for(const[C,E]of Object.entries(c))E&&clearTimeout(E),delete c[C];if(r.hasRehydrationInfo(f)){const C=y.getState()[t],{queries:E}=r.extractRehydrationInfo(f);for(const[m,v]of Object.entries(E))p(m,v==null?void 0:v.endpointName,y,C.config)}};function p(f,y,w,I){const C=r.endpointDefinitions[y],E=(C==null?void 0:C.keepUnusedDataFor)??I.keepUnusedDataFor;if(E===1/0)return;const m=Math.max(0,Math.min(E,oN));if(!u(f)){const v=c[f];v&&clearTimeout(v),c[f]=setTimeout(()=>{u(f)||w.dispatch(s({queryCacheKey:f})),delete c[f]},m*1e3)}}return d},P_=new Error("Promise never resolved before cacheEntryRemoved."),lN=({api:t,reducerPath:e,context:n,queryThunk:r,mutationThunk:i,internalState:s})=>{const o=rp(r),a=rp(i),u=oi(r,i),c={},d=(y,w,I)=>{const C=p(y);if(r.pending.match(y)){const E=I[e].queries[C],m=w.getState()[e].queries[C];!E&&m&&f(y.meta.arg.endpointName,y.meta.arg.originalArgs,C,w,y.meta.requestId)}else if(i.pending.match(y))w.getState()[e].mutations[C]&&f(y.meta.arg.endpointName,y.meta.arg.originalArgs,C,w,y.meta.requestId);else if(u(y)){const E=c[C];E!=null&&E.valueResolved&&(E.valueResolved({data:y.payload,meta:y.meta.baseQueryMeta}),delete E.valueResolved)}else if(t.internalActions.removeQueryResult.match(y)||t.internalActions.removeMutationResult.match(y)){const E=c[C];E&&(delete c[C],E.cacheEntryRemoved())}else if(t.util.resetApiState.match(y))for(const[E,m]of Object.entries(c))delete c[E],m.cacheEntryRemoved()};function p(y){return o(y)?y.meta.arg.queryCacheKey:a(y)?y.meta.arg.fixedCacheKey??y.meta.requestId:t.internalActions.removeQueryResult.match(y)?y.payload.queryCacheKey:t.internalActions.removeMutationResult.match(y)?fl(y.payload):""}function f(y,w,I,C,E){const m=n.endpointDefinitions[y],v=m==null?void 0:m.onCacheEntryAdded;if(!v)return;const S={},b=new Promise(k=>{S.cacheEntryRemoved=k}),A=Promise.race([new Promise(k=>{S.valueResolved=k}),b.then(()=>{throw P_})]);A.catch(()=>{}),c[I]=S;const T=t.endpoints[y].select(m.type==="query"?w:I),_=C.dispatch((k,N,D)=>D),R={...C,getCacheEntry:()=>T(C.getState()),requestId:E,extra:_,updateCachedData:m.type==="query"?k=>C.dispatch(t.util.updateQueryData(y,w,k)):void 0,cacheDataLoaded:A,cacheEntryRemoved:b},P=v(w,R);Promise.resolve(P).catch(k=>{if(k!==P_)throw k})}return d},uN=({api:t,context:{apiUid:e},reducerPath:n})=>(r,i)=>{t.util.resetApiState.match(r)&&i.dispatch(t.internalActions.middlewareRegistered(e)),typeof process<"u"},cN=({reducerPath:t,context:e,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:u})=>{const{removeQueryResult:c}=s.internalActions,d=Tr(oi(r),Sd(r)),p=Tr(oi(r,i),fo(r,i));let f=[];const y=(C,E)=>{d(C)?I(kS(C,"invalidatesTags",n,o),E):p(C)?I([],E):s.util.invalidateTags.match(C)&&I(og(C.payload,void 0,void 0,void 0,void 0,o),E)};function w(C){var E,m;for(const v in C.queries)if(((E=C.queries[v])==null?void 0:E.status)==="pending")return!0;for(const v in C.mutations)if(((m=C.mutations[v])==null?void 0:m.status)==="pending")return!0;return!1}function I(C,E){const m=E.getState(),v=m[t];if(f.push(...C),v.config.invalidationBehavior==="delayed"&&w(v))return;const S=f;if(f=[],S.length===0)return;const b=s.util.selectInvalidatedBy(m,S);e.batch(()=>{const A=Array.from(b.values());for(const{queryCacheKey:T}of A){const _=v.queries[T],R=u.currentSubscriptions[T]??{};_&&(Ws(R)===0?E.dispatch(c({queryCacheKey:T})):_.status!=="uninitialized"&&E.dispatch(a(_,T)))}})}return y},dN=({reducerPath:t,queryThunk:e,api:n,refetchQuery:r,internalState:i})=>{const s={},o=(f,y)=>{(n.internalActions.updateSubscriptionOptions.match(f)||n.internalActions.unsubscribeQueryResult.match(f))&&u(f.payload,y),(e.pending.match(f)||e.rejected.match(f)&&f.meta.condition)&&u(f.meta.arg,y),(e.fulfilled.match(f)||e.rejected.match(f)&&!f.meta.condition)&&a(f.meta.arg,y),n.util.resetApiState.match(f)&&d()};function a({queryCacheKey:f},y){const w=y.getState()[t],I=w.queries[f],C=i.currentSubscriptions[f];if(!I||I.status==="uninitialized")return;const{lowestPollingInterval:E,skipPollingIfUnfocused:m}=p(C);if(!Number.isFinite(E))return;const v=s[f];v!=null&&v.timeout&&(clearTimeout(v.timeout),v.timeout=void 0);const S=Date.now()+E;s[f]={nextPollTimestamp:S,pollingInterval:E,timeout:setTimeout(()=>{(w.config.focused||!m)&&y.dispatch(r(I,f)),a({queryCacheKey:f},y)},E)}}function u({queryCacheKey:f},y){const I=y.getState()[t].queries[f],C=i.currentSubscriptions[f];if(!I||I.status==="uninitialized")return;const{lowestPollingInterval:E}=p(C);if(!Number.isFinite(E)){c(f);return}const m=s[f],v=Date.now()+E;(!m||v<m.nextPollTimestamp)&&a({queryCacheKey:f},y)}function c(f){const y=s[f];y!=null&&y.timeout&&clearTimeout(y.timeout),delete s[f]}function d(){for(const f of Object.keys(s))c(f)}function p(f={}){let y=!1,w=Number.POSITIVE_INFINITY;for(let I in f)f[I].pollingInterval&&(w=Math.min(f[I].pollingInterval,w),y=f[I].skipPollingIfUnfocused||y);return{lowestPollingInterval:w,skipPollingIfUnfocused:y}}return o},fN=({api:t,context:e,queryThunk:n,mutationThunk:r})=>{const i=rg(n,r),s=fo(n,r),o=oi(n,r),a={};return(c,d)=>{var p,f;if(i(c)){const{requestId:y,arg:{endpointName:w,originalArgs:I}}=c.meta,C=e.endpointDefinitions[w],E=C==null?void 0:C.onQueryStarted;if(E){const m={},v=new Promise((T,_)=>{m.resolve=T,m.reject=_});v.catch(()=>{}),a[y]=m;const S=t.endpoints[w].select(C.type==="query"?I:y),b=d.dispatch((T,_,R)=>R),A={...d,getCacheEntry:()=>S(d.getState()),requestId:y,extra:b,updateCachedData:C.type==="query"?T=>d.dispatch(t.util.updateQueryData(w,I,T)):void 0,queryFulfilled:v};E(I,A)}}else if(o(c)){const{requestId:y,baseQueryMeta:w}=c.meta;(p=a[y])==null||p.resolve({data:c.payload,meta:w}),delete a[y]}else if(s(c)){const{requestId:y,rejectedWithValue:w,baseQueryMeta:I}=c.meta;(f=a[y])==null||f.reject({error:c.payload??c.error,isUnhandledError:!w,meta:I}),delete a[y]}}},hN=({reducerPath:t,context:e,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=n.internalActions,o=(u,c)=>{Td.match(u)&&a(c,"refetchOnFocus"),Rd.match(u)&&a(c,"refetchOnReconnect")};function a(u,c){const d=u.getState()[t],p=d.queries,f=i.currentSubscriptions;e.batch(()=>{for(const y of Object.keys(f)){const w=p[y],I=f[y];if(!I||!w)continue;(Object.values(I).some(E=>E[c]===!0)||Object.values(I).every(E=>E[c]===void 0)&&d.config[c])&&(Ws(I)===0?u.dispatch(s({queryCacheKey:y})):w.status!=="uninitialized"&&u.dispatch(r(w,y)))}})}return o};function pN(t){const{reducerPath:e,queryThunk:n,api:r,context:i}=t,{apiUid:s}=i,o={invalidateTags:Vn(`${e}/invalidateTags`)},a=p=>p.type.startsWith(`${e}/`),u=[uN,aN,cN,dN,lN,fN];return{middleware:p=>{let f=!1;const w={...t,internalState:{currentSubscriptions:{}},refetchQuery:d,isThisApiSliceAction:a},I=u.map(m=>m(w)),C=iN(w),E=hN(w);return m=>v=>{if(!pS(v))return m(v);f||(f=!0,p.dispatch(r.internalActions.middlewareRegistered(s)));const S={...p,next:m},b=p.getState(),[A,T]=C(v,S,b);let _;if(A?_=m(v):_=T,p.getState()[e]&&(E(v,S,b),a(v)||i.hasRehydrationInfo(v)))for(const R of I)R(v,S,b);return _}},actions:o};function d(p,f,y={}){return n({type:"query",endpointName:p.endpointName,originalArgs:p.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:f,...y})}}var x_=Symbol(),mN=({createSelector:t=ng}={})=>({name:x_,init(e,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:u,refetchOnReconnect:c,invalidationBehavior:d},p){ub();const f=B=>(typeof process<"u",B);Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:Rd,onOffline:sg,onFocus:Td,onFocusLost:ig},util:{}});const{queryThunk:y,mutationThunk:w,patchQueryData:I,updateQueryData:C,upsertQueryData:E,prefetch:m,buildMatchThunkActions:v}=eN({baseQuery:n,reducerPath:i,context:p,api:e,serializeQueryArgs:s,assertTagType:f}),{reducer:S,actions:b}=tN({context:p,queryThunk:y,mutationThunk:w,reducerPath:i,assertTagType:f,config:{refetchOnFocus:u,refetchOnReconnect:c,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:d}});Nr(e.util,{patchQueryData:I,updateQueryData:C,upsertQueryData:E,prefetch:m,resetApiState:b.resetApiState}),Nr(e.internalActions,b);const{middleware:A,actions:T}=pN({reducerPath:i,context:p,queryThunk:y,mutationThunk:w,api:e,assertTagType:f});Nr(e.util,T),Nr(e,{reducer:S,middleware:A});const{buildQuerySelector:_,buildMutationSelector:R,selectInvalidatedBy:P,selectCachedArgsForQuery:k}=nN({serializeQueryArgs:s,reducerPath:i,createSelector:t});Nr(e.util,{selectInvalidatedBy:P,selectCachedArgsForQuery:k});const{buildInitiateQuery:N,buildInitiateMutation:D,getRunningMutationThunk:Q,getRunningMutationsThunk:se,getRunningQueriesThunk:we,getRunningQueryThunk:ce}=Zb({queryThunk:y,mutationThunk:w,api:e,serializeQueryArgs:s,context:p});return Nr(e.util,{getRunningMutationThunk:Q,getRunningMutationsThunk:se,getRunningQueryThunk:ce,getRunningQueriesThunk:we}),{name:x_,injectEndpoint(B,X){var le;const W=e;(le=W.endpoints)[B]??(le[B]={}),xS(X)?Nr(W.endpoints[B],{name:B,select:_(B,X),initiate:N(B,X)},v(y,B)):Yb(X)&&Nr(W.endpoints[B],{name:B,select:R(),initiate:D(B)},v(w,B))}}}}),bS={exports:{}},NS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=V;function gN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yN=typeof Object.is=="function"?Object.is:gN,vN=Ol.useSyncExternalStore,_N=Ol.useRef,wN=Ol.useEffect,EN=Ol.useMemo,SN=Ol.useDebugValue;NS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=_N(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=EN(function(){function u(y){if(!c){if(c=!0,d=y,y=r(y),i!==void 0&&o.hasValue){var w=o.value;if(i(w,y))return p=w}return p=y}if(w=p,yN(d,y))return w;var I=r(y);return i!==void 0&&i(w,I)?w:(d=y,p=I)}var c=!1,d,p,f=n===void 0?null:n;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,n,r,i]);var a=vN(t,s[0],s[1]);return wN(function(){o.hasValue=!0,o.value=a},[a]),SN(a),a};bS.exports=NS;var TN=bS.exports,an="default"in Lf?s0:Lf,k_=Symbol.for("react-redux-context"),D_=typeof globalThis<"u"?globalThis:{};function RN(){if(!an.createContext)return{};const t=D_[k_]??(D_[k_]=new Map);let e=t.get(an.createContext);return e||(e=an.createContext(null),t.set(an.createContext,e)),e}var ai=RN(),IN=()=>{throw new Error("uSES not initialized!")};function ag(t=ai){return function(){return an.useContext(t)}}var LS=ag(),OS=IN,CN=t=>{OS=t},AN=(t,e)=>t===e;function PN(t=ai){const e=t===ai?LS:ag(t),n=(r,i={})=>{const{equalityFn:s=AN,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:d,identityFunctionCheck:p}=e();an.useRef(!0);const f=an.useCallback({[r.name](w){return r(w)}}[r.name],[r,d,o.stabilityCheck]),y=OS(u.addNestedSub,a.getState,c||a.getState,f,s);return an.useDebugValue(y),y};return Object.assign(n,{withTypes:()=>n}),n}var xN=PN();function VS(t){t()}function kN(){let t=null,e=null;return{clear(){t=null,e=null},notify(){VS(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var b_={notify(){},get:()=>[]};function DN(t,e){let n,r=b_,i=0,s=!1;function o(I){d();const C=r.subscribe(I);let E=!1;return()=>{E||(E=!0,C(),p())}}function a(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(u),r=kN())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=b_)}function f(){s||(s=!0,d())}function y(){s&&(s=!1,p())}const w={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:f,tryUnsubscribe:y,getListeners:()=>r};return w}var bN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NN=typeof navigator<"u"&&navigator.product==="ReactNative",LN=bN||NN?an.useLayoutEffect:an.useEffect;function N_(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Da(t,e){if(N_(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!N_(t[n[i]],e[n[i]]))return!1;return!0}function ON({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=an.useMemo(()=>{const c=DN(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=an.useMemo(()=>t.getState(),[t]);LN(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=e||ai;return an.createElement(u.Provider,{value:o},n)}var VN=ON;function MS(t=ai){const e=t===ai?LS:ag(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var FS=MS();function MN(t=ai){const e=t===ai?FS:MS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var FN=MN(),jN=VS;CN(TN.useSyncExternalStoreWithSelector);function UN(t){return t.type==="query"}function zN(t){return t.type==="mutation"}function Su(t,...e){return Object.assign(t,...e)}function xf(t){return t.replace(t[0],t[0].toUpperCase())}var _s=WeakMap?new WeakMap:void 0,$N=({endpointName:t,queryArgs:e})=>{let n="";const r=_s==null?void 0:_s.get(e);if(typeof r=="string")n=r;else{const i=JSON.stringify(e,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=si(o)?Object.keys(o).sort().reduce((a,u)=>(a[u]=o[u],a),{}):o,o));si(e)&&(_s==null||_s.set(e,i)),n=i}return`${t}(${n})`},kf=Symbol();function L_(t,e,n,r){const i=V.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}),[t,e,n,r]),s=V.useRef(i);return V.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}function Df(t){const e=V.useRef(t);return V.useEffect(()=>{Da(e.current,t)||(e.current=t)},[t]),Da(e.current,t)?e.current:t}var BN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qN=BN(),HN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QN=HN(),KN=()=>qN||QN?V.useLayoutEffect:V.useEffect,WN=KN(),GN=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:AS.pending}:t;function YN({api:t,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:u}){const c=s?w=>w():V.useEffect;return{buildQueryHooks:f,buildMutationHook:y,usePrefetch:p};function d(w,I,C){if(I!=null&&I.endpointName&&w.isUninitialized){const{endpointName:A}=I,T=u.endpointDefinitions[A];a({queryArgs:I.originalArgs,endpointDefinition:T,endpointName:A})===a({queryArgs:C,endpointDefinition:T,endpointName:A})&&(I=void 0)}let E=w.isSuccess?w.data:I==null?void 0:I.data;E===void 0&&(E=w.data);const m=E!==void 0,v=w.isLoading,S=(!I||I.isLoading||I.isUninitialized)&&!m&&v,b=w.isSuccess||v&&m;return{...w,data:E,currentData:w.data,isFetching:v,isLoading:S,isSuccess:b}}function p(w,I){const C=n(),E=Df(I);return V.useCallback((m,v)=>C(t.util.prefetch(w,m,{...E,...v})),[w,C,E])}function f(w){const I=(m,{refetchOnReconnect:v,refetchOnFocus:S,refetchOnMountOrArgChange:b,skip:A=!1,pollingInterval:T=0,skipPollingIfUnfocused:_=!1}={})=>{const{initiate:R}=t.endpoints[w],P=n(),k=V.useRef(void 0);if(!k.current){const W=P(t.internalActions.internal_getRTKQSubscriptions());k.current=W}const N=L_(A?Oi:m,$N,u.endpointDefinitions[w],w),D=Df({refetchOnReconnect:v,refetchOnFocus:S,pollingInterval:T,skipPollingIfUnfocused:_}),Q=V.useRef(!1),se=V.useRef(void 0);let{queryCacheKey:we,requestId:ce}=se.current||{},B=!1;we&&ce&&(B=k.current.isRequestSubscribed(we,ce));const X=!B&&Q.current;return c(()=>{Q.current=B}),c(()=>{X&&(se.current=void 0)},[X]),c(()=>{var he;const W=se.current;if(typeof process<"u",N===Oi){W==null||W.unsubscribe(),se.current=void 0;return}const le=(he=se.current)==null?void 0:he.subscriptionOptions;if(!W||W.arg!==N){W==null||W.unsubscribe();const me=P(R(N,{subscriptionOptions:D,forceRefetch:b}));se.current=me}else D!==le&&W.updateSubscriptionOptions(D)},[P,R,b,N,D,X]),V.useEffect(()=>()=>{var W;(W=se.current)==null||W.unsubscribe(),se.current=void 0},[]),V.useMemo(()=>({refetch:()=>{var W;if(!se.current)throw new Error(cn(38));return(W=se.current)==null?void 0:W.refetch()}}),[])},C=({refetchOnReconnect:m,refetchOnFocus:v,pollingInterval:S=0,skipPollingIfUnfocused:b=!1}={})=>{const{initiate:A}=t.endpoints[w],T=n(),[_,R]=V.useState(kf),P=V.useRef(void 0),k=Df({refetchOnReconnect:m,refetchOnFocus:v,pollingInterval:S,skipPollingIfUnfocused:b});c(()=>{var se,we;const Q=(se=P.current)==null?void 0:se.subscriptionOptions;k!==Q&&((we=P.current)==null||we.updateSubscriptionOptions(k))},[k]);const N=V.useRef(k);c(()=>{N.current=k},[k]);const D=V.useCallback(function(Q,se=!1){let we;return e(()=>{var ce;(ce=P.current)==null||ce.unsubscribe(),P.current=we=T(A(Q,{subscriptionOptions:N.current,forceRefetch:!se})),R(Q)}),we},[T,A]);return V.useEffect(()=>()=>{var Q;(Q=P==null?void 0:P.current)==null||Q.unsubscribe()},[]),V.useEffect(()=>{_!==kf&&!P.current&&D(_,!0)},[_,D]),V.useMemo(()=>[D,_],[D,_])},E=(m,{skip:v=!1,selectFromResult:S}={})=>{const{select:b}=t.endpoints[w],A=L_(v?Oi:m,a,u.endpointDefinitions[w],w),T=V.useRef(void 0),_=V.useMemo(()=>o([b(A),(D,Q)=>Q,D=>A],d,{memoizeOptions:{resultEqualityCheck:Da}}),[b,A]),R=V.useMemo(()=>S?o([_],S,{devModeChecks:{identityFunctionCheck:"never"}}):_,[_,S]),P=r(D=>R(D,T.current),Da),k=i(),N=_(k.getState(),T.current);return WN(()=>{T.current=N},[N]),P};return{useQueryState:E,useQuerySubscription:I,useLazyQuerySubscription:C,useLazyQuery(m){const[v,S]=C(m),b=E(S,{...m,skip:S===kf}),A=V.useMemo(()=>({lastArg:S}),[S]);return V.useMemo(()=>[v,b,A],[v,b,A])},useQuery(m,v){const S=I(m,v),b=E(m,{selectFromResult:m===Oi||v!=null&&v.skip?void 0:GN,...v}),{data:A,status:T,isLoading:_,isSuccess:R,isError:P,error:k}=b;return V.useDebugValue({data:A,status:T,isLoading:_,isSuccess:R,isError:P,error:k}),V.useMemo(()=>({...b,...S}),[b,S])}}}function y(w){return({selectFromResult:I,fixedCacheKey:C}={})=>{const{select:E,initiate:m}=t.endpoints[w],v=n(),[S,b]=V.useState();V.useEffect(()=>()=>{S!=null&&S.arg.fixedCacheKey||S==null||S.reset()},[S]);const A=V.useCallback(function(le){const he=v(m(le,{fixedCacheKey:C}));return b(he),he},[v,m,C]),{requestId:T}=S||{},_=V.useMemo(()=>E({fixedCacheKey:C,requestId:S==null?void 0:S.requestId}),[C,S,E]),R=V.useMemo(()=>I?o([_],I):_,[I,_]),P=r(R,Da),k=C==null?S==null?void 0:S.arg.originalArgs:void 0,N=V.useCallback(()=>{e(()=>{S&&b(void 0),C&&v(t.internalActions.removeMutationResult({requestId:T,fixedCacheKey:C}))})},[v,C,S,T]),{endpointName:D,data:Q,status:se,isLoading:we,isSuccess:ce,isError:B,error:X}=P;V.useDebugValue({endpointName:D,data:Q,status:se,isLoading:we,isSuccess:ce,isError:B,error:X});const W=V.useMemo(()=>({...P,originalArgs:k,reset:N}),[P,k,N]);return V.useMemo(()=>[A,W],[A,W])}}}var XN=Symbol(),JN=({batch:t=jN,hooks:e={useDispatch:FN,useSelector:xN,useStore:FS},createSelector:n=ng,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:XN,init(s,{serializeQueryArgs:o},a){const u=s,{buildQueryHooks:c,buildMutationHook:d,usePrefetch:p}=YN({api:s,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:o,context:a});return Su(u,{usePrefetch:p}),Su(a,{batch:t}),{injectEndpoint(f,y){if(UN(y)){const{useQuery:w,useLazyQuery:I,useLazyQuerySubscription:C,useQueryState:E,useQuerySubscription:m}=c(f);Su(u.endpoints[f],{useQuery:w,useLazyQuery:I,useLazyQuerySubscription:C,useQueryState:E,useQuerySubscription:m}),s[`use${xf(f)}Query`]=w,s[`useLazy${xf(f)}Query`]=I}else if(zN(y)){const w=d(f);Su(u.endpoints[f],{useMutation:w}),s[`use${xf(f)}Mutation`]=w}}}}}),ZN=rN(mN(),JN());const eL=async({url:t,method:e,data:n})=>{try{if(e==="GET")if(t.includes("/")){const r=yn(Kn,t),i=await Aa(r);if(i.exists())return{data:i.data()};throw new Error("Document does not exist")}else{const r=Ic(Kn,t),i=BE(r),s=await QE(i),o=[];return s.forEach(a=>{o.push({id:a.id,...a.data()})}),{data:o}}else if(e==="POST"){const r=Ic(Kn,t);return{data:{id:(await fx(r,n)).id,...n}}}else if(e==="PUT"){const r=yn(Kn,t);return await Qh(r,n,{merge:!0}),{data:n}}}catch(r){return{error:{status:500,data:r.message}}}},Bu=ZN({reducerPath:"api",baseQuery:eL,endpoints:t=>({getUser:t.query({query:e=>({url:`users/${e}`,method:"GET"}),async transformResponse(e){if(e.referrals){const n=e.referrals.map(async r=>(await Aa(r)).data());e.referrals=await Promise.all(n)}return e}}),addUser:t.mutation({query:e=>({url:"users",method:"POST",data:e})}),updateUser:t.mutation({query:({userId:e,data:n})=>({url:`users/${e}`,method:"PUT",data:n})})})}),{useGetUserQuery:tL,useAddUserMutation:CO,useUpdateUserMutation:AO}=Bu,O_={"start-bear-video":"_start-bear-video_t9a8w_1","mute-button":"_mute-button_t9a8w_33"},nL="/start-video.mp4",rL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_2'%20data-name='Layer%202'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201200.98%20866.21'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fff;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cg%20id='__1'%20data-name='_1'%3e%3cg%3e%3cpath%20class='cls-1'%20d='M238.73,194.81h0s-146.56,0-146.56,0C41.27,194.81,0,240.85,0,297.64v270.93c0,56.79,41.27,102.82,92.17,102.82h146.56s304.17,189.75,304.17,189.75c22.05,13.75,50.62-2.1,50.62-28.08V33.15c0-25.99-28.57-41.84-50.62-28.08L238.73,194.81Z'/%3e%3cg%3e%3cpath%20class='cls-1'%20d='M768.59,251.87c86.12,102.01,92.93,250.25,16.52,359.72-13.25,18.98-40.29,21.7-57.14,5.84-.26-.24-.52-.48-.77-.73-13.7-12.9-15.91-33.89-5.16-49.33,56.32-80.89,51.29-190.31-12.2-265.69-12.12-14.39-11.84-35.49.62-49.59.23-.27.47-.53.7-.8,15.33-17.34,42.51-17.11,57.44.58Z'/%3e%3cpath%20class='cls-1'%20d='M903.58,142.61c150.05,159.44,161.37,405.82,26.56,578.34-13.75,17.6-39.68,19.53-55.94,4.22-.25-.24-.51-.48-.76-.72-14.34-13.5-15.91-35.65-3.8-51.18,111.14-142.55,101.8-345.9-21.94-477.66-13.48-14.35-13.95-36.55-.91-51.31.23-.26.46-.52.69-.78,14.79-16.74,40.79-17.19,56.1-.92Z'/%3e%3cpath%20class='cls-1'%20d='M1028.97,33.1c214.48,216.71,230.33,561.96,36.62,797.42-13.94,16.95-39.35,18.5-55.33,3.46-.25-.24-.51-.48-.76-.71-14.58-13.73-15.96-36.39-3.24-51.86,168.41-204.96,154.62-505.3-31.87-693.96-14.08-14.24-14.79-36.93-1.52-51.94.23-.26.46-.52.69-.78,14.53-16.44,39.98-17.23,55.41-1.63Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",iL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_2'%20data-name='Layer%202'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201265.87%20869.78'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fff;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cg%20id='__1'%20data-name='_1'%3e%3cg%3e%3cpath%20class='cls-1'%20d='M239.71,195.62h0s-147.16,0-147.16,0C41.44,195.62,0,241.84,0,298.86v272.05c0,57.02,41.44,103.25,92.55,103.25h147.16s305.42,190.53,305.42,190.53c22.14,13.81,50.83-2.11,50.83-28.2V33.29c0-26.09-28.69-42.01-50.83-28.2L239.71,195.62Z'/%3e%3cg%3e%3cpath%20class='cls-1'%20d='M785.27,671.51h0c-9.8-9.8-9.8-25.7,0-35.5l437.75-437.75c9.8-9.8,25.7-9.8,35.5,0h0c9.8,9.8,9.8,25.7,0,35.5l-437.75,437.75c-9.8,9.8-25.7,9.8-35.5,0Z'/%3e%3cpath%20class='cls-1'%20d='M1258.52,671.51h0c9.8-9.8,9.8-25.7,0-35.5l-437.75-437.75c-9.8-9.8-25.7-9.8-35.5,0h0c-9.8,9.8-9.8,25.7,0,35.5l437.75,437.75c9.8,9.8,25.7,9.8,35.5,0Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",sL=({setUserIsRegistered:t,setVideoIsEnd:e})=>{const n=V.useRef(null),[r,i]=V.useState(!0);return V.useEffect(()=>{n&&n.current&&(n.current.volume=.5)},[n.current]),U.jsx(U.Fragment,{children:U.jsxs("div",{className:O_["start-bear-video"],children:[U.jsx("button",{onClick:()=>{i(s=>!s)},className:O_["mute-button"],children:U.jsx("img",{src:r?iL:rL,alt:""})}),U.jsx("video",{ref:n,onEnded:()=>{setTimeout(()=>{e(!0),t(!0)},100)},src:nL,autoPlay:!0,muted:r})]})})},oL="_text_4yliv_79",aL="_percent_4yliv_79",lL="_move_4yliv_1",Tu={"loading-screen":"_loading-screen_4yliv_1","loading-bar-container":"_loading-bar-container_4yliv_29","loading-bar-fill":"_loading-bar-fill_4yliv_51",text:oL,percent:aL,"progress-bar":"_progress-bar_4yliv_115",move:lL},V_="/assets/loading%20screen-BeJ6i0ky.png",uL="/bg-light.webp",cL=t=>{const[e,n]=V.useState(!1);return V.useEffect(()=>{let r=0;const i=()=>{r+=1,r===t.length&&n(!0)};t.forEach(s=>{const o=new Image;o.src=s,o.onload=i})},[t]),e},dL=({setIsLoadingScreen:t})=>{const e=cL([V_,uL]),[n,r]=V.useState(0),i=V.useRef(null),s=V.useRef(!1);return V.useEffect(()=>{if(n===100){const o=setTimeout(()=>{t(!1)},500);return()=>clearTimeout(o)}},[n]),V.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),V.useEffect(()=>{s.current&&e&&kD(r)},[e]),U.jsxs("div",{ref:i,className:Tu["loading-screen"],children:[U.jsx("img",{src:V_,alt:""}),U.jsxs("div",{className:Tu["progress-bar"],children:[U.jsx("p",{className:Tu.text,children:"Loading"}),U.jsxs("p",{className:Tu.percent,children:[n,"%"]}),U.jsx("span",{style:{width:`${n}%`}})]})]})},fL="_close_yehiu_141",na={"registered-modal-wrapper":"_registered-modal-wrapper_yehiu_1","registered-modal":"_registered-modal_yehiu_1","instruction-list":"_instruction-list_yehiu_91","first-players":"_first-players_yehiu_113","bonus-skin":"_bonus-skin_yehiu_129","close-button":"_close-button_yehiu_141",close:fL},hL=()=>{const t=e=>{e.target.parentElement.parentElement.remove()};return U.jsx("div",{className:na["registered-modal-wrapper"],children:U.jsxs("div",{className:na["registered-modal"],children:[U.jsx("h1",{children:" Welcome to Little Bear! "}),U.jsxs("p",{className:na["first-players"],children:["Get ready to groove with your dancing bear! ",U.jsx("br",{}),"Here's how to play:"]}),U.jsxs("ul",{className:na["instruction-list"],children:[U.jsxs("li",{children:[U.jsx("h2",{children:" Tap the Bear: "}),U.jsx("p",{children:"Keep tapping on the bear to make sure the dance continues. Every tap helps the bear keep moving!"})]}),U.jsxs("li",{children:[U.jsx("h2",{children:" Earn Points:"}),U.jsx("p",{children:"Each tap earns you points. The more you tap, the more points you get!"})]}),U.jsxs("li",{children:[U.jsx("h2",{children:" Level Up:"}),U.jsx("p",{children:"Accumulate points to level up and unlock new dance moves. How far can you go?"})]})]}),U.jsx("button",{onClick:t,className:na.close,children:"Close"})]})})};class pL{constructor(e){this.dispatch=e}async setUserData(e){this.dispatch({type:"SET_POINTS",payload:e.points}),this.dispatch({type:"SET_USER",payload:e}),this.dispatch({type:"SET_USER_LEVEL",payload:Yh(e.points)}),await Nf.checkDailyReward(e.id.toString(),this.dispatch)}async registerUser(e,n,r){if(!e.username)return;const i=AD(e.username,e.id);await Nf.addUser(i),console.log("after register in user service"),console.log(i,"registeredUser"),this.dispatch({type:"SET_USER",payload:i}),console.log("after dispatch in user service"),console.log(n,"referralId"),n&&await Nf.addReferral(e.id.toString(),n,r)}}const mL={"/airdrop":"background-image-airdrop","/skins":"background-image-skins"},gL=["background-image-main","background-image-main2","background-image-main3"],yL=()=>{const{user:t}=KD(),{data:e,error:n,isLoading:r}=tL(t==null?void 0:t.id,{skip:!(t!=null&&t.id)}),{state:i,dispatch:s}=Jm(),[o,a]=V.useState(!1),u=gi(),c=mL[u.pathname],d=gL[i.level-1],[p,f]=V.useState(!1),[y,w]=V.useState(!0),[I,C]=V.useState(!1);return V.useEffect(()=>{if(!t||!t.username)return;const E=new pL(s);if(e&&E.setUserData(e).then(()=>{f(!0),a(!0)}),n&&n.data==="Document does not exist"){const m=xD(u.search)||"",v=!!t.is_premium;E.registerUser(t,m,v).then(()=>{a(!1)})}},[t,e,s,n,u.search]),y?U.jsx(dL,{setIsLoadingScreen:w}):(console.log(o,"do usloviya userIsRegistered"),console.log(y,"isLoadingScreen"),o?(console.log(o,"posle usloviya userIsRegistered"),U.jsxs("div",{className:`${Ef["game-wrapper"]} ${Ef[c]} ${Ef[d]}`,children:[I&&U.jsx(hL,{}),U.jsx(MD,{pathname:u.pathname}),U.jsx(Dk,{}),U.jsx(QD,{})]})):U.jsx(sL,{setUserIsRegistered:a,setVideoIsEnd:C}))},vL="modulepreload",_L=function(t){return"/"+t},M_={},yi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=_L(a),a in M_)return;M_[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":vL,u||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((p,f)=>{d.addEventListener("load",p),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},wL=V.lazy(()=>yi(()=>import("./Main-D-NkOS8v.js").then(t=>t.ad),__vite__mapDeps([0,1,2]))),EL=V.lazy(()=>yi(()=>import("./Friends-nTZ-jEcC.js"),__vite__mapDeps([3,4]))),SL=V.lazy(()=>yi(()=>import("./Leaders-CVxr5zyB.js"),__vite__mapDeps([5,6]))),TL=V.lazy(()=>yi(()=>import("./DailyReward-Br2xo3zB.js"),__vite__mapDeps([7,8]))),RL=V.lazy(()=>yi(()=>import("./Airdrop-MQ4iDSvv.js"),__vite__mapDeps([9,1,10]))),IL=V.lazy(()=>yi(()=>import("./Tasks-BW4UsBUt.js"),__vite__mapDeps([11,12]))),CL=V.lazy(()=>yi(()=>import("./Settings-BIfARawL.js"),__vite__mapDeps([13,14]))),AL=V.lazy(()=>yi(()=>import("./Skins-BHbJR6xS.js"),__vite__mapDeps([15,16]))),PL="_loader_152k5_1",xL="_l13_152k5_1",kL={loader:PL,l13:xL},Lr=()=>U.jsx("div",{className:kL.loader}),DL=jk([{path:"/",element:U.jsx(yL,{}),children:[{path:"/",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(wL,{})})},{path:"/referrals",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(EL,{})})},{path:"/leaders",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(SL,{})})},{path:"/daily-reward",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(TL,{})})},{path:"/airdrop",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(RL,{})})},{path:"/tasks",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(IL,{})})},{path:"/settings",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(CL,{})})},{path:"/skins",element:U.jsx(V.Suspense,{fallback:U.jsx("div",{className:"suspense",children:U.jsx(Lr,{})}),children:U.jsx(AL,{})})}]}]);class bL{constructor(){this.userCollection=Ic(Kn,"users")}async addUser(e){try{const n=yn(this.userCollection,e.id.toString());await Qh(n,e),console.log("UserService added successfully")}catch(n){console.error("Error adding user: ",n)}}async updateUser(e,n){try{const r=yn(this.userCollection,e);await jv(r,n),console.log("UserService updated successfully")}catch(r){console.error("Error updating user: ",r)}}async deleteUser(e){try{const n=yn(this.userCollection,e);await dx(n),console.log("UserService deleted successfully")}catch(n){console.error("Error deleting user: ",n)}}async getUserPoints(e){try{const n=yn(this.userCollection,e),r=await Aa(n);if(r.exists())return r.data().points}catch(n){console.error("Error get user points: ",n)}}async addReferral(e,n,r){try{const i=yn(this.userCollection,e),s=yn(this.userCollection,n);await jv(s,{referrals:yx(i),points:yf(r?2e3:1e3)}),console.log("Referral added successfully")}catch(i){console.error("Error adding referral: ",i)}}async sendPointsToServer(e,n){try{let r=null;const i=yn(Kn,"users",e.toString());return await gx(Kn,async s=>{const o=await s.get(i);if(!o.exists())throw new Error("  !");r=o.data().points+n,s.update(i,{points:r}),console.log(`sending on server ${r}`)}),r}catch(r){console.log(r,"error")}}async checkDailyReward(e,n){try{const i=new Date().toLocaleDateString("en-CA"),s=yn(Kn,"users",e.toString(),"dailyRewards",i),o=await Aa(s),a=o.exists()&&o.data().claimed;n({type:"UPDATE_USER_DATA",payload:{hasClaimedToday:a}})}catch(r){console.error("Error checking daily reward: ",r)}}async claimDailyReward(e,n){if(!e)return;const r=e.id.toString(),s=new Date().toLocaleDateString("en-CA"),o=ID[e.consecutiveDays],a=e.points+o,u=yn(Kn,"users",r,"dailyRewards",s),c=await Aa(u);if(c.exists()&&c.data().claimed){console.log("You have already claimed your daily reward today.");return}try{await Qh(u,{points:o,claimed:!0}),await this.updateUser(e.id.toString(),{points:a,lastClaimedDate:s,consecutiveDays:yf(1),hasClaimedToday:!0}),n({type:"UPDATE_USER_DATA",payload:{lastClaimedDate:s,consecutiveDays:e.consecutiveDays+1,hasClaimedToday:!0}}),n({type:"SET_POINTS",payload:a}),console.log("Reward claimed successfully")}catch(d){console.error("Failed to claim reward:",d)}}async fetchTopUser(){try{console.log("fetching");const e=Ic(Kn,"users"),n=BE(e,ox("points","desc"),ax(10));return(await QE(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){console.log(e,"error")}}}const jS=xb({reducer:{[Bu.reducerPath]:Bu.reducer},middleware:t=>t({serializableCheck:!1}).concat(Bu.middleware)});Gb(jS.dispatch);const NL={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Vc{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||NL,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Vc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Vc(this.logger,e)}}var Gn=new Vc;class Id{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,u]=o;for(let c=0;c<u;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,u]=o;for(let c=0;c<u;c++)a.apply(a,[e,...r])})}}function ra(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function F_(t){return t==null?"":""+t}function LL(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}const OL=/###/g;function ba(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(OL,"."):a}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?e:e.split(".");let o=0;for(;o<s.length-1;){if(i())return{};const a=r(s[o]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return i()?{}:{obj:t,k:r(s[o])}}function j_(t,e,n){const{obj:r,k:i}=ba(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=ba(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=ba(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n}function VL(t,e,n,r){const{obj:i,k:s}=ba(t,e,Object);i[s]=i[s]||[],i[s].push(n)}function Mc(t,e){const{obj:n,k:r}=ba(t,e);if(n)return n[r]}function ML(t,e,n){const r=Mc(t,n);return r!==void 0?r:Mc(e,n)}function US(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):US(t[r],e[r],n):t[r]=e[r]);return t}function ws(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var FL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function jL(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>FL[e]):t}class UL{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const zL=[" ",",","?","!",";"],$L=new UL(20);function BL(t,e,n){e=e||"",n=n||"";const r=zL.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=$L.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function op(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let u=s;u<r.length;++u)if(u!==s&&(a+=n),a+=r[u],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<r.length-1)continue;s+=u-s+1;break}i=o}return i}function Fc(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class U_ extends Id{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&s?a.push(...r.split(s)):a.push(r)));const u=Mc(this.data,a);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),u||!o||typeof r!="string"?u:op(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),j_(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let u=Mc(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?US(u,r,s):u={...u,...r},j_(this.data,a,u),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var zS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const z_={};class jc extends Id{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),LL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Gn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!BL(e,r,i);if(o&&!a){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),u=a[a.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const S=n.nsSeparator||this.options.nsSeparator;return i?{res:`${u}${S}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${S}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:o}const p=this.resolve(e,n);let f=p&&p.res;const y=p&&p.usedKey||o,w=p&&p.exactUsedKey||o,I=Object.prototype.toString.apply(f),C=["[object Number]","[object Function]","[object RegExp]"],E=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&C.indexOf(I)<0&&!(typeof E=="string"&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,f,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=S,p.usedParams=this.getUsedParamsDetails(n),p):S}if(s){const S=Array.isArray(f),b=S?[]:{},A=S?w:y;for(const T in f)if(Object.prototype.hasOwnProperty.call(f,T)){const _=`${A}${s}${T}`;b[T]=this.translate(_,{...n,joinArrays:!1,ns:a}),b[T]===_&&(b[T]=f[T])}f=b}}else if(m&&typeof E=="string"&&Array.isArray(f))f=f.join(E),f&&(f=this.extendTranslation(f,e,n,r));else{let S=!1,b=!1;const A=n.count!==void 0&&typeof n.count!="string",T=jc.hasDefaultValue(n),_=A?this.pluralResolver.getSuffix(c,n.count,n):"",R=n.ordinal&&A?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",P=A&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),k=P&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${_}`]||n[`defaultValue${R}`]||n.defaultValue;!this.isValidLookup(f)&&T&&(S=!0,f=k),this.isValidLookup(f)||(b=!0,f=o);const D=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&b?void 0:f,Q=T&&k!==f&&this.options.updateMissing;if(b||S||Q){if(this.logger.log(Q?"updateKey":"missingKey",c,u,o,Q?k:f),s){const B=this.resolve(o,{...n,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let se=[];const we=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&we&&we[0])for(let B=0;B<we.length;B++)se.push(we[B]);else this.options.saveMissingTo==="all"?se=this.languageUtils.toResolveHierarchy(n.lng||this.language):se.push(n.lng||this.language);const ce=(B,X,W)=>{const le=T&&W!==f?W:D;this.options.missingKeyHandler?this.options.missingKeyHandler(B,u,X,le,Q,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(B,u,X,le,Q,n),this.emit("missingKey",B,u,X,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?se.forEach(B=>{const X=this.pluralResolver.getSuffixes(B,n);P&&n[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(W=>{ce([B],o+W,n[`defaultValue${W}`]||k)})}):ce(se,o,k))}f=this.extendTranslation(f,e,n,p,r),b&&f===o&&this.options.appendNamespaceToMissingKey&&(f=`${u}:${o}`),(b||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${o}`:o,S?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(p.res=f,p.usedParams=this.getUsedParamsDetails(n),p):f}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const f=e.match(this.interpolator.nestingRegexp);d=f&&f.length}let p=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||i.usedLng,r),c){const f=e.match(this.interpolator.nestingRegexp),y=f&&f.length;d<y&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,y=new Array(f),w=0;w<f;w++)y[w]=arguments[w];return s&&s[0]===y[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):o.translate(...y,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,u=typeof a=="string"?[a]:a;return e!=null&&u&&u.length&&r.applyPostProcessor!==!1&&(e=zS.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(u,n),d=c.key;i=d;let p=c.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const f=n.count!==void 0&&typeof n.count!="string",y=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),w=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",I=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(C=>{this.isValidLookup(r)||(a=C,!z_[`${I[0]}-${C}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(z_[`${I[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${I.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(E=>{if(this.isValidLookup(r))return;o=E;const m=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,d,E,C,n);else{let S;f&&(S=this.pluralResolver.getSuffix(E,n.count,n));const b=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(m.push(d+S),n.ordinal&&S.indexOf(A)===0&&m.push(d+S.replace(A,this.options.pluralSeparator)),y&&m.push(d+b)),w){const T=`${d}${this.options.contextSeparator}${n.context}`;m.push(T),f&&(m.push(T+S),n.ordinal&&S.indexOf(A)===0&&m.push(T+S.replace(A,this.options.pluralSeparator)),y&&m.push(T+b))}}let v;for(;v=m.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(E,C,v,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function bf(t){return t.charAt(0).toUpperCase()+t.slice(1)}class $_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Gn.create("languageUtils")}getScriptPartFromCode(e){if(e=Fc(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Fc(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=bf(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=bf(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=bf(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let qL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],HL={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const QL=["v1","v2","v3"],KL=["v4"],B_={zero:0,one:1,two:2,few:3,many:4,other:5};function WL(){const t={};return qL.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:HL[e.fc]}})}),t}class GL{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Gn.create("pluralResolver"),(!this.options.compatibilityJSON||KL.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=WL()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Fc(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>B_[i]-B_[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!QL.includes(this.options.compatibilityJSON)}}function q_(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=ML(t,e,n);return!s&&i&&typeof n=="string"&&(s=op(t,n,r),s===void 0&&(s=op(e,n,r))),s}class YL{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Gn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:u,formatSeparator:c,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:f,nestingPrefixEscaped:y,nestingSuffix:w,nestingSuffixEscaped:I,nestingOptionsSeparator:C,maxReplaces:E,alwaysFormat:m}=e.interpolation;this.escape=n!==void 0?n:jL,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?ws(s):o||"{{",this.suffix=a?ws(a):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=f?ws(f):y||ws("$t("),this.nestingSuffix=w?ws(w):I||ws(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=E||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(w){return w.replace(/\$/g,"$$$$")}const d=w=>{if(w.indexOf(this.formatSeparator)<0){const m=q_(n,u,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(m,void 0,r,{...i,...n,interpolationkey:w}):m}const I=w.split(this.formatSeparator),C=I.shift().trim(),E=I.join(this.formatSeparator).trim();return this.format(q_(n,u,C,this.options.keySeparator,this.options.ignoreJSONStructure),E,r,{...i,...n,interpolationkey:C})};this.resetRegExp();const p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>c(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?c(this.escape(w)):c(w)}].forEach(w=>{for(a=0;s=w.regex.exec(e);){const I=s[1].trim();if(o=d(I),o===void 0)if(typeof p=="function"){const E=p(e,s,i);o=typeof E=="string"?E:""}else if(i&&Object.prototype.hasOwnProperty.call(i,I))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=F_(o));const C=w.safeValue(o);if(e=e.replace(s[0],C),f?(w.regex.lastIndex+=o.length,w.regex.lastIndex-=s[0].length):w.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function a(u,c){const d=this.nestingOptionsSeparator;if(u.indexOf(d)<0)return u;const p=u.split(new RegExp(`${d}[ ]*{`));let f=`{${p[1]}`;u=p[0],f=this.interpolate(f,o);const y=f.match(/'/g),w=f.match(/"/g);(y&&y.length%2===0&&!w||w.length%2!==0)&&(f=f.replace(/'/g,'"'));try{o=JSON.parse(f),c&&(o={...c,...o})}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,I),`${u}${d}${f}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u}for(;i=this.nestingRegexp.exec(e);){let u=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=d.shift(),u=d,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=F_(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=u.reduce((d,p)=>this.format(d,p,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function XL(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...u]=o.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}}function Es(t){const e={};return function(r,i,s){const o=i+JSON.stringify(s);let a=e[o];return a||(a=t(Fc(i),s),e[o]=a),a(r)}}class JL{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Gn.create("formatter"),this.options=e,this.formats={number:Es((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Es((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Es((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Es((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Es((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Es(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,u)=>{const{formatName:c,formatOptions:d}=XL(u);if(this.formats[c]){let p=a;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},y=f.locale||f.lng||i.locale||i.lng||r;p=this.formats[c](a,y,{...d,...i,...f})}catch(f){this.logger.warn(f)}return p}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}function ZL(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class eO extends Id{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Gn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},u={};return e.forEach(c=>{let d=!0;n.forEach(p=>{const f=`${c}|${p}`;!r.reload&&this.store.hasResourceBundle(c,p)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?o[f]===void 0&&(o[f]=!0):(this.state[f]=1,d=!1,o[f]===void 0&&(o[f]=!0),s[f]===void 0&&(s[f]=!0),u[p]===void 0&&(u[p]=!0)))}),d||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const a={};this.queue.forEach(u=>{VL(u.loaded,[s],o),ZL(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{a[c]||(a[c]={});const d=u.loaded[c];d.length&&d.forEach(p=>{a[c][p]===void 0&&(a[c][p]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,d)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const c=u(e,n);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return u(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const u={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,n,r,i,u):d=c(e,n,r,i),d&&typeof d.then=="function"?d.then(p=>a(null,p)).catch(a):a(null,d)}catch(d){a(d)}else c(e,n,r,i,a,u)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}function H_(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Q_(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Ru(){}function tO(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class hl extends Id{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Q_(e),this.services={},this.logger=Gn,this.modules={external:[]},tO(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=H_();this.options={...i,...this.options,...Q_(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function s(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Gn.init(s(this.modules.logger),this.options):Gn.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=JL);const p=new $_(this.options);this.store=new U_(this.options.resources,this.options);const f=this.services;f.logger=Gn,f.resourceStore=this.store,f.languageUtils=p,f.pluralResolver=new GL(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=s(d),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new YL(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new eO(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(y){for(var w=arguments.length,I=new Array(w>1?w-1:0),C=1;C<w;C++)I[C-1]=arguments[C];e.emit(y,...I)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new jc(this.services,this.options),this.translator.on("*",function(y){for(var w=arguments.length,I=new Array(w>1?w-1:0),C=1;C<w;C++)I[C-1]=arguments[C];e.emit(y,...I)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ru),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const u=ra(),c=()=>{const d=(p,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(f),r(p,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),u}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ru;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>o(u)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=ra();return e||(e=this.languages),n||(n=this.options.ns),r||(r=Ru),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&zS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=ra();this.emit("languageChanging",e);const s=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},a=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const c=typeof u=="string"?u:this.services.languageUtils.getBestMatchFromCodes(u);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{o(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let u;if(typeof a!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),p=2;p<c;p++)d[p-2]=arguments[p];u=i.options.overloadTranslationOptionHandler([o,a].concat(d))}else u={...a};u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||s.keyPrefix);const f=i.options.keySeparator||".";let y;return u.keyPrefix&&Array.isArray(o)?y=o.map(w=>`${u.keyPrefix}${f}${w}`):y=u.keyPrefix?`${u.keyPrefix}${f}${o}`:o,i.t(y,u)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,u)=>{const c=this.services.backendConnector.state[`${a}|${u}`];return c===-1||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=ra();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=ra();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new $_(H_());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new hl(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ru;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new hl(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new U_(this.store.data,i),s.services.resourceStore=s.store),s.translator=new jc(s.services,i),s.translator.on("*",function(a){for(var u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const jt=hl.createInstance();jt.createInstance=hl.createInstance;jt.createInstance;jt.dir;jt.init;jt.loadResources;jt.reloadResources;jt.use;jt.changeLanguage;jt.getFixedT;jt.t;jt.exists;jt.setDefaultNamespace;jt.hasLoadedNamespace;jt.loadNamespaces;jt.loadLanguages;const nO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,rO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},iO=t=>rO[t],sO=t=>t.replace(nO,iO);let ap={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:sO};const oO=(t={})=>{ap={...ap,...t}},PO=()=>ap;let $S;const aO=t=>{$S=t},xO=()=>$S,lO={type:"3rdParty",init(t){oO(t.options.react),aO(t)}},uO={en:{translation:{"Our channel":"Our channel"}},ru:{translation:{"Our channel":" "}}};jt.use(lO).init({resources:uO,lng:"en",interpolation:{escapeValue:!1}});const cO={apiKey:"AIzaSyCcrWcEBknR9NoXZccEBBtqE-txTVOE4wo",authDomain:"tg-tapper.firebaseapp.com",projectId:"tg-tapper",storageBucket:"tg-tapper.appspot.com",messagingSenderId:"225925639303",appId:"1:225925639303:web:98cccb6ab6560edc929c22"},dO=mw(cO),Kn=XP(dO),Nf=new bL;Of.createRoot(document.getElementById("root")).render(U.jsx(VN,{store:jS,children:U.jsx(OD,{children:U.jsx(Kk,{router:DL})})}));export{gD as A,uL as B,TO as D,Lr as L,o_ as O,EO as P,s0 as R,wO as S,yi as _,KD as a,cL as b,Yh as c,RO as d,Nf as e,PO as f,W_ as g,xO as h,SO as i,U as j,yD as k,vD as l,ED as m,SD as n,V as r,IO as t,Jm as u};
